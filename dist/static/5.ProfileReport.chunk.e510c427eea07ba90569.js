webpackJsonp([5],{64:function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){var e,i=t.win,n=i.document,r=t.Chart,o=t.addEvent,s=t.removeEvent,a=t.fireEvent,l=t.createElement,h=t.discardElement,c=t.css,u=t.merge,d=t.each,p=t.extend,f=t.splat,m=Math.max,g=t.isTouchDevice,y=t.Renderer.prototype.symbols,v=t.getOptions();p(v.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),v.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:g?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},v.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e,i){var r,t=l("form",u({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},n.body);for(r in e)l("input",{type:"hidden",name:r,value:e[r]},null,t);t.submit(),h(t)},p(r.prototype,{sanitizeSVG:function(t){return t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var i,r,o,s,a,c=this,m=u(c.options,e),g=m.exporting.allowHTML;return n.createElementNS||(n.createElementNS=function(t,e){return n.createElement(e)}),r=l("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},n.body),o=c.renderTo.style.width,a=c.renderTo.style.height,o=m.exporting.sourceWidth||m.chart.width||/px$/.test(o)&&parseInt(o,10)||600,a=m.exporting.sourceHeight||m.chart.height||/px$/.test(a)&&parseInt(a,10)||400,p(m.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:o,height:a}),m.exporting.enabled=!1,delete m.data,m.series=[],d(c.series,function(t){s=u(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),s.isInternal||m.series.push(s)}),e&&d(["xAxis","yAxis"],function(t){d(f(e[t]),function(e,i){m[t][i]=u(m[t][i],e)})}),i=new t.Chart(m,c.callback),d(["xAxis","yAxis"],function(t){d(c[t],function(e,n){var r=i[t][n],o=e.getExtremes(),s=o.userMin,o=o.userMax;r&&(void 0!==s||void 0!==o)&&r.setExtremes(s,o,!0,!1)})}),o=i.getChartHTML(),m=null,i.destroy(),h(r),g&&(r=o.match(/<\/svg>(.*?$)/))&&(r='<foreignObject x="0" y="0" width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+r[1]+"</body></foreignObject>",o=o.replace("</svg>",r+"</svg>")),o=this.sanitizeSVG(o),o=o.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(t,e){var i=this.options.exporting;return this.getSVG(u({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))},exportChart:function(e,i){var n=this.getSVGForExport(e,i),e=u(this.options.exporting,e);t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale||2,svg:n},e.formAttributes)},print:function(){var t=this,e=t.container,r=[],o=e.parentNode,s=n.body,l=s.childNodes;t.isPrinting||(t.isPrinting=!0,t.pointer.reset(null,0),a(t,"beforePrint"),d(l,function(t,e){1===t.nodeType&&(r[e]=t.style.display,t.style.display="none")}),s.appendChild(e),i.focus(),i.print(),setTimeout(function(){o.appendChild(e),d(l,function(t,e){1===t.nodeType&&(t.style.display=r[e])}),t.isPrinting=!1,a(t,"afterPrint")},1e3))},contextMenu:function(t,e,i,r,a,h,u){var f,g,y,v=this,b=v.options.navigation,x=b.menuItemStyle,w=v.chartWidth,k=v.chartHeight,M="cache-"+t,_=v[M],P=m(a,h),S=function(e){v.pointer.inClass(e.target,t)||g()};_||(v[M]=_=l("div",{className:t},{position:"absolute",zIndex:1e3,padding:P+"px"},v.container),f=l("div",null,p({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},b.menuStyle),_),g=function(){c(_,{display:"none"}),u&&u.setState(0),v.openMenu=!1},o(_,"mouseleave",function(){y=setTimeout(g,500)}),o(_,"mouseenter",function(){clearTimeout(y)}),o(n,"mouseup",S),o(v,"destroy",function(){s(n,"mouseup",S)}),d(e,function(t){if(t){var e=t.separator?l("hr",null,null,f):l("div",{onmouseover:function(){c(this,b.menuItemHoverStyle)},onmouseout:function(){c(this,x)},onclick:function(e){e&&e.stopPropagation(),g(),t.onclick&&t.onclick.apply(v,arguments)},innerHTML:t.text||v.options.lang[t.textKey]},p({cursor:"pointer"},x),f);v.exportDivElements.push(e)}}),v.exportDivElements.push(f,_),v.exportMenuWidth=_.offsetWidth,v.exportMenuHeight=_.offsetHeight),e={display:"block"},i+v.exportMenuWidth>w?e.right=w-i-a-P+"px":e.left=i-P+"px",r+h+v.exportMenuHeight>k&&"top"!==u.alignOptions.verticalAlign?e.bottom=k-r-P+"px":e.top=r+h-P+"px",c(_,e),v.openMenu=!0},addButton:function(i){var n,r,o=this,s=o.renderer,a=u(o.options.navigation.buttonOptions,i),l=a.onclick,h=a.menuItems,c={stroke:a.symbolStroke,fill:a.symbolFill},d=a.symbolSize||12;if(o.btnCount||(o.btnCount=0),o.exportDivElements||(o.exportDivElements=[],o.exportSVGElements=[]),a.enabled!==!1){var f,m=a.theme,g=m.states,y=g&&g.hover,g=g&&g.select;delete m.states,l?f=function(t){t.stopPropagation(),l.call(o,t)}:h&&(f=function(){o.contextMenu(r.menuClassName,h,r.translateX,r.translateY,r.width,r.height,r),r.setState(2)}),a.text&&a.symbol?m.paddingLeft=t.pick(m.paddingLeft,25):a.text||p(m,{width:a.width,height:a.height,padding:0}),r=s.button(a.text,0,0,f,m,y,g).attr({title:o.options.lang[a._titleKey],"stroke-linecap":"round",zIndex:3}),r.menuClassName=i.menuClassName||"highcharts-menu-"+o.btnCount++,a.symbol&&(n=s.symbol(a.symbol,a.symbolX-d/2,a.symbolY-d/2,d,d).attr(p(c,{"stroke-width":a.symbolStrokeWidth||1,zIndex:1})).add(r)),r.add().align(p(a,{width:r.width,x:t.pick(a.x,e)}),!0,"spacingBox"),e+=(r.width+a.buttonSpacing)*("right"===a.align?-1:1),o.exportSVGElements.push(r,n)}},destroyExport:function(t){var e,i,t=t.target;for(e=0;e<t.exportSVGElements.length;e++)(i=t.exportSVGElements[e])&&(i.onclick=i.ontouchstart=null,t.exportSVGElements[e]=i.destroy());for(e=0;e<t.exportDivElements.length;e++)i=t.exportDivElements[e],s(i,"mouseleave"),t.exportDivElements[e]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,h(i)}}),y.menu=function(t,e,i,n){return["M",t,e+2.5,"L",t+i,e+2.5,"M",t,e+n/2+.5,"L",t+i,e+n/2+.5,"M",t,e+n-1.5,"L",t+i,e+n-1.5]},r.prototype.callbacks.push(function(t){var i,n=t.options.exporting,r=n.buttons;if(e=0,n.enabled!==!1){for(i in r)t.addButton(r[i]);o(t,"destroy",t.destroyExport)}})})},65:function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){function e(t,e){var i=r.getElementsByTagName("head")[0],n=r.createElement("script");n.type="text/javascript",n.src=t,n.onload=e,i.appendChild(n)}var i=t.win,n=i.navigator,r=i.document;t.CanVGRenderer={},t.Chart.prototype.exportChartLocal=function(o,s){var a,l,h,c,u,d=this,p=t.merge(d.options.exporting,o),f=n.userAgent.indexOf("WebKit")>-1&&n.userAgent.indexOf("Chrome")<0,m=p.scale||2,g=i.URL||i.webkitURL||i,y=0,v=function(){if(p.fallbackToExportServer===!1){if(!p.error)throw"Fallback to export server disabled";p.error()}else d.exportChart(p)},b=function(t,e,n,o,s,a,l){var h,c=new i.Image,u=function(){var i,o=r.createElement("canvas"),a=o.getContext&&o.getContext("2d");try{if(a){o.height=c.height*m,o.width=c.width*m,a.drawImage(c,0,0,o.width,o.height);try{i=o.toDataURL(),n(i,e)}catch(u){if("SecurityError"!==u.name&&"SECURITY_ERR"!==u.name&&"SecurityError"!==u.message)throw u;h(t,e)}}else s(t,e)}finally{l&&l(t,e)}},d=function(){a(t,e),l&&l(t,e)};h=function(){c=new i.Image,h=o,c.crossOrigin="Anonymous",c.onload=u,c.onerror=d,c.src=t},c.onload=u,c.onerror=d,c.src=t},x=function(t){try{if(!f&&n.userAgent.toLowerCase().indexOf("firefox")<0)return g.createObjectURL(new i.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(e){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)},w=function(t,e){var o,s=r.createElement("a"),a=(p.filename||"chart")+"."+e;if(n.msSaveOrOpenBlob)n.msSaveOrOpenBlob(t,a);else if(void 0!==s.download)s.href=t,s.download=a,s.target="_blank",r.body.appendChild(s),s.click(),r.body.removeChild(s);else try{if(o=i.open(t,"chart"),void 0===o||null===o)throw"Failed to open window"}catch(l){i.location.href=t}},k=function(){var o,s,l=d.sanitizeSVG(a.innerHTML);if(p&&"image/svg+xml"===p.type)try{n.msSaveOrOpenBlob?(s=new MSBlobBuilder,s.append(l),o=s.getBlob("image/svg+xml")):o=x(l),w(o,"svg")}catch(h){v()}else o=x(l),b(o,{},function(t){try{w(t,"png")}catch(e){v()}},function(){var o=r.createElement("canvas"),s=o.getContext("2d"),a=l.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*m,h=l.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*m,c=function(){s.drawSvg(l,0,0,a,h);try{w(n.msSaveOrOpenBlob?o.msToBlob():o.toDataURL("image/png"),"png")}catch(t){v()}};o.width=a,o.height=h,i.canvg?c():(d.showLoading(),e(t.getOptions().global.canvasToolsURL,function(){d.hideLoading(),c()}))},v,v,function(){try{g.revokeObjectURL(o)}catch(t){}})},M=function(t,e){++y,e.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),y===l.length&&k()};t.wrap(t.Chart.prototype,"getChartHTML",function(t){return a=this.container.cloneNode(!0),t.apply(this,Array.prototype.slice.call(arguments,1))}),d.getSVGForExport(p,s),l=a.getElementsByTagName("image");try{for(l.length||k(),c=0,u=l.length;c<u;++c)h=l[c],b(h.getAttributeNS("http://www.w3.org/1999/xlink","href"),{imageElement:h},M,v,v,v)}catch(_){v()}},t.getOptions().exporting.buttons.contextButton.menuItems=[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}}]})},119:function(t,e,i){var n,r,o=o||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=t.webkitRequestFileSystem,a=t.requestFileSystem||s||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},h="application/octet-stream",c=0,u=500,d=function(e){var n=function(){"string"==typeof e?i().revokeObjectURL(e):e.remove()};t.chrome?n():setTimeout(n,u)},p=function(t,e,i){e=[].concat(e);for(var n=e.length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,i||t)}catch(o){l(o)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},m=function(e,l,u){u||(e=f(e));var m,g,y,v=this,b=e.type,x=!1,w=function(){p(v,"writestart progress write writeend".split(" "))},k=function(){if(!x&&m||(m=i().createObjectURL(e)),g)g.location.href=m;else{var n=t.open(m,"_blank");void 0==n&&"undefined"!=typeof safari&&(t.location.href=m)}v.readyState=v.DONE,w(),d(m)},M=function(t){return function(){if(v.readyState!==v.DONE)return t.apply(this,arguments)}},_={create:!0,exclusive:!1};return v.readyState=v.INIT,l||(l="download"),r?(m=i().createObjectURL(e),n.href=m,n.download=l,void setTimeout(function(){o(n),w(),d(m),v.readyState=v.DONE})):(t.chrome&&b&&b!==h&&(y=e.slice||e.webkitSlice,e=y.call(e,0,e.size,h),x=!0),s&&"download"!==l&&(l+=".download"),(b===h||s)&&(g=t),a?(c+=e.size,void a(t.TEMPORARY,c,M(function(t){t.root.getDirectory("saved",_,M(function(t){var i=function(){t.getFile(l,_,M(function(t){t.createWriter(M(function(i){i.onwriteend=function(e){g.location.href=t.toURL(),v.readyState=v.DONE,p(v,"writeend",e),d(t)},i.onerror=function(){var t=i.error;t.code!==t.ABORT_ERR&&k()},"writestart progress write abort".split(" ").forEach(function(t){i["on"+t]=v["on"+t]}),i.write(e),v.abort=function(){i.abort(),v.readyState=v.DONE},v.readyState=v.WRITING}),k)}),k)};t.getFile(l,{create:!1},M(function(t){t.remove(),i()}),M(function(t){t.code===t.NOT_FOUND_ERR?i():k()}))}),k)}),k)):void k())},g=m.prototype,y=function(t,e,i){return new m(t,e,i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return i||(t=f(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(g.abort=function(){var t=this;t.readyState=t.DONE,p(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=o:null!==i(1211)&&null!=i(1212)&&(n=[],r=function(){return o}.apply(e,n),!(void 0!==r&&(t.exports=r)))},121:function(t,e,i){!function(e,n){t.exports=n(i(1),i(1067))}(this,function(t,e){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(3)},function(e,i){e.exports=t},function(t,e,i){(function(e){"use strict";function n(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=i(1),s="undefined"==typeof e?window:e;t.exports=function(e,i){var a="Highcharts"+e,l=o.createClass({displayName:a,propTypes:{config:o.PropTypes.object.isRequired,isPureConfig:o.PropTypes.bool,neverReflow:o.PropTypes.bool,callback:o.PropTypes.func},defaultProps:{callback:function(){}},renderChart:function(t){var n=this;if(!t)throw new Error("Config must be specified for the "+a+" component");var o=t.chart;this.chart=new i[e](r({},t,{chart:r({},o,{renderTo:this.refs.chart})}),this.props.callback),this.props.neverReflow||s.requestAnimationFrame&&requestAnimationFrame(function(){n.chart&&n.chart.options&&n.chart.reflow()})},shouldComponentUpdate:function(t){return!!(t.neverReflow||t.isPureConfig&&this.props.config===t.config)||(this.renderChart(t.config),!1)},getChart:function(){if(!this.chart)throw new Error("getChart() should not be called before the component is mounted");return this.chart},componentDidMount:function(){this.renderChart(this.props.config)},componentWillUnmount:function(){this.chart.destroy()},render:function(){var t=this.props,e=(t.callback,t.config,t.isPureConfig,t.neverReflow,n(t,["callback","config","isPureConfig","neverReflow"]));return e=r({},e,{ref:"chart"}),o.createElement("div",e)}});return l.Highcharts=i,l.withHighcharts=function(i){return t.exports(e,i)},l}}).call(e,function(){return this}())},function(t,e,i){"use strict";t.exports=i(2)("Chart",i(4))},function(t,i){t.exports=e}])})},135:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.reportStatus={empty:"Wait For Load",loading:"Loading ...",reload:"Wait For Reload",succ:"Load Success",fail_fetch:"Fetch Error",fail_server:"Server Response Error",fail_data_type:"Data Type Does't Support",fail_data_process:"Data Process Error"}},136:function(t,e,i){var n;!function(r){"use strict";var o=r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype,s=r.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),a=s&&r.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),l=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,h=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,c=(s||l)&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&function(t){var e,i,n,r,o,c,u,d,p;if(e=t.match(h),!e)throw new Error("invalid data URI");for(i=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),n=!!e[4],r=t.slice(e[0].length),o=n?atob(r):decodeURIComponent(r),c=new ArrayBuffer(o.length),u=new Uint8Array(c),d=0;d<o.length;d+=1)u[d]=o.charCodeAt(d);return s?new Blob([a?u:c],{type:i}):(p=new l,p.append(c),p.getBlob(i))};r.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(t,e,i){t(i&&o.toDataURL&&c?c(this.toDataURL(e,i)):this.mozGetAsFile("blob",e))}:o.toDataURL&&c&&(o.toBlob=function(t,e,i){t(c(this.toDataURL(e,i)))})),n=function(){return c}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(window)},159:function(t,e,i){var n=i(945);"string"==typeof n&&(n=[[t.id,n,""]]);i(14)(n,{});n.locals&&(t.exports=n.locals)},265:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(5),u=n(c),d=i(316),p=n(d),f=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){return h["default"].createElement("div",{className:"inline",style:this.props.style},h["default"].createElement("div",{styleName:"loading"},h["default"].createElement("div",null,h["default"].createElement("div",{styleName:"c1"}),h["default"].createElement("div",{styleName:"c2"}),h["default"].createElement("div",{styleName:"c3"}),h["default"].createElement("div",{styleName:"c4"})),h["default"].createElement("span",{className:"fs14 text-center"},"Loading")))}}]),e}(l.Component);f.propTypes={style:h["default"].PropTypes.object},f.defaultProps={style:{}},e["default"]=(0,u["default"])(f,p["default"])},268:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(26),u=i(5),d=n(u),p=i(318),f=n(p),m=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props.selectedKeys[0];return h["default"].createElement("div",{className:"full",style:this.props.style},h["default"].createElement("ul",{styleName:"subHeader",className:"full"},this.props.menuItems.map(function(e){return h["default"].createElement("li",{key:e.key,className:"full-height",styleName:t===e.key?"menu-item-selected":"menu-item"},h["default"].createElement(c.Link,{className:"full inline fs16 fc-light",to:e.link},h["default"].createElement("span",null,e.name)))})))}}]),e}(l.Component);m.propTypes={menuItems:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({key:h["default"].PropTypes.string.isRequired,name:h["default"].PropTypes.string.isRequired,link:h["default"].PropTypes.string.isRequired})),selectedKeys:h["default"].PropTypes.arrayOf(h["default"].PropTypes.string),style:h["default"].PropTypes.object},m.defaultProps={menuItems:[],selectedKeys:[],style:{}},e["default"]=(0,d["default"])(m,f["default"])},275:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(17),u=i(5),d=n(u),p=i(159),f=n(p),m=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,e=t.title,i=t.header,n=t.data,r=t.footer;return h["default"].createElement("div",null,h["default"].createElement("div",{className:"bg-grey fs14 fc-dark border-style",style:{padding:"5px 30px",background:"#EDF1F3",borderWidth:"1px",borderBottomWidth:0}},e),h["default"].createElement("div",{className:"border-style",style:{padding:"15px 5% 0",borderWidth:"1px"},styleName:"table"},h["default"].createElement("table",{styleName:"table1",style:{marginBottom:"5px"}},h["default"].createElement("thead",null,h["default"].createElement("tr",{styleName:"tr"},h["default"].createElement("th",{styleName:"th"},i[0]),h["default"].createElement("th",{styleName:"th"},i[1]))),h["default"].createElement("tbody",null,n.map(function(t){return h["default"].createElement("tr",{styleName:"tr",key:t.key},h["default"].createElement("td",{styleName:"td"},t.render?t.render(t):t.name),h["default"].createElement("td",{styleName:"td"},(0,c.getReadablePercent)(t.value)))}))),h["default"].createElement("table",{styleName:"table1",style:{marginBottom:"15px"}},h["default"].createElement("tfoot",null,h["default"].createElement("tr",{styleName:"tr"},h["default"].createElement("td",{styleName:"td"},r[0]),h["default"].createElement("td",{styleName:"td"},(0,c.getReadablePercent)(r[1])))))))}}]),e}(l.Component);m.propTypes={title:h["default"].PropTypes.string,header:h["default"].PropTypes.arrayOf(h["default"].PropTypes.string),data:h["default"].PropTypes.array,footer:h["default"].PropTypes.arrayOf(h["default"].PropTypes.oneOfType([h["default"].PropTypes.string,h["default"].PropTypes.number]))},m.defaultProps={},e["default"]=(0,d["default"])(m,f["default"])},276:function(t,e){"use strict";function i(t){return"__scroll__"+t}function n(t){return t.replace(/__scroll__/,"")}Object.defineProperty(e,"__esModule",{value:!0}),e.encodeName=i,e.decodeName=n},279:function(t,e,i){e=t.exports=i(13)(),e.push([t.id,".style__loading___2rOf-{width:100px;height:100px;opacity:.9;position:relative}.style__loading___2rOf->div{width:60px;height:60px;position:absolute;left:50%;margin-left:-30px;top:50%;margin-top:-30px}.style__loading___2rOf->div>div{content:'';position:absolute;width:16px;height:16px;background:rgba(47,164,255,.8);top:10px;left:10px;transform-origin:20px 20px;border-radius:8px;animation:style__spin-a___2tEhZ 2s infinite cubic-bezier(.5,0,.5,1)}.style__loading___2rOf->div>.style__c2___1TMeY{top:10px;left:auto;right:10px;transform-origin:-4px 20px;animation:style__spin-b___2Aajd 2s infinite cubic-bezier(.5,0,.5,1)}.style__loading___2rOf->div>.style__c3___37aa7{top:auto;left:auto;right:10px;bottom:10px;transform-origin:-4px -4px;animation:style__spin-c___1H0d6 2s infinite cubic-bezier(.5,0,.5,1)}.style__loading___2rOf->div>.style__c4___2fNvs{top:auto;bottom:10px;transform-origin:20px -4px;animation:style__spin-d___R2dO6 2s infinite cubic-bezier(.5,0,.5,1)}@-webkit-keyframes style__spin-a___2tEhZ{0%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@-webkit-keyframes style__spin-b___2Aajd{0%{transform:rotate(90deg)}25%{transform:rotate(90deg)}25%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@-webkit-keyframes style__spin-c___1H0d6{0%{transform:rotate(90deg)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}50%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@-webkit-keyframes style__spin-d___R2dO6{0%{transform:rotate(90deg)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@keyframes style__spin-a___2tEhZ{0%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@keyframes style__spin-b___2Aajd{0%{transform:rotate(90deg)}25%{transform:rotate(90deg)}25%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@keyframes style__spin-c___1H0d6{0%{transform:rotate(90deg)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}50%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@keyframes style__spin-d___R2dO6{0%{transform:rotate(90deg)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}.style__loading___2rOf->span{width:100px;height:30px;position:absolute;left:50%;margin-left:-50px;top:50%;margin-top:30px;color:rgba(47,164,255,.8)}.style__content___3_rz5{padding:1.5em}",""]),e.locals={loading:"style__loading___2rOf-","spin-a":"style__spin-a___2tEhZ",c1:"style__c1___13SUQ",c2:"style__c2___1TMeY","spin-b":"style__spin-b___2Aajd",c3:"style__c3___37aa7","spin-c":"style__spin-c___1H0d6",c4:"style__c4___2fNvs","spin-d":"style__spin-d___R2dO6",content:"style__content___3_rz5"}},281:function(t,e,i){e=t.exports=i(13)(),e.push([t.id,".SubNav__subHeader___1OfjA,.SubNav__subHeader___1OfjA *{box-sizing:border-box}.SubNav__subHeader___1OfjA{overflow:hidden}.SubNav__subHeader___1OfjA .SubNav__menu-item-selected___3w5nN,.SubNav__subHeader___1OfjA .SubNav__menu-item___3iYsF{display:inline-block;width:150px;text-align:center;border-bottom:2px solid #fff}.SubNav__subHeader___1OfjA .SubNav__menu-item-selected___3w5nN a,.SubNav__subHeader___1OfjA .SubNav__menu-item___3iYsF a{position:relative}.SubNav__subHeader___1OfjA .SubNav__menu-item-selected___3w5nN a span,.SubNav__subHeader___1OfjA .SubNav__menu-item___3iYsF a span{position:absolute;left:0;bottom:3px;width:100%}.SubNav__subHeader___1OfjA .SubNav__menu-item-selected___3w5nN a{color:#333}.SubNav__subHeader___1OfjA .SubNav__menu-item-selected___3w5nN{border-bottom:2px solid #2fa4ff}",""]),e.locals={subHeader:"SubNav__subHeader___1OfjA","menu-item":"SubNav__menu-item___3iYsF","menu-item-selected":"SubNav__menu-item-selected___3w5nN"}},316:function(t,e,i){var n=i(279);"string"==typeof n&&(n=[[t.id,n,""]]);i(14)(n,{});n.locals&&(t.exports=n.locals)},318:function(t,e,i){var n=i(281);"string"==typeof n&&(n=[[t.id,n,""]]);i(14)(n,{});n.locals&&(t.exports=n.locals)},375:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(822),u=n(c),d=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.state={provinceMapData:null,geoStore:null},i.loadMap=i.loadMap.bind(i),i}return s(e,t),a(e,[{key:"componentWillMount",value:function(){this.loadMap()}},{key:"loadMap",value:function(){var t=this;i.e(11,function(e){var n=i(796),r=new u["default"](i(797));t.setState({provinceMapData:n,geoStore:r})})}},{key:"render",value:function(){return h["default"].createElement("div",{className:"text-center",style:{background:"pink"}}," Please use a concrete Map Class ")}}]),e}(l.Component);e["default"]=d},376:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var i=arguments.length<=2||void 0===arguments[2]?{save:!0,filename:"未命名",width:"1200px",height:"800px"}:arguments[2],n=i.width,r=i.height,o=document.createElement("canvas");o.width=n,o.height=r;var h=o.getContext("2d");h.beginPath(),h.rect(0,0,n,r),h.fillStyle="white",h.fill();var c=t.getSVG(),u=(0,l.svg2img)(c,{width:n/2,height:r}),d=e.getSVG(),p=(0,l.svg2img)(d,{width:n/2,height:r});return h.drawImage(u,0,0),h.drawImage(p,n/2,0),i.save?(0,a.saveAs)((0,s["default"])(o.toDataURL()),i.filename):o}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=i(136),s=n(o),a=i(119),l=i(17)},377:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Section=i(832)["default"],e.Link=i(831)["default"],e.Wrapper=i(833)["default"]},380:function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function s(t,e,i,n,r,s){var a=n.result.data;a.key=""+a.id;var l=r.result.data;l.key=""+l.id;var h=[{key:"predefined",name:"预设用户集",valuePool:t.result.map(function(t){return d({},t,{key:""+t.id,source:"predefined"})})},{key:"customized",
name:"我的用户集",valuePool:e.result.filter(function(t){return"predefined"!==t.source}).slice(0,20).map(function(t){return d({},t,{key:""+t.id})})}],c=new Map;i.result.forEach(function(t){t.valuePool.forEach(function(t){c.set(""+t.id,t)})});var p=new Map,f=new Map;a.tags.split(",").forEach(function(t){var e=c.get(t);e&&(p.has(e.type)||p.set(e.type,[]),p.get(e.type).push(e))});var m=[],y=null;p.forEach(function(t,e){y||(y=t[0]),m.push({key:e,name:e,valuePool:t}),t.forEach(function(t){f.set(t.key,t)})});var v=g["default"].OrderedMap([].concat(o(f.keys())).map(function(t){return[t,k.reportStatus.empty]})),b=s.split(";").filter(function(t){return""!==t}).map(function(t){var e=t.split("||"),i=u(e,2),n=i[0],r=i[1],o=r.split("::"),s=u(o,2),a=s[0],l=s[1];return{property:f.get(n),key:a,id:l}}),x=a.name+"画像"+b.map(function(t){return"-"+t.property.name+t.key.split("::")[0]}).join("");return{baseUserSet:a,compareUserSet:l,userSetValuePool:h,propertiesValuePool:m,key2PropMap:f,activeProperty:y,reportDataSource:v,diamond:b,title:x}}function a(t,e,i,n,r){var o=n.display;if(!C[o.table])return{status:k.reportStatus.fail_data_type};try{return{status:k.reportStatus.succ,result:C[o.table](t,e,i,n,r)}}catch(s){return{status:k.reportStatus.fail_data_process,error:s}}}function l(t){return t&&t!==k.reportStatus.empty&&t!==k.reportStatus.loading?"string"==typeof t?{dataID:t,data:t}:t.toJS():null}function h(t){var e=t.toJS(),i=e.propertiesValuePool,n=e.baseUserSet,r=e.compareUserSet,o=t.get("reportDataSource"),s=[];return i.forEach(function(t){t.valuePool.forEach(function(t){var e=l(o.get(t.key));s.push(f["default"].createElement(T,{className:"bottom-border",id:""+t.key,ref:""+t.key,key:""+t.key,name:""+t.key,loading:null===e},f["default"].createElement("div",{style:{margin:"25px 2%"},className:"bg-white"},f["default"].createElement(w["default"],{dataSource:e,property:t,baseUserSet:n,compareUserSet:r}))))})}),s}function c(t,e,i){var n=[],r=!0,s=!1,a=void 0;try{for(var l,h=e[Symbol.iterator]();!(r=(l=h.next()).done);r=!0){var c=u(l.value,2),d=c[0],p=c[1],f=i.get(d);"string"==typeof p?n.push([f.name,p]):A[f.display.table]&&n.push.apply(n,o(A[f.display.table](f.name,p.get("data").toJS()))),n.push([])}}catch(m){s=!0,a=m}finally{try{!r&&h["return"]&&h["return"]()}finally{if(s)throw a}}(0,P.saveAs)(new Blob([_["default"].unparse(n)],{type:"text/csv;charset=utf-8"}),t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(l){r=!0,o=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.processInitializion=s,e.convertReportData=a,e.getPageElements=h,e.saveReportData=c;var p=i(1),f=r(p),m=i(12),g=r(m),y=i(377),v=n(y),b=i(26),x=i(811),w=r(x),k=i(135),M=i(1055),_=r(M),P=i(119),S=i(54),T=v.Section,C={table1:function(t,e,i,n,r){if(!t)return null;var o=-1;t.user.datas.forEach(function(t){t.key.length>o&&(o=t.key.length)}),o>20?o=o/3+"em":o+="em";var s=r.map(function(t){return t.property.key+"||"+t.key+"::"+t.id+";"}).join(""),a={name:e.name,value:t.user.datas.map(function(i){return{key:i.key,name:i.key.split("::")[0],value:i.value/(t.user.count-t.user.unknown),render:t.user.datas.length<2?void 0:function(t){var i="tmp-diamaond-key-"+(new Date).getTime();return f["default"].createElement("div",null,f["default"].createElement("span",{className:"inline",style:{width:o,maxWidth:"80%",marginRight:"10px"}},t.name),f["default"].createElement(b.Link,{to:{pathname:"/user-profile/report/diamond",query:{id:e.id,storageKey:i}},target:"_blank",onClick:function(){localStorage.setItem(i,""+s+n.key+"||"+t.key)}},f["default"].createElement("i",{className:"fa fa-arrow-circle-o-down fc-blue fs12","aria-hidden":"true"})))}}}),unknown:{key:"unknown",name:"无覆盖",value:t.user.unknown/t.user.count}},l=new Map(t.to.datas.map(function(t){return[t.key,t]})),h={name:i.name,value:a.value.map(function(e){if(!l.has(e.key))return{key:e.key,name:e.name,value:0};var i=l.get(e.key),n=i.key,r=i.value;return{key:n,name:n.split("::")[0],value:r/(t.to.count-t.to.unknown)}}),unknown:{key:"unknown",name:"无覆盖",value:t.to.unknown/t.to.count}},c=e.id+"-"+i.id+"-"+n.key+"-"+(new Date).getTime();return{dataID:c,data:[a,h]}},table3:function(t,e,i,n,r){var o=C.table1(t,e,i,n,r);return o.data.push({name:"Top20 APP排行榜 ("+e.name+")",value:t.app.slice(0,20).map(function(t,e){return{key:t.key,name:t.name,value:e+1,render:function(t){return f["default"].createElement(S,{title:t.key},f["default"].createElement("span",null,t.name))}}})}),o},table4:function(t,e,i,n,r){var o=e.id+"-"+i.id+"-"+n.key+"-"+(new Date).getTime();return{dataID:o,data:[{name:e.name+" Top50",value:t.top.map(function(t){return Object.assign({},t,{data:void 0,value:t.data/100,render:function(){return f["default"].createElement(S,{title:t.key},f["default"].createElement("span",null,t.name))}})})},{name:e.name+" Bottom50",value:t.bottom.map(function(t){return Object.assign({},t,{data:void 0,value:t.data/100,render:function(){return f["default"].createElement(S,{title:t.key},f["default"].createElement("span",null,t.name))}})})}]}},table5:function(t,e,i,n,r){var o=C.table1(t,e,i,n,r);return o.data.push({name:"Arup值",value:[d({},t.arup,{proportion:t.arup.proportion+"%",key:e.name,name:e.name}),d({},t.arup2,{proportion:t.arup2.proportion+"%",key:i.name,name:i.name})]}),o}},A={table1:function(t,e){var i=[t],n=[e[0].name],r=[e[1].name];return e[0].value.forEach(function(t,o){i.push(t.name),n.push(t.value),r.push(e[1].value[o].value)}),[i,n,r]}}},510:function(t,e,i){!function(e,n){t.exports=n(i(1),i(1068))}(this,function(t,e){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(5)},function(e,i){e.exports=t},function(t,e,i){(function(e){"use strict";function n(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=i(1),s="undefined"==typeof e?window:e;t.exports=function(e,i){var a="Highcharts"+e,l=o.createClass({displayName:a,propTypes:{config:o.PropTypes.object.isRequired,isPureConfig:o.PropTypes.bool,neverReflow:o.PropTypes.bool,callback:o.PropTypes.func},defaultProps:{callback:function(){}},renderChart:function(t){var n=this;if(!t)throw new Error("Config must be specified for the "+a+" component");var o=t.chart;this.chart=new i[e](r({},t,{chart:r({},o,{renderTo:this.refs.chart})}),this.props.callback),this.props.neverReflow||s.requestAnimationFrame&&requestAnimationFrame(function(){n.chart&&n.chart.options&&n.chart.reflow()})},shouldComponentUpdate:function(t){return!!(t.neverReflow||t.isPureConfig&&this.props.config===t.config)||(this.renderChart(t.config),!1)},getChart:function(){if(!this.chart)throw new Error("getChart() should not be called before the component is mounted");return this.chart},componentDidMount:function(){this.renderChart(this.props.config)},componentWillUnmount:function(){this.chart.destroy()},render:function(){var t=this.props,e=(t.callback,t.config,t.isPureConfig,t.neverReflow,n(t,["callback","config","isPureConfig","neverReflow"]));return e=r({},e,{ref:"chart"}),o.createElement("div",e)}});return l.Highcharts=i,l.withHighcharts=function(i){return t.exports(e,i)},l}}).call(e,function(){return this}())},,,function(t,e,i){"use strict";t.exports=i(2)("Map",i(8))},,,function(t,i){t.exports=e}])})},562:function(t,e,i){var n=i(941);"string"==typeof n&&(n=[[t.id,n,""]]);i(14)(n,{});n.locals&&(t.exports=n.locals)},804:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.state={collapse:!1},i.togglePanel=i.togglePanel.bind(i),i}return s(e,t),a(e,[{key:"componentWillMount",value:function(){this.setState({collapse:this.props.defalutCollpase})}},{key:"togglePanel",value:function(){var t=!this.state.collapse;this.setState({collapse:t}),this.props.onChange(t)}},{key:"render",value:function(){var t=this.props,e=t.maxHeight,i=t.style,n=this.state.collapse;return h["default"].createElement("div",{style:i},h["default"].createElement("div",{className:"max-height-transition",style:{maxHeight:n?0:e,overflow:"hidden"}},this.props.children),h["default"].createElement("div",{onClick:this.togglePanel,className:"text-center bottom-border pointer"},n?h["default"].createElement("i",{className:"fa fa-angle-down fa-2x","aria-hidden":"true"}):h["default"].createElement("i",{className:"fa fa-angle-up fa-2x","aria-hidden":"true"})))}}]),e}(l.Component);c.propTypes={defalutCollpase:h["default"].PropTypes.bool,maxHeight:h["default"].PropTypes.string,children:h["default"].PropTypes.element,onChange:h["default"].PropTypes.func,style:h["default"].PropTypes.object},c.defaultProps={defalutCollpase:!1,maxHeight:"1000px",onChange:function(t){return t},style:{}},e["default"]=c},806:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=(i(26),i(807)),u=n(c),d=i(5),p=n(d),f=i(562),m=n(f),g=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.handleUserSetSelection=i.handleUserSetSelection.bind(i),i.handlePropertySelection=i.handlePropertySelection.bind(i),i}return s(e,t),a(e,[{key:"handleUserSetSelection",value:function(t){this.props.onUserSetChange(t)}},{key:"handlePropertySelection",value:function(t){this.props.onPropertyChange(t)}},{key:"render",value:function(){var t=this.props,e=t.selectedUserSet,i=t.selectedProperty,n=t.propertiesValuePool,r=t.userSetValuePool;return h["default"].createElement("div",{style:{padding:"25px 5% 0"}},h["default"].createElement("section",{style:{marginBottom:"30px"}},h["default"].createElement("div",{className:"fix-left-column-wrapper"},h["default"].createElement("div",{className:"fix-left-column fs14 text-center fc-dark",style:{paddingTop:"3px"}},"对比集选择"),h["default"].createElement(u["default"],{selectedItem:e,selectedCategoryKey:"predefined"===e.source?"predefined":"customized",valuePool:r,onSelect:this.handleUserSetSelection}))),h["default"].createElement("section",{style:{marginBottom:"20px"}},h["default"].createElement("div",{className:"fix-left-column-wrapper"},h["default"].createElement("div",{className:"fix-left-column fs14 text-center fc-dark",style:{paddingTop:"3px"}},"属性跳转"),h["default"].createElement(u["default"],{selectedItem:i,selectedCategoryKey:(i||{}).type,valuePool:n,onSelect:this.handlePropertySelection}))))}}]),e}(l.Component);g.propTypes={selectedUserSet:h["default"].PropTypes.shape({key:h["default"].PropTypes.string.isRequired}),selectedProperty:h["default"].PropTypes.shape({key:h["default"].PropTypes.string.isRequired}),onUserSetChange:h["default"].PropTypes.func,onPropertyChange:h["default"].PropTypes.func,propertiesValuePool:h["default"].PropTypes.array,userSetValuePool:h["default"].PropTypes.array},g.defaultProps={selectedUserSet:{key:""},selectedProperty:{key:""},onUserSetChange:function(t){return t},onPropertyChange:function(t){return t}},e["default"]=(0,p["default"])(g,m["default"])},807:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(5),u=n(c),d=i(562),p=n(d),f=i(268),m=(n(f),function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.state={selectedCategoryKey:""},i.handleSelectCategory=i.handleSelectCategory.bind(i),i.handleSelect=i.handleSelect.bind(i),i}return s(e,t),a(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({selectedCategoryKey:t.selectedCategoryKey})}},{key:"handleSelectCategory",value:function(t){this.setState({selectedCategoryKey:t.key})}},{key:"handleSelect",value:function(t){t.onClick&&t.onClick(),this.props.onSelect(t)}},{key:"render",value:function(){var t=this,e=this.props,i=e.selectedItem,n=e.valuePool,r=this.state.selectedCategoryKey;return h["default"].createElement("div",null,h["default"].createElement("div",{style:{postion:"relative",marginBottom:"10px"}},h["default"].createElement("div",{style:{position:"relative",bottom:"-1px"}},n.map(function(e){return h["default"].createElement("div",{key:e.key,className:"border-style-blue inline text-center pointer fs14 "+(r===e.key?"fc-dark":"fc-light"),styleName:"nav-menu",style:{minWidth:"110px",borderWidth:0,paddingBottom:"5px",marginBottom:"5px",borderBottomWidth:"2px",borderBottomColor:r===e.key?"":"transparent"},onClick:t.handleSelectCategory.bind(null,e)},e.render?e.render(e):e.name)})),h["default"].createElement("div",{className:"bottom-border",style:{position:"relative",bottom:"4px"}})),h["default"].createElement("div",null,n.map(function(e){return e.key!==r?null:e.valuePool.map(function(e){return h["default"].createElement("div",{key:e.key,className:""+(i.key===e.key?"btn-theme1 fs12":"btn fc-light fs12"),onClick:t.handleSelect.bind(null,e),style:{minWidth:"100px",padding:"3px 5px",marginBottom:"10px"}},e.render?e.render(e):e.name)})})))}}]),e}(l.Component));m.propTypes={selectedItem:h["default"].PropTypes.shape({key:h["default"].PropTypes.string.isRequired}),valuePool:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({key:h["default"].PropTypes.string.isRequired,name:h["default"].PropTypes.string.isRequired,valuePool:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({key:h["default"].PropTypes.string.isRequired,name:h["default"].PropTypes.string.isRequired}))})),onSelect:h["default"].PropTypes.func},m.defaultProps={selectedItem:{key:""},valuePool:[],onSelect:function(t){return t}},e["default"]=(0,u["default"])(m,p["default"])},810:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(20),u=n(c),d=i(19),p=n(d),f=i(54),m=n(f),g=i(814),y=n(g),v=i(815),b=n(v),x=i(818),w=n(x),k=i(819),M=n(k),_=i(816),P=n(_),S=i(813),T=n(S),C=i(817),A=n(C),E=i(820),O=n(E),L=i(937),I=n(L),D={column:y["default"],pie:b["default"],stack:M["default"],ring:w["default"],polar:P["default"],map_province:A["default"],map_city:T["default"],word_cloud:O["default"]},R={column:h["default"].createElement("i",{className:"fa fa-bar-chart","aria-hidden":"true"}),pie:h["default"].createElement("i",{className:"fa fa-pie-chart","aria-hidden":"true"}),stack:h["default"].createElement("i",{className:"fa fa-align-left","aria-hidden":"true"}),ring:h["default"].createElement("i",{className:"fa fa-circle-o-notch","aria-hidden":"true"}),polar:h["default"].createElement("i",{className:"fa fa-yelp","aria-hidden":"true"}),map_province:h["default"].createElement("i",{className:"fa fa-life-ring","aria-hidden":"true"}),map_city:h["default"].createElement("i",{className:"fa fa-dot-circle-o","aria-hidden":"true"}),word_cloud:h["default"].createElement("i",{className:"fa fa-cloud","aria-hidden":"true"})},N=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.state={activeChartType:"column"},i.switchChartType=i.switchChartType.bind(i),i.handleImageDownload=i.handleImageDownload.bind(i),i.getCanvas=i.getCanvas.bind(i),i}return s(e,t),a(e,[{key:"componentWillMount",value:function(){this.setState({activeChartType:this.props.chartTypes[0]})}},{key:"componentWillReceiveProps",value:function(t){this.props.chartTypes.join("")!==t.chartTypes.join("")&&this.setState({activeChartType:t.chartTypes[0]})}},{key:"getCanvas",value:function(){return this.refs.chart.getCanvas()}},{key:"switchChartType",value:function(t){this.setState({activeChartType:t})}},{key:"handleImageDownload",value:function(){this.refs.chart.handleImageDownload()}},{key:"render",value:function(){var t=this,e=this.props,i=e.data,n=e.baseName,r=e.compareName,o=e.propName,s=e.chartTypes,a=e.typeName,l=this.state.activeChartType,c=D[l],d=(0,I["default"])(a,o),f=d.description,g=d.updatePeriod,y=d.limitation;return h["default"].createElement("section",null,h["default"].createElement("header",{style:{margin:"15px 0"}},h["default"].createElement(u["default"],null,h["default"].createElement(p["default"],{span:4},h["default"].createElement("div",{className:"inline fs14 fc-dark",style:{marginLeft:"30px"}},o,h["default"].createElement("span",null,f||g||y?h["default"].createElement(m["default"],{title:h["default"].createElement("div",null,h["default"].createElement("div",null,f),g?h["default"].createElement("div",null,"更新周期:",g):"",y?h["default"].createElement("div",null,"时效:",y):"")},h["default"].createElement("i",{className:"fa fa-question-circle","aria-hidden":"true",style:{padding:"0 10px 0 5px",color:"#D4D4D4"}})):""))),h["default"].createElement(p["default"],{span:20},h["default"].createElement("div",{className:"text-right"},"column"!==l?null:h["default"].createElement("div",{className:"inline-mid",style:{marginRight:"20px"}},h["default"].createElement("div",{className:"inline-mid",style:{marginRight:"20px"}},h["default"].createElement("span",{className:"inline-mid chart-legend",style:{background:"#5FB9FF"}}),h["default"].createElement("span",{className:"inline-mid"},n)),h["default"].createElement("div",{className:"inline-mid inline-mid"},h["default"].createElement("span",{className:"inline-mid chart-legend",style:{background:"#84DEE1"}}),h["default"].createElement("span",{className:"inline-mid"},r))),h["default"].createElement("div",{className:"inline-mid btn-group",style:{margin:"0 20px"}},s.map(function(e){return h["default"].createElement("div",{key:e,className:e===l?"btn btn-theme13":"btn btn-theme12",style:{padding:"2px 4px",width:"30px"},onClick:t.switchChartType.bind(null,e)},R[e]||e)})),h["default"].createElement("div",{className:"inline-mid fc-blue pointer"},h["default"].createElement("i",{className:"fa fa-camera fs16 inline-mid",onClick:this.handleImageDownload,style:{marginRight:"5px"}}),h["default"].createElement("span",{className:"inline-mid"},"下载图表")))))),h["default"].createElement("section",{style:{height:"420px"}},"polar"===l?h["default"].createElement(c,null):h["default"].createElement(c,{data:i,ref:"chart",propName:o,baseName:n,compareName:r})))}}]),e}(l.Component);N.propTypes={data:h["default"].PropTypes.array,propName:h["default"].PropTypes.string,baseName:h["default"].PropTypes.string,compareName:h["default"].PropTypes.string,chartTypes:h["default"].PropTypes.arrayOf(h["default"].PropTypes.oneOf(["column","pie","stack","ring","polar","map_province","map_city","word_cloud"])),typeName:h["default"].PropTypes.string},N.defaultProps={data:[{name:"",value:[]},{name:"",value:[]}],chartTypes:["column","pie","stack","ring","polar","map_province","map_city","word_cloud"]},e["default"]=N},811:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(810),u=n(c),d=i(812),p=n(d),f=i(265),m=n(f),g=i(964),y=n(g),v=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.state={data:void 0,dataID:"0"},i.getCanvas=i.getCanvas.bind(i),i}return s(e,t),a(e,[{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.compareUserSet,i=t.compareUserSet;this.state.chartData&&e&&i&&e.key===i.key||this.setState({data:this.parseDataSource(t.dataSource),dataID:t.dataSource?t.dataSource.dataID:"0"})}},{key:"shouldComponentUpdate",value:function(t,e){return this.state.dataID!==e.dataID}},{key:"getCanvas",value:function(){var t=this;this.refs.table&&(0,y["default"])(this.refs.table,{onrendered:function(e){t.refs.canvas.appendChild(e)}})}},{key:"parseDataSource",value:function(t){if(t)return t.data}},{key:"handleDownload",value:function(){this.refs.chart.getCanvas()}},{key:"render",value:function(){var t=this.props,e=t.property,i=t.baseUserSet,n=t.compareUserSet;return this.state.data?"string"==typeof this.state.data?h["default"].createElement("div",{style:{height:"500px"}},h["default"].createElement("div",{className:"vertical-center text-center fs16 fc-light"},h["default"].createElement("p",{style:{marginBottom:"15px"}},"呃．．．抱歉，出错了"),h["default"].createElement("p",null,"请稍后再试．．．"))):h["default"].createElement("div",{ref:"container"},h["default"].createElement("div",{ref:"canvas"}),h["default"].createElement("header",{style:{padding:"15px 2% 0 2%"}},h["default"].createElement("div",{className:"fs16 fc-dark border-style-blue",style:{borderWidth:0,borderLeftWidth:"3px",padding:"2px 0 2px 10px"}},h["default"].createElement("div",{className:"bottom-border"},""+e.type))),h["default"].createElement("section",{style:{padding:"0 2%"}},h["default"].createElement(u["default"],{ref:"chart",data:this.state.data.slice(0,2),baseName:i.name,compareName:n.name,typeName:e.type,propName:e.name,chartTypes:e.display.charts})),h["default"].createElement("section",{ref:"table",style:{padding:"0 2%"}},h["default"].createElement(p["default"],{data:this.state.data,propName:e.name,tableType:e.display.table}))):h["default"].createElement("div",{style:{height:"500px"}},h["default"].createElement("div",{className:"vertical-center text-center"},h["default"].createElement(m["default"],null)))}}]),e}(l.Component);v.propTypes={dataSource:h["default"].PropTypes.shape({dataID:h["default"].PropTypes.string,data:h["default"].PropTypes.oneOfType([h["default"].PropTypes.string,h["default"].PropTypes.array])}),property:h["default"].PropTypes.object,baseUserSet:h["default"].PropTypes.object,compareUserSet:h["default"].PropTypes.object},e["default"]=v},812:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(829),u=n(c),d=i(827),p=n(d),f=i(830),m=n(f),g=i(828),y=n(g),v={table1:u["default"],table3:p["default"],table4:m["default"],table5:y["default"]},b=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.getCanvas=i.getCanvas.bind(i),i}return s(e,t),a(e,[{key:"getCanvas",value:function(){}},{key:"render",value:function(){var t=this.props,e=t.tableType,i=t.data,n=t.propName,r=v[e];return r?h["default"].createElement("section",{ref:"container",style:{paddingBottom:"30px"}},h["default"].createElement(r,{data:i,propName:n})):h["default"].createElement("div",null,"未知Table类型")}}]),e}(l.Component);b.propTypes={data:h["default"].PropTypes.array,propName:h["default"].PropTypes.string,tableType:h["default"].PropTypes.oneOf(["table1","table3","table4","table5"])},b.defaultProps={data:[{name:"",value:[],unknown:{key:"unknown",name:"未知",value:"N/A"}},{name:"",value:[],unknown:{key:"unknown",name:"未知",value:"N/A"}}],tableType:"table1"},e["default"]=b},813:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(1),c=n(h),u=i(375),d=n(u),p=i(1056),f=n(p),m=i(65),g=n(m),y=i(64),v=n(y),b=i(510),x=n(b),w=i(136),k=n(w),M=i(119),_=i(17),P=i(821),S=n(P);window.proj4=f["default"];var T={credits:{enabled:!1},exporting:{buttons:{contextButton:{enabled:!1}}},mapNavigation:{enabled:!0,buttonOptions:{verticalAlign:"bottom"},enableMouseWheelZoom:!1},legend:{enabled:!0,layout:"vertical",verticalAlign:"middle",align:"right"},plotOptions:{series:{animation:!1},map:{states:{hover:{color:"#EEDD66"}}},mappoint:{showInLegend:!1,dataLabels:{enabled:!0,crop:!0},marker:{enabled:!0,radius:5},tooltip:{headerFormat:"",pointFormatter:function(){return this.name+": "+(0,_.getReadablePercent)(this.value)}}}}},C=function(t){function e(t){o(this,e);var i=s(this,Object.getPrototypeOf(e).call(this,t));return(0,v["default"])(x["default"].Highcharts),(0,g["default"])(x["default"].Highcharts),i.handleImageDownload=i.handleImageDownload.bind(i),i}return a(e,t),l(e,[{key:"handleImageDownload",value:function(){var t=this.refs.container.offsetWidth,e=this.refs.container.offsetHeight,i=document.createElement("canvas");i.width=t,i.height=e;var n=i.getContext("2d");n.beginPath(),n.rect(0,0,t,e),n.fillStyle="white",n.fill();var r=this.refs.chart1.getChart().getSVG(),o=(0,_.svg2img)(r,{width:t/2,height:e}),s=this.refs.chart2.getChart().getSVG(),a=(0,_.svg2img)(s,{width:t/2,height:e});n.drawImage(o,0,0),n.drawImage(a,t/2,0);var l=this.props,h=l.propName,c=l.baseName,u=l.compareName,d=c+"-"+u+"-"+h+"-cityMap.png";(0,M.saveAs)((0,k["default"])(i.toDataURL()),d)}},{key:"render",value:function(){var t=this.props.data,e=this.state,i=e.provinceMapData,n=e.geoStore,o=Math.max.apply(Math,r(t[0].value.map(function(t){return t.value})).concat(r(t[1].value.map(function(t){return t.value})))),s=n?t.map(function(t){var e=new S["default"]({min:0,max:o,stops:[[0,"#E6E7E8"],[1,"#99cc33"]]});return Object.assign({},T,{title:{text:t.name,verticalAlign:"bottom",style:{color:"#888"}},colorAxis:{min:0,max:o,minColor:"#E6E7E8",maxColor:"#99cc33",labels:{formatter:function(){return 100*this.value+"%"}}},series:[{type:"map",mapData:i},{type:"mappoint",name:t.name,mapData:i,data:t.value.map(function(t){var i=n.get(t.name);return i?(Object.assign(i,{value:t.value,color:e.toColor(t.value)}),i):null}).filter(function(t){return!!t})}]})}):null;return c["default"].createElement("div",null,c["default"].createElement("div",{className:"text-right",style:{height:0,overflow:"visible"}},c["default"].createElement("i",{className:"fa fa-camera fa-2x",onClick:this.handleImageDownload,style:{zIndex:100,position:"relative"}})),c["default"].createElement("div",{ref:"container"
},i&&n?c["default"].createElement("div",null,c["default"].createElement(x["default"],{ref:"chart1",config:s[0],className:"inline",style:{width:"50%"}}),c["default"].createElement(x["default"],{ref:"chart2",config:s[1],className:"inline",style:{width:"50%"}})):null))}}]),e}(d["default"]);C.propTypes={data:c["default"].PropTypes.arrayOf(c["default"].PropTypes.shape({name:c["default"].PropTypes.string.isRequired,value:c["default"].PropTypes.arrayOf(c["default"].PropTypes.shape({name:c["default"].PropTypes.string.isRequired,value:c["default"].PropTypes.number.isRequired})).isRequired})),propName:c["default"].PropTypes.string},C.defaultProps={data:[{name:"",value:[]},{name:"",value:[]}]},e["default"]=C},814:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(121),u=n(c),d=i(65),p=n(d),f=i(64),m=n(f),g=i(17),y={chart:{type:"column",height:400},title:{text:null},legend:{enabled:!1,verticalAlign:"top"},colors:["#5FB9FF","#84DEE1"],credits:{enabled:!1},yAxis:{min:0,ceiling:100,title:{text:null},gridLineWidth:0,lineWidth:1,lineColor:"#e0e0e0",labels:{format:"{value}%"}},exporting:{buttons:{contextButton:{enabled:!1}}},tooltip:{formatter:function(){return this.series.name+": "+this.y.toFixed(2)+"%"}}},v=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.state={hiddenCategorySet:new Set},(0,m["default"])(u["default"].Highcharts),(0,p["default"])(u["default"].Highcharts),i.handleImageDownload=i.handleImageDownload.bind(i),i.setHiddenCategory=i.setHiddenCategory.bind(i),i.clearHiddenCategory=i.clearHiddenCategory.bind(i),i.getCanvas=i.getCanvas.bind(i),i}return s(e,t),a(e,[{key:"setHiddenCategory",value:function(t){var e=this.state.hiddenCategorySet;e.has(t)?e["delete"](t):e.add(t),this.setState({hiddenCategorySet:e})}},{key:"getCanvas",value:function(){var t=this.refs.container.offsetWidth,e=this.refs.container.offsetHeight;return(0,g.svg2canvas)(this.refs.chart.getChart().getSVG({chart:{width:t,height:e}}),{width:t,height:e})}},{key:"clearHiddenCategory",value:function(){this.setState({hiddenCategorySet:new Set})}},{key:"handleImageDownload",value:function(){var t=this.props,e=t.data,i=t.propName;this.refs.chart.getChart().exportChartLocal({filename:e[0].name+"-"+e[1].name+"-"+i+"-column"},{legend:{enabled:!0,verticalAlign:"top"}})}},{key:"render",value:function(){var t=this,e=this.props.data.slice(0,2),i=this.state.hiddenCategorySet,n=e[0]?e[0].value.map(function(t){return t.name}):[],r=Object.assign({},y,{xAxis:{categories:e[0]?e[0].value.map(function(t){return t.name}):[],tickLength:0,lineColor:"#e0e0e0"},series:e.map(function(t){return{name:t.name,data:t.value.map(function(t){return i.has(t.name)?0:100*t.value})}})});return h["default"].createElement("div",{ref:"container"},h["default"].createElement(u["default"],{ref:"chart",config:r}),h["default"].createElement("div",{style:{padding:"0 8px 0 45px",height:0,zIndex:10,position:"relative",bottom:"100px"}},n.map(function(e,i){return h["default"].createElement("span",{key:e+i,className:"text-center inline",style:{width:100/n.length+"%",height:"100px"},onClick:t.setHiddenCategory.bind(null,e)})})))}}]),e}(l.Component);v.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.number.isRequired})).isRequired})),propName:h["default"].PropTypes.string},v.defaultProps={data:[{name:"",value:[]},{name:"",value:[]}]},e["default"]=v},815:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(121),u=n(c),d=i(17),p=i(65),f=n(p),m=i(64),g=n(m),y=i(376),v=n(y),b={chart:{type:"pie",animation:!1},legend:{verticalAlign:"top"},colors:["#5FB9FF","#84DEE1","#FFA900","#A8D241","#4093dd","#a17ee8","#00daa5","#ff6d2d","#00d7fc","#fa6bec","#666ded","#666"],credits:{enabled:!1},exporting:{buttons:{contextButton:{enabled:!1}}},tooltip:{formatter:function(){return this.series.name+": "+(0,d.getReadablePercent)(this.y)}},plotOptions:{pie:{dataLabels:{softConnector:!1},size:"60%"}}},x=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return(0,g["default"])(u["default"].Highcharts),(0,f["default"])(u["default"].Highcharts),i.handleImageDownload=i.handleImageDownload.bind(i),i}return s(e,t),a(e,[{key:"handleImageDownload",value:function(){var t=this.props,e=t.propName,i=t.data,n=i[0].name+"-"+i[1].name+"-"+e+"-pie";(0,v["default"])(this.refs.chart1.getChart(),this.refs.chart2.getChart(),{filename:n,width:this.refs.container.offsetWidth,height:this.refs.container.offsetHeight})}},{key:"render",value:function(){var t=this.props.data,e=t.map(function(t){return Object.assign({},b,{title:{align:"center",verticalAlign:"bottom",y:-10,text:t.name,style:{fontSize:"16px",color:"#888"}},series:[{name:t.name,data:t.value.map(function(t){return{name:t.name,y:t.value}})}]})});return h["default"].createElement("div",null,h["default"].createElement("div",{className:"text-right",style:{height:0,overflow:"visible"}},h["default"].createElement("i",{className:"fa fa-camera fa-2x",onClick:this.handleImageDownload,style:{zIndex:100,position:"relative"}})),h["default"].createElement("div",{ref:"container"},h["default"].createElement(u["default"],{ref:"chart1",config:e[0],className:"inline",style:{width:"50%"}}),h["default"].createElement(u["default"],{ref:"chart2",config:e[1],className:"inline",style:{width:"50%"}})))}}]),e}(l.Component);x.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.number.isRequired})).isRequired})),propName:h["default"].PropTypes.string},x.defaultProps={data:[{name:"",value:[]},{name:"",value:[]}]},e["default"]=x},816:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(1),c=n(h),u=i(121),d=n(u),p=i(17),f=i(65),m=n(f),g=i(64),y=n(g),v=i(376),b=n(v),x={chart:{type:"pie",animation:!1},legend:{verticalAlign:"top"},colors:["#5FB9FF","#84DEE1","#FFA900","#A8D241","#4093dd","#a17ee8","#00daa5","#ff6d2d","#00d7fc","#fa6bec","#666ded","#666"],credits:{enabled:!1},exporting:{buttons:{contextButton:{enabled:!1}}},plotOptions:{pie:{dataLabels:{connectorWidth:0},tooltip:{headerFormat:"",pointFormatter:function(){return this.name+": "+(0,p.getReadablePercent)(this.y)}},size:250}}},w=function(t){function e(t){o(this,e);var i=s(this,Object.getPrototypeOf(e).call(this,t));return(0,y["default"])(d["default"].Highcharts),(0,m["default"])(d["default"].Highcharts),i.handleImageDownload=i.handleImageDownload.bind(i),i}return a(e,t),l(e,[{key:"handleImageDownload",value:function(){var t=this.props,e=t.propName,i=t.data,n=i[0].name+"-"+i[1].name+"-"+e+"-polar";(0,b["default"])(this.refs.chart1.getChart(),this.refs.chart2.getChart(),{filename:n,width:this.refs.container.offsetWidth,height:this.refs.container.offsetHeight})}},{key:"render",value:function(){var t=this.props.data,e=t.map(function(t){var e=t.value.length;return Object.assign({},x,{title:{align:"center",verticalAlign:"bottom",y:-10,text:t.name,style:{fontSize:"16px",color:"#888"}},series:[{data:t.value.map(function(t){return{name:t.name,y:1,color:"transparent"}}),borderColor:"#bcbcbc",dataLabels:{distance:5},enableMouseTracking:!1}].concat(r(t.value.map(function(t,i){return{size:250*t.value,startAngle:360/e*i,endAngle:360/e*(i+1),dataLabels:{color:"transparent"},data:[{name:t.name,y:t.value,color:x.colors[i%x.colors.length]}]}})))})});return c["default"].createElement("div",null,c["default"].createElement("div",{className:"text-right",style:{height:0,overflow:"visible"}},c["default"].createElement("i",{className:"fa fa-camera fa-2x",onClick:this.handleImageDownload,style:{zIndex:100,position:"relative"}})),c["default"].createElement("div",{ref:"container"},c["default"].createElement(d["default"],{ref:"chart1",config:e[0],className:"inline",style:{width:"50%"}}),c["default"].createElement(d["default"],{ref:"chart2",config:e[1],className:"inline",style:{width:"50%"}})))}}]),e}(h.Component);w.propTypes={data:c["default"].PropTypes.arrayOf(c["default"].PropTypes.shape({name:c["default"].PropTypes.string.isRequired,value:c["default"].PropTypes.arrayOf(c["default"].PropTypes.shape({name:c["default"].PropTypes.string.isRequired,value:c["default"].PropTypes.number.isRequired})).isRequired})),propName:c["default"].PropTypes.string},w.defaultProps={data:[{name:"base",value:[{name:"中餐",value:.1},{name:"东南亚",value:.3},{name:"西餐",value:.4}]},{name:"compare",value:[{name:"中餐",value:.1},{name:"东南亚",value:.3},{name:"西餐",value:.4},{name:"中餐1",value:.2},{name:"东南亚1",value:.5},{name:"西餐1",value:.6}]}]},e["default"]=w},817:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(375),u=n(c),d=i(65),p=n(d),f=i(64),m=n(f),g=i(510),y=n(g),v=i(136),b=n(v),x=i(119),w=i(17),k={credits:{enabled:!1},exporting:{buttons:{contextButton:{enabled:!1}}},mapNavigation:{enabled:!0,buttonOptions:{verticalAlign:"bottom"},enableMouseWheelZoom:!1},legend:{enabled:!0,layout:"vertical",verticalAlign:"middle",align:"right"},plotOptions:{map:{states:{hover:{color:"#EEDD66"}},dataLabels:{enabled:!0,formatter:function(){return null===this.point.value?null:""+this.point["cn-name"]}}}},colorAxis:{min:0,minColor:"#E6E7E8",maxColor:"#99cc33",labels:{formatter:function(){return 100*this.value+"%"}},marker:{color:"white"}},tooltip:{formatter:function(){return this.point["cn-name"]+": "+(0,w.getReadablePercent)(this.point.value)}}},M=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return(0,m["default"])(y["default"].Highcharts),(0,p["default"])(y["default"].Highcharts),i.handleImageDownload=i.handleImageDownload.bind(i),i}return s(e,t),a(e,[{key:"handleImageDownload",value:function(){var t=this.refs.container.offsetWidth,e=this.refs.container.offsetHeight,i=document.createElement("canvas");i.width=t,i.height=e;var n=i.getContext("2d");n.beginPath(),n.rect(0,0,t,e),n.fillStyle="white",n.fill();var r=this.refs.chart1.getChart().getSVG(),o=(0,w.svg2img)(r,{width:t/2,height:e}),s=this.refs.chart2.getChart().getSVG(),a=(0,w.svg2img)(s,{width:t/2,height:e});n.drawImage(o,0,0),n.drawImage(a,t/2,0);var l=this.props,h=l.propName,c=l.baseName,u=l.compareName,d=c+"-"+u+"-"+h+"-provinceMap.png";(0,x.saveAs)((0,b["default"])(i.toDataURL()),d)}},{key:"render",value:function(){var t=this.props.data,e=this.state.provinceMapData,i=t.map(function(t){return Object.assign({},k,{title:{text:t.name,verticalAlign:"bottom",style:{color:"#888"}},series:[{type:"map",mapData:e,data:t.value.map(function(t){return{name:t.name,value:t.value}}),joinBy:["cn-name","name"]}]})});return h["default"].createElement("div",null,h["default"].createElement("div",{className:"text-right",style:{height:0,overflow:"visible"}},h["default"].createElement("i",{className:"fa fa-camera fa-2x",onClick:this.handleImageDownload,style:{zIndex:100,position:"relative"}})),h["default"].createElement("div",{ref:"container"},e?h["default"].createElement("div",null,h["default"].createElement(y["default"],{ref:"chart1",config:i[0],className:"inline",style:{width:"50%"}}),h["default"].createElement(y["default"],{ref:"chart2",config:i[1],className:"inline",style:{width:"50%"}})):null))}}]),e}(u["default"]);M.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.number.isRequired})).isRequired})),propName:h["default"].PropTypes.string},M.defaultProps={data:[{name:"",value:[]},{name:"",value:[]}]},e["default"]=M},818:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(121),u=n(c),d=i(17),p=i(65),f=n(p),m=i(64),g=n(m),y=i(823),v=n(y),b={chart:{type:"pie",animation:!1},title:{text:null},legend:{verticalAlign:"top"},colors:["#5FB9FF","#84DEE1","#FFA900","#A8D241","#4093dd","#a17ee8","#00daa5","#ff6d2d","#00d7fc","#fa6bec","#666ded","#666"],credits:{enabled:!1},exporting:{buttons:{contextButton:{enabled:!1}}},tooltip:{formatter:function(){return this.series.name+": "+(0,d.getReadablePercent)(this.y)}},plotOptions:{pie:{title:{align:"center",verticalAlign:"bottom",y:60,format:"{name}",style:{fontSize:"16px",color:"grey"}},dataLabels:{distance:-25},size:"60%",innerSize:"50%"}}},x=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return(0,g["default"])(u["default"].Highcharts),(0,f["default"])(u["default"].Highcharts),(0,v["default"])(u["default"].Highcharts),i.handleImageDownload=i.handleImageDownload.bind(i),i}return s(e,t),a(e,[{key:"handleImageDownload",value:function(){var t=this.props,e=t.propName,i=t.baseName,n=t.compareName;this.refs.chart.getChart().exportChartLocal({filename:i+"-"+n+"-"+e+"-ring"})}},{key:"render",value:function(){var t=this.props.data,e=Object.assign({},b,{series:t.map(function(t,e){return{name:t.name,center:0===e?["20%"]:["80%"],data:t.value.map(function(t){return{name:t.name,y:t.value}})}})});return h["default"].createElement("div",null,h["default"].createElement("div",{className:"text-right",style:{height:0,overflow:"visible"}},h["default"].createElement("i",{className:"fa fa-camera fa-2x",onClick:this.handleImageDownload,style:{zIndex:100,position:"relative"}})),h["default"].createElement(u["default"],{ref:"chart",config:e}))}}]),e}(l.Component);x.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.number.isRequired})).isRequired})),propName:h["default"].PropTypes.string},x.defaultProps={data:[{name:"",value:[]},{name:"",value:[]}]},e["default"]=x},819:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(121),u=n(c),d=i(17),p=i(65),f=n(p),m=i(64),g=n(m),y={chart:{type:"bar",animation:!1},title:{text:null},legend:{enabled:!1},colors:["#5FB9FF","#84DEE1","#FFA900","#A8D241","#4093dd","#a17ee8","#00daa5","#ff6d2d","#00d7fc","#fa6bec","#666ded","#666"],credits:{enabled:!1},yAxis:{visible:!1},exporting:{buttons:{contextButton:{enabled:!1}}},tooltip:{formatter:function(){return this.series.name+": "+(0,d.getReadablePercent)(this.y)}}},v=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return(0,g["default"])(u["default"].Highcharts),(0,f["default"])(u["default"].Highcharts),i.handleImageDownload=i.handleImageDownload.bind(i),i}return s(e,t),a(e,[{key:"handleImageDownload",value:function(){var t=this.props,e=t.propName,i=t.baseName,n=t.compareName;this.refs.chart.getChart().exportChartLocal({filename:i+"-"+n+"-"+e+"-stack"})}},{key:"render",value:function(){var t=this.props.data,e=Object.assign({},y,{xAxis:{categories:t.map(function(t){return t.name}),lineWidth:0,tickWidth:0},plotOptions:{series:{stacking:"percent",dataLabels:{enabled:!0,color:"#FFFFFF",align:"center",format:"{series.name}",style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}}},series:t[0].value.map(function(e,i){return{name:e.name,data:[e.value,t[1].value[i].value]}})});return h["default"].createElement("div",null,h["default"].createElement("div",{className:"text-right",style:{height:0,overflow:"visible"}},h["default"].createElement("i",{className:"fa fa-camera fa-2x",onClick:this.handleImageDownload,style:{zIndex:100,position:"relative"}})),h["default"].createElement(u["default"],{ref:"chart",config:e}))}}]),e}(l.Component);v.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string.isRequired,value:h["default"].PropTypes.number.isRequired})).isRequired})),propName:h["default"].PropTypes.string},v.defaultProps={data:[{name:"",value:[]},{name:"",value:[]}]},e["default"]=v},820:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(1213),u=n(c),d=i(136),p=n(d),f=i(119),m=["#509e2f","#41b6e6","#abad23","#005f61","#651d32"],g=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.updateWordCloud=i.updateWordCloud.bind(i),i.handleImageDownload=i.handleImageDownload.bind(i),i}return s(e,t),a(e,[{key:"componentDidMount",value:function(){this.updateWordCloud()}},{key:"componentWillUpdate",value:function(){this.updateWordCloud()}},{key:"updateWordCloud",value:function(){if(0!==this.props.data.length){var t=this.props.data[0].value,e=this.props.logScale,i=this.refs.canvas;i.width=this.refs.canvas.offsetWidth,i.height=this.refs.canvas.offsetHeight;var n=Number.MIN_VALUE,r=Number.MAX_VALUE;t.forEach(function(t){t.value<r&&(r=t.value),t.value>n&&(n=t.value)}),e&&(n=Math.log10(n),r=Math.log10(r)),(0,u["default"])(i,{list:t.map(function(t){return[t.name,((e?Math.log10(t.value):t.value)-r)/(n-r)]}),weightFactor:function(t){return 80*t+2},fontFamily:"Finger Paint, cursive, sans-serif",color:function(t,e,i,n,r){return m[Math.floor(Math.random()*m.length)]},rotateRatio:0,backgroundColor:"white",shuffle:!1,drawOutOfBound:!1,shape:"circle",ellipticity:.4})}}},{key:"handleImageDownload",value:function(){var t=this.props,e=t.baseName,i=t.compareName,n=t.propName,r=this.refs.canvas,o=e+"-"+i+"-"+n+"-wordCloud.png";(0,f.saveAs)((0,p["default"])(r.toDataURL()),o)}},{key:"render",value:function(){return h["default"].createElement("div",null,h["default"].createElement("canvas",{id:"canvas",ref:"canvas",style:{width:"100%",height:"400px"}}))}}]),e}(l.Component);g.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.shape({name:h["default"].PropTypes.string,value:h["default"].PropTypes.array})),logScale:h["default"].PropTypes.bool,baseName:h["default"].PropTypes.string,compareName:h["default"].PropTypes.string,propName:h["default"].PropTypes.string},g.defaultProps={logScale:!0,data:[{name:"Top 50",value:[{key:"SIM卡联系人(com.qualcomm.simcontacts)",name:"SIM卡联系人",value:.98317},{key:"银联在线支付服务(com.unionpay.uppay)",name:"银联在线支付服务",value:.72189},{key:"MiPlay(com.xiaomi.miplay)",name:"MiPlay",value:.52448},{key:"UpnpService(com.xiaomi.upnp)",name:"UpnpService",value:.52448},{key:"携程旅行(ctrip.android.view)",name:"携程旅行",value:.45739},{key:"虚拟按键大师(com.jjapp.quicktouch.inland)",name:"虚拟按键大师",value:.44656},{key:"遥控精灵(com.tiqiaa.icontrol)",name:"遥控精灵",value:.43843},{key:"小米万能遥控(com.duokan.phone.remotecontroller)",name:"小米万能遥控",value:.39012},{key:"Google话语提示(com.google.android.marvin.talkback)",name:"Google话语提示",value:.33545},{key:"和阅读(com.aspire.mm.readplugin)",name:"和阅读",value:.3025}]}]},e["default"]=g},821:function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){return this instanceof n?void this.init(t):new n(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();n.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),1]}}],init:function(t){var e,i,r,o;if(this.input=t,t&&t.stops)this.stops=map(t.stops,function(t){return new n(t[1])});else for(r=this.parsers.length;r--&&!i;)o=this.parsers[r],e=o.regex.exec(t),e&&(i=o.parse(e));this.rgba=i||[]},get:function(t){var e,i=this.input,n=this.rgba;return this.stops?(e=merge(i),e.stops=[].concat(e.stops),each(this.stops,function(i,n){e.stops[n]=[e.stops[n][0],i.get(t)]})):e=n&&isNumber(n[0])?"rgb"===t||!t&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":i,e},brighten:function(t){var e,i=this.rgba;if(this.stops)each(this.stops,function(e){e.brighten(t)});else if(isNumber(t)&&0!==t)for(e=0;e<3;e++)i[e]+=parseInt(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},isNumber:function(t){return"number"==typeof t&&!isNaN(t)}};var o=function(){function t(e){i(this,t),Object.assign(this,{min:1,max:100,type:"linear",stops:[[0,"#EFEFFF"],[.67,"#4444FF"],[1,"#000022"]]},e),this.stops=this.stops.map(function(t){return new n(t)}),"logarithmic"===this.type&&(this.isLog="logarithmic"===this.type,this.min=0,this.max=2)}return r(t,[{key:"val2lin",value:function(t){return Math.log10(t)}},{key:"tweenColors",value:function(t,e,i){var n,r;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,n=1!==e[3]||1!==t[3],r=(n?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-i))+","+Math.round(e[1]+(t[1]-e[1])*(1-i))+","+Math.round(e[2]+(t[2]-e[2])*(1-i))+(n?","+(e[3]+(t[3]-e[3])*(1-i)):"")+")"):r=e.input||"none",r}},{key:"toColor",value:function(t,e){var i,n,r,o,s,a=this.stops;for(this.isLog&&(t=this.val2lin(t)),i=1-(this.max-t)/(this.max-this.min||1),s=a.length;s--&&!(i>a[s].input[0]););return n=a[s]||a[s+1],r=a[s+1]||n,i=1-(r.input[0]-i)/(r.input[0]-n.input[0]||1),o=this.tweenColors(n,r,i)}}]),t}();e["default"]=o},822:function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.cityMap=new Map(e)}return n(t,[{key:"_cityQuery",value:function(t){return null}},{key:"get",value:function(t){return this.cityMap.has(t)?Object.assign({},this.cityMap.get(t)):this._cityQuery(t)}}]),t}();e["default"]=r},823:function(t,e){"use strict";function i(t){t.seriesTypes.pie.prototype.setTitle=function(e){var i,n,r,o=this.chart,s=this.center||this.yAxis&&this.yAxis.center;s&&e&&(n={x:o.plotLeft+s[0]-.5*s[2],y:o.plotTop+s[1]-.5*s[2],width:s[2],height:s[2]},r=e.text||e.format,r=t.format(r,this),this.title?this.title.attr({text:r}):this.title=this.chart.renderer.label(r).css(e.style).add(),i=this.title.getBBox(),e.width=i.width,e.height=i.height,this.title.align(e,null,n))},t.wrap(t.seriesTypes.pie.prototype,"render",function(t){t.call(this),this.setTitle(this.options.title)})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i},824:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=(i(17),i(5)),u=n(c),d=i(159),p=n(d),f=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,e=t.title,i=t.header,n=t.data;t.footer;return h["default"].createElement("div",null,h["default"].createElement("div",{className:"bg-grey fs14 fc-dark border-style",style:{padding:"5px 30px",background:"#EDF1F3",borderWidth:"1px",borderBottomWidth:0}},e),h["default"].createElement("div",{className:"border-style",style:{padding:"15px 5% 0",borderWidth:"1px"},styleName:"table"},h["default"].createElement("table",{styleName:"table5",style:{marginBottom:"15px"}},h["default"].createElement("thead",null,h["default"].createElement("tr",{styleName:"tr"},i.map(function(t){return h["default"].createElement("th",{styleName:"th",key:t},t)}))),h["default"].createElement("tbody",null,n.map(function(t){return h["default"].createElement("tr",{styleName:"tr",key:t.key},h["default"].createElement("td",{styleName:"td"},t.render?t.render(t):t.name),h["default"].createElement("td",{styleName:"td"},t.pay),h["default"].createElement("td",{styleName:"td"},t.total),h["default"].createElement("td",{styleName:"td"},t.proportion))})))))}}]),e}(l.Component);f.propTypes={title:h["default"].PropTypes.string,header:h["default"].PropTypes.arrayOf(h["default"].PropTypes.string),data:h["default"].PropTypes.array},f.defaultProps={},e["default"]=(0,u["default"])(f,p["default"])},825:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(17),u=i(5),d=n(u),p=i(159),f=n(p),m=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,e=t.title,i=t.header,n=t.data,r=t.tagColor;return h["default"].createElement("div",null,h["default"].createElement("div",{className:"bg-grey fs14 fc-dark border-style",style:{padding:"5px 30px",background:"#EDF1F3",borderWidth:"1px",borderBottomWidth:0}},e),h["default"].createElement("div",{className:"border-style",style:{padding:"15px 5% 0",borderWidth:"1px"},styleName:"table"},h["default"].createElement("table",{styleName:"table2",style:{marginBottom:"15px"}},h["default"].createElement("thead",null,h["default"].createElement("tr",{styleName:"tr"},h["default"].createElement("th",{styleName:"th"},i[0]),h["default"].createElement("th",{styleName:"th"},i[1]),h["default"].createElement("th",{styleName:"th"},i[2]))),h["default"].createElement("tbody",null,n.map(function(t){return h["default"].createElement("tr",{styleName:"tr",key:t.key},h["default"].createElement("td",{styleName:"td"},t.render?t.render(t):t.name),h["default"].createElement("td",{styleName:"td"},(0,c.getReadableNumber)(t.count)),h["default"].createElement("td",{styleName:"td"},h["default"].createElement("span",{styleName:"tag",style:{background:r}},(0,c.getReadablePercent)(t.value))))})))))}}]),e}(l.Component);m.propTypes={title:h["default"].PropTypes.string,header:h["default"].PropTypes.arrayOf(h["default"].PropTypes.string),data:h["default"].PropTypes.array,tagColor:h["default"].PropTypes.string},m.defaultProps={},e["default"]=(0,d["default"])(m,f["default"])},826:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(5),u=n(c),d=i(159),p=n(d),f=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,e=t.title,i=t.data,n=i.slice(0,i.length/2),r=i.slice(i.length/2);return h["default"].createElement("div",null,h["default"].createElement("div",{className:"bg-grey fs14 fc-dark border-style text-center",style:{padding:"5px 30px",background:"#EDF1F3",borderWidth:"1px",borderBottomWidth:0}},e),h["default"].createElement("div",{className:"border-style",style:{padding:"15px 5% 0",borderWidth:"1px"},styleName:"table"},h["default"].createElement("table",{styleName:"table3",style:{marginBottom:"15px"}},h["default"].createElement("tbody",null,n.map(function(t,e){return h["default"].createElement("tr",{styleName:"tr",key:t.key},h["default"].createElement("td",{styleName:"td"},h["default"].createElement("div",{style:{width:"100%",position:"relative"}},t.render?t.render(t):t.name,h["default"].createElement("div",{style:{position:"absolute",top:0,left:"10px"}},h["default"].createElement("span",{className:"inline",style:{background:"#2FA4FF",color:"white",borderRadius:"3px",width:"20px"}},t.value)))),h["default"].createElement("td",{styleName:"td"},h["default"].createElement("div",{style:{width:"100%",position:"relative"}},r[e].render?r[e].render(r[e]):r[e].name,h["default"].createElement("div",{style:{position:"absolute",top:0,left:"10px"}},h["default"].createElement("span",{className:"inline",style:{background:"#2FA4FF",color:"white",borderRadius:"3px",width:"20px"}},r[e].value)))))})))))}}]),e}(l.Component);f.propTypes={title:h["default"].PropTypes.string,data:h["default"].PropTypes.array},f.defaultProps={},e["default"]=(0,u["default"])(f,p["default"])},827:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(275),u=n(c),d=i(826),p=n(d),f=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,e=t.data,i=t.propName;return h["default"].createElement("div",null,h["default"].createElement("div",null,h["default"].createElement("div",{className:"inline",style:{width:"50%",padding:"0 5px 0 0"}},h["default"].createElement(u["default"],{title:e[0].name,header:[i,"占比"],data:e[0].value,footer:[e[0].unknown.name,e[0].unknown.value]})),h["default"].createElement("div",{className:"inline",style:{width:"50%",padding:"0 0 0 5px"}},h["default"].createElement(u["default"],{title:e[1].name,header:[i,"占比"],data:e[1].value,footer:[e[1].unknown.name,e[1].unknown.value]}))),h["default"].createElement("div",null,h["default"].createElement(p["default"],{title:e[2].name,data:e[2].value})))}}]),e}(l.Component);f.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.object),propName:h["default"].PropTypes.string},f.defaultProps={data:[{name:"",value:[],unknown:{key:"unknown",name:"未知",value:"N/A"}},{name:"",value:[],unknown:{key:"unknown",name:"未知",value:"N/A"}}],propName:""},e["default"]=f},828:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(275),u=n(c),d=i(824),p=n(d),f=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,e=t.data,i=t.propName;return h["default"].createElement("div",null,h["default"].createElement("div",null,h["default"].createElement("div",{className:"inline",style:{width:"50%",padding:"0 5px 0 0"}},h["default"].createElement(u["default"],{title:e[0].name,header:[i,"占比"],data:e[0].value,footer:[e[0].unknown.name,e[0].unknown.value]})),h["default"].createElement("div",{className:"inline",style:{width:"50%",padding:"0 0 0 5px"}},h["default"].createElement(u["default"],{title:e[1].name,header:[i,"占比"],data:e[1].value,footer:[e[1].unknown.name,e[1].unknown.value]}))),h["default"].createElement("div",null,h["default"].createElement(p["default"],{title:e[2].name,header:["用户集","付费ARUP","全量ARUP","付费用户比"],data:e[2].value})))}}]),e}(l.Component);f.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.object),propName:h["default"].PropTypes.string},f.defaultProps={data:[{name:"",value:[],unknown:{key:"unknown",name:"未知",value:"N/A"}},{name:"",value:[],unknown:{key:"unknown",name:"未知",value:"N/A"}}],propName:""},e["default"]=f},829:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(275),u=n(c),d=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,e=t.data,i=t.propName;return h["default"].createElement("div",null,h["default"].createElement("div",{className:"inline",style:{width:"50%",padding:"0 5px 0 0"}},h["default"].createElement(u["default"],{title:e[0].name,header:[i,"占比"],data:e[0].value,footer:[e[0].unknown.name,e[0].unknown.value]})),h["default"].createElement("div",{className:"inline",style:{width:"50%",padding:"0 0 0 5px"}},h["default"].createElement(u["default"],{title:e[1].name,header:[i,"占比"],data:e[1].value,footer:[e[1].unknown.name,e[1].unknown.value]})))}}]),e}(l.Component);d.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.object),propName:h["default"].PropTypes.string},d.defaultProps={data:[{name:"",value:[],unknown:{key:"unknown",name:"未知",value:"N/A"}},{name:"",value:[],unknown:{key:"unknown",name:"未知",value:"N/A"}}],propName:""},e["default"]=d},830:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(825),u=n(c),d=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props.data;return h["default"].createElement("div",null,h["default"].createElement("div",{className:"inline",style:{width:"50%",padding:"0 5px 0 0"}},h["default"].createElement(u["default"],{title:t[0].name,header:["APP名","用户数","信息增益"],data:t[0].value,tagColor:"red"})),h["default"].createElement("div",{className:"inline",style:{width:"50%",padding:"0 0 0 5px"}},h["default"].createElement(u["default"],{title:t[1].name,header:["APP名","用户数","信息增益"],data:t[1].value,tagColor:"green"})))}}]),e}(l.Component);d.propTypes={data:h["default"].PropTypes.arrayOf(h["default"].PropTypes.object),propName:h["default"].PropTypes.string},d.defaultProps={data:[{name:"",value:[]},{name:"",value:[]}],propName:""},e["default"]=d},831:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(276),u=function(t){function e(t){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.handleClick=i.handleClick.bind(i),i}return s(e,t),a(e,[{key:"handleClick",value:function(){(0,c.scrollTo)(this.props.to,this.props.wrapper)}},{key:"render",value:function(){return h["default"].createElement("label",{onClick:this.handleClick,style:this.props.style},this.props.children)}}]),e}(l.Component);u.propTypes={wrapper:h["default"].PropTypes.string,style:h["default"].PropTypes.object,to:h["default"].PropTypes.string,children:h["default"].PropTypes.oneOfType([h["default"].PropTypes.string,h["default"].PropTypes.element])},u.defaultProps={style:{display:"inline-block",width:"100%",height:"100%"}},e["default"]=u},832:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=n(l),c=i(276),u=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,e=t.name,i=t.style;return h["default"].createElement("section",{id:(0,c.encodeName)(e),style:i,className:"height-transition"},this.props.children)}}]),e}(l.Component);u.propTypes={name:h["default"].PropTypes.string,style:h["default"].PropTypes.object,children:h["default"].PropTypes.oneOfType([h["default"].PropTypes.string,h["default"].PropTypes.element])},u.defaultProps={style:{}},e["default"]=u},833:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(1),c=n(h),u=i(276),d=i(17),p=function(t){function e(t){o(this,e);var i=s(this,Object.getPrototypeOf(e).call(this,t));return i.state={currentActiveSection:""},i.sectionNameArray=[],i.offsetTopArray=[],i.handleScroll=i.handleScroll.bind(i),i.handleScrollHelper=(0,d.throttle)(i.handleScrollHelper.bind(i),200),i.updateOffsetTopMap=i.updateOffsetTopMap.bind(i),i.scrollToTop=i.scrollToTop.bind(i),i.scrollTo=i.scrollTo.bind(i),i}return a(e,t),l(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.props.children,i=t.children;i.map(function(t){return t.props.loading?0:1}).join("")!==e.map(function(t){return t.props.loading?0:1}).join("")&&this.updateOffsetTopMap(i)}},{key:"shouldComponentUpdate",value:function(t){var e=this.props.children.map(function(t){return t.props.loading?0:1}).join(""),i=t.children.map(function(t){return t.props.loading?0:1}).join("");return i!==e}},{key:"componentDidUpdate",value:function(){0===this.offsetTopArray.length&&this.updateOffsetTopMap(this.props.children)}},{key:"updateOffsetTopMap",value:function(t){var e=this;this.sectionNameArray=[],this.offsetTopArray=[];for(var i=[].concat(r(this.refs.wrapper.childNodes)),n=0;n<i.length;n++){var o=i[n];this.offsetTopArray.push(o.offsetTop)}t.forEach(function(t){e.sectionNameArray.push(t.props.name)})}},{key:"scrollToTop",value:function(){this.refs.wrapper.scrollTop=0}},{key:"scrollTo",value:function(t){var e=document.getElementById((0,u.encodeName)(t)).offsetTop;this.refs.wrapper.scrollTop=e}},{key:"handleScroll",value:function(t){this.handleScrollHelper(t.target)}},{key:"handleScrollHelper",value:function(t){function e(t,e){for(var i=0;i<t.length;i++){if(t[i]===e)return i;if(t[i]>e)return e-t[i-1]>=t[i]-e?i:i-1}return-1}var i=e(this.offsetTopArray,t.scrollTop);if(i>=0){var n=this.sectionNameArray[i];n!==this.state.currentActiveSection&&(this.setState({currentActiveSection:n}),this.props.onScroll(n))}}},{key:"render",value:function(){var t=this.props,e=t.name,i=t.style,n=t.height;return c["default"].createElement("section",{style:Object.assign(i,{height:n})},c["default"].createElement("div",{className:"full-height",id:(0,u.encodeName)(e),ref:"wrapper",onScroll:this.handleScroll,style:{overflow:"auto",position:"relative"}},this.props.children))}}]),e}(h.Component);p.propTypes={name:c["default"].PropTypes.string,onScroll:c["default"].PropTypes.func,timeInterval:c["default"].PropTypes.number,style:c["default"].PropTypes.object,height:c["default"].PropTypes.oneOfType([c["default"].PropTypes.string,c["default"].PropTypes.number]),children:c["default"].PropTypes.arrayOf(c["default"].PropTypes.element)},p.defaultProps={onScroll:function(t){return t},timeInterval:50,height:"100%",style:{}},e["default"]=p},835:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.descriptionConfig=[{typeKey:"scenarios",typeName:"应用场景",description:"小米及第三方应用的精细化用户标签",limitation:"",updatePeriod:"天级更新"},{typeKey:"basicProperties",typeName:"基础属性",description:"",limitation:"",updatePeriod:"",props:[{propName:"星座",propKey:"",description:"用户填写的生日数据（手环、账号、金融）",limitation:"",updatePeriod:"周级更新"},{propName:"生肖",propKey:"",description:"用户填写的生日数据（手环、账号、金融）",limitation:"",updatePeriod:"周级更新"},{propName:"性别",propKey:"",description:"用户填写的性别数据（ 手环、账号、金融）和模型预测的性别数据",limitation:"",updatePeriod:"周级更新"},{propName:"年龄",propKey:"",description:"用户填写的性别数据（ 手环、账号、金融）和模型预测的性别数据",limitation:"",updatePeriod:"周级更新"},{propName:"学历",propKey:"",description:"用户填写的学历数据（账号、微博）",limitation:"",updatePeriod:"周级更新"},{propName:"是否怀孕",propKey:"",description:"基于用户的手机相关应用安装及使用、浏览器相关词汇搜索行为决定",limitation:"",updatePeriod:"周级更新"},{propName:"家有儿童",propKey:"",description:"基于用户的手机相关应用安装及使用、浏览器相关词汇搜索行为决定",limitation:"",updatePeriod:"周级更新"},{propName:"用户状态",propKey:"",description:"基于用户的手机相关应用安装及使用、浏览器相关词汇搜索行为决定",limitation:"",updatePeriod:"周级更新"}]},{typeKey:"regionProperties",typeName:"地域属性",description:"主要由用户的地址与IP信息决定",limitation:"60天",updatePeriod:"天级更新"},{typeKey:"boundProperties",typeName:"绑定行为",description:"",limitation:"",updatePeriod:"",props:[{propName:"绑定智能设备",propKey:"",description:"用户绑定智能设备行为",limitation:"",updatePeriod:"周级更新"},{propName:"绑定小米账号",propKey:"",description:"用户绑定小米账号行为",limitation:"",updatePeriod:"天级更新"},{propName:"绑定其他",propKey:"",description:"用户绑定行为",limitation:"",updatePeriod:"天级更新"}]},{typeKey:"deviceProperties",typeName:"设备属性",description:"",limitation:"",updatePeriod:"",props:[{propName:"激活时间",propKey:"",description:"设备首次激活的月份",limitation:"",updatePeriod:"天级更新"},{propName:"运营商",propKey:"",description:"设备上报信息（暂不包括国外运营商）",limitation:"",updatePeriod:"天级更新"},{propName:"手机型号",propKey:"",description:"设备上报信息",limitation:"",updatePeriod:"天级更新"},{propName:"智能设备",propKey:"",description:"根据小米账号将智能设备的mac地址关联到小米手机设备并上报信息",limitation:"60天",updatePeriod:"天级更新"},{propName:"系统版本",propKey:"",description:"设备上报信息",limitation:"",updatePeriod:"天级更新"},{propName:"稳定版开发版",propKey:"",description:"设备上报信息",limitation:"",updatePeriod:"天级更新"},{propName:"MIUI大版本",propKey:"",description:"设备上报信息",limitation:"",updatePeriod:"天级更新"}]},{typeKey:"interestProperties",typeName:"兴趣属性",description:"根据用户近期手机应用使用行为（时长和频率）判断其兴趣强弱",limitation:"45天",updatePeriod:"周级更新"},{typeKey:"purchaseProperties",typeName:"购买属性",description:"",limitation:"",updatePeriod:"",props:[{propName:"购买手机",propKey:"",description:"用户在小米网PC、小米网APP、米家APP的手机购买行为",limitation:"",updatePeriod:"天级更新"},{propName:"购买智能设备",propKey:"",description:"用户在小米网PC、小米网APP、米家APP的智能设备购买行为",limitation:"",updatePeriod:"天级更新"}]},{typeKey:"keywords",typeName:"关键词搜索",description:"用户在小米应用（如浏览器、应用商店等）的关键词搜索行为",limitation:"45天",updatePeriod:"天级更新"},{typeKey:"",typeName:"消费属性",description:"",limitation:"",updatePeriod:"",props:[{propName:"游戏",propKey:"",description:"根据用户的历史米币消费情况判断其消费水平高低",limitation:"",updatePeriod:"天级更新"},{propName:"图书",propKey:"",description:"根据用户的历史米币消费情况判断其消费水平高低",limitation:"",updatePeriod:"天级更新"},{propName:"米币",propKey:"",description:"根据用户的历史米币消费情况判断其消费水平高低",limitation:"",updatePeriod:"天级更新"},{propName:"主题",propKey:"",description:"根据用户的历史米币消费情况判断其消费水平高低",limitation:"",updatePeriod:"天级更新"},{propName:"手机",propKey:"",description:"根据用户在小米网PC、小米网APP、米家APP的历史购买行为判断其消费水平高低",limitation:"",updatePeriod:"天级更新"},{propName:"手机配件",propKey:"",description:"根据用户在小米网PC、小米网APP、米家APP的历史购买行为判断其消费水平高低",limitation:"",updatePeriod:"天级更新"},{propName:"智能硬件",propKey:"",description:"根据用户在小米网PC、小米网APP、米家APP的历史购买行为判断其消费水平高低",limitation:"",updatePeriod:"天级更新"},{propName:"电视／盒子",propKey:"",description:"根据用户在小米网PC、小米网APP、米家APP的历史购买行为判断其消费水平高低",limitation:"",updatePeriod:"天级更新"}]},{typeKey:"",typeName:"差异化特征",description:"",limitation:"",updatePeriod:"",props:[{propName:"App安装",propKey:"",description:"用样本用户中安装某个APP数量除以对比集用户中安装该APP数量，将结果从高到低排列，取前50个结果（反映样本特征）和后50个结果（反映对比集特征）",limitation:"",updatePeriod:"天级更新"},{propName:"App使用",propKey:"",description:"用样本用户中某个APP月活用户数除以对比集用户中该APP月活用户数，将结果从高到低排列，取前50个结果（反映样本特征）和后50个结果（反映对比集特征）",limitation:"",updatePeriod:"天级更新"},{propName:"网站访问",propKey:"",description:"用样本用户中访问某个网站数量除以对比集用户中访问该网站的数量，将结果从高到低排列，取前50个结果（反映样本特征）和后50个结果（反映对比集特征）",limitation:"45天",updatePeriod:"天级更新"},{propName:"搜索词",propKey:"",description:"用样本用户中搜索某个搜索词数量除以对比集用户中搜索该搜索词的数量，将结果从高到低排列，取前50个结果（反映样本特征）和后50个结果（反映对比集特征）",limitation:"90天",updatePeriod:"天级更新"}]},{typeKey:"",typeName:"手机行为",description:"",limitation:"",updatePeriod:"",props:[{propName:"App平均打开时长",propKey:"",description:"用户近期（28天）平均每天手机全部APP使用时长总和",limitation:"28天",updatePeriod:"周级更新"},{propName:"App平均打开次数",propKey:"",description:"用户近期（28天）平均每天手机全部APP打开次数总和",limitation:"28天",updatePeriod:"周级更新"}]}]},899:function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return{persistentState:t.persistentStore.toJS(),state:t.userProfile.report}}function h(t){return{persistentActions:(0,f.bindActionCreators)(v,t),actions:(0,f.bindActionCreators)(g,t)}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(1),d=r(u),p=i(16),f=i(7),m=i(900),g=n(m),y=i(264),v=n(y),b=i(278),x=r(b),w=i(17),k=i(804),M=r(k),_=i(377),P=n(_),S=i(380),T=i(806),C=r(T),A=P.Wrapper,E=function(t){function e(t){o(this,e);var i=s(this,Object.getPrototypeOf(e).call(this,t));return i.handleCompareUserSetChange=i.handleCompareUserSetChange.bind(i),i.handlePropertyChange=i.handlePropertyChange.bind(i),i.handleScroll=i.handleScroll.bind(i),i.handleReportDownload=i.handleReportDownload.bind(i),i}return a(e,t),c(e,[{key:"componentWillMount",value:function(){var t=this.props.location.query,e=t.id,i=t.storageKey,n=this.props.persistentState.compareSetId;void 0===n&&(n=x["default"].defaultToId,this.props.persistentActions.persistentSet("compareSetId",n));var r=localStorage.getItem(i),o=this.props.persistentState.diamond;r?(localStorage.removeItem(i),this.props.persistentActions.persistentSet("diamond",r)):o||""===o||this.props.persistentActions.persistentSet("diamond",""),this.props.actions.initialize(e,n)}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.state.get("compareUserSet"),i=t.state.get("compareUserSet");e&&i&&e.get("id")===i.get("id")||this.refs.scrollWrapper.scrollToTop();var n=t.state.toJS(),r=n.activeProperty;r&&this.props.actions.loadReportData(r)}},{key:"handleCompareUserSetChange",value:function(t){this.props.persistentActions.persistentSet("compareSetId",t.key),this.props.actions.setCompareUserSet(t)}},{key:"handleScroll",value:function(t){var e=this.props.state.toJS(),i=e.key2PropMap,n=i.get(t);n&&(this.props.actions.setActiveProperty(n),this.props.actions.loadReportData(n))}},{key:"handlePropertyChange",value:function(t){this.props.actions.setActiveProperty(t),this.refs.scrollWrapper.scrollTo(t.key)}},{key:"handleReportDownload",value:function(){var t=this.props.state,e=t.get("downloadAllProcess");e?1===e&&(0,S.saveReportData)(t.get("baseUserSet").get("name")+"-"+t.get("compareUserSet").get("name")+"-"+(new Date).toISOString().slice(0,10).replace(/-/g,"/")+".csv",t.get("reportDataSource"),t.get("key2PropMap")):this.props.actions.loadAllReport()}},{key:"render",value:function(){var t=this.props.state.toJS(),e=t.activeProperty,i=t.compareUserSet,n=t.propertiesValuePool,r=t.userSetValuePool,o=t.downloadAllProcess,s=t.title;return d["default"].createElement("div",{className:"fix-top-row-wrapper",style:{paddingTop:"50px"}},d["default"].createElement("div",{className:"fix-top-row bottom-border",style:{height:"50px",lineHeight:"50px"}},d["default"].createElement("div",{className:"fixed-position fs16 fc-dark",style:{width:"100%"}},d["default"].createElement("p",{className:"text-center"},s),d["default"].createElement("div",{className:"text-right",style:{position:"relative",top:"-50px"}},d["default"].createElement("div",{className:"inline-mid fc-blue pointer",style:{marginRight:"20px"},onClick:this.handleReportDownload},d["default"].createElement("i",{className:"fa fa-download fs16 inline-mid",style:{marginRight:"5px"}}),d["default"].createElement("span",{className:"inline-mid fs14"},null===o||1===o?"下载报告":"下载中... ("+(0,w.getReadablePercent)(o,{decimal:0})+")"))))),d["default"].createElement("div",{className:"full-height",style:{position:"relative"}},d["default"].createElement("div",{className:"fixed-position",style:{zIndex:"100",width:"100%"}},d["default"].createElement(M["default"],{maxHeight:"400px",defalutCollpase:!0,style:{overflow:"hidden",width:"100%",background:"rgba(236, 243, 247, 0.92)",boxShadow:"1px 1px 8px 0px rgba(0,0,0,0.2)"}},d["default"].createElement(C["default"],{selectedUserSet:i,selectedProperty:e,userSetValuePool:r,propertiesValuePool:n,onUserSetChange:this.handleCompareUserSetChange,onPropertyChange:this.handlePropertyChange}))),d["default"].createElement("div",{className:"bg-grey full-height"},d["default"].createElement(A,{name:"report-scroll-wrapper",ref:"scrollWrapper",onScroll:this.handleScroll,height:"100%",style:{paddingTop:"20px"}},(0,S.getPageElements)(this.props.state)))))}}]),e}(u.Component);E.propTypes={location:d["default"].PropTypes.object,children:d["default"].PropTypes.element,state:d["default"].PropTypes.object,persistentState:d["default"].PropTypes.object,actions:d["default"].PropTypes.object,persistentActions:d["default"].PropTypes.object},E.contextTypes={router:d["default"].PropTypes.object},e["default"]=(0,p.connect)(l,h)(E)},900:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t){return{type:"DATA_SET@REPORT@USER_SET",value:t}}function s(t){return{type:"DATA_SET@REPORT@PROPERTY_SET",value:t}}function a(t){return{type:"DATA_SET@REPORT@DOWNLOAD_ALL_PROCESS",value:t}}function l(t,e,i){return function(i,n){return Promise.all([(0,m["default"])((0,y["default"])("myDataSet:predefinedUserSet",(0,b["default"])().name)).then(function(t){return t.json()})["catch"](function(){return{status:"fail",result:[]}}),(0,m["default"])((0,y["default"])("myDataSet:userProfileSet",(0,b["default"])().name)).then(function(t){return t.json()})["catch"](function(){return{status:"fail",result:[]}}),(0,m["default"])((0,y["default"])("properties:getAllProperties")).then(function(t){return t.json()})["catch"](function(){return{status:"fail",result:[]}}),(0,m["default"])((0,y["default"])("report:getProfileUserSetById",t)).then(function(t){
return t.json()})["catch"](function(){return{status:"fail",result:{data:null}}}),(0,m["default"])((0,y["default"])("report:getProfileUserSetById",e)).then(function(t){return t.json()})["catch"](function(){return{status:"fail",result:{data:null}}})]).then(function(t){return i({type:"DATA_SET@REPORT@INITIALIZE",result:p({},k.processInitializion.apply(void 0,r(t).concat([n().persistentStore.get("diamond")])))})})["catch"](function(t){w["default"].error(t),w["default"].log("Initalization Failed")})}}function h(t){return function(e){return(0,m["default"])((0,y["default"])("report:getProfileUserSetById",t)).then(function(t){return t.json()})["catch"](function(){return{status:"fail",result:{data:null}}}).then(function(t){return e({type:"DATA_SET@REPORT@USER_SET",userSetType:"compareUserSet",status:t.status,result:t.result.data})})}}function c(t){return function(e,i){function n(t,i,n){return w["default"].warn("Load Report Data Error:\n[/"+s.id+"/"+a.id+"/"+t+"] : "+i),n&&w["default"].error(n,n.stack),e({type:"DATA_SET@REPORT@REPORT_DATA",propKey:t,status:i,result:i})}var o=i().userProfile.report,s=o.get("baseUserSet").toJS(),a=o.get("compareUserSet").toJS(),l=o.get("reportDataSource"),h=o.get("key2PropMap"),c=o.get("diamond").toJS();if(!l.has(t.key))return null;var u=3-l.filter(function(t){return t===M.reportStatus.loading}).size;if(u<=0)return null;var d=[],p=-1;return[].concat(r(l.keys())).forEach(function(e,i){e===t.key?(d.push(e),p=i):p>=0&&d.length<u&&d.push(e)}),Promise.all(d.map(function(t){var i=l.get(t);if("string"!=typeof i)return null;if(i!==M.reportStatus.empty&&0!==i.indexOf(M.reportStatus.reload))return null;var r=parseInt(i.split("||")[1]||0);e({type:"DATA_SET@REPORT@REPORT_DATA",propKey:t,status:M.reportStatus.loading,result:M.reportStatus.loading});var o=new FormData;return o.append("id",s.id),o.append("toid",a.id),o.append("tag",t),o.append("user",(0,b["default"])().name),o.append("display",h.get(t).display.table),o.append("filter",JSON.stringify(c.map(function(t){return{key:t.property.key,value:t.id}}))),(0,m["default"])((0,y["default"])("report:getReportData"),{timeout:6e4,method:"POST",body:o}).then(function(t){return t.json()}).then(function(i){if(i.status&&"succ"!==i.status)return n(t,M.reportStatus.fail_server);var r=(0,k.convertReportData)(i.result,s,a,h.get(t),c),o=r.status,l=r.result,u=r.error;return o!==M.reportStatus.succ?n(t,o,u):e({type:"DATA_SET@REPORT@REPORT_DATA",propKey:t,status:o,result:l})})["catch"](function(e){var i=void 0;i=e.message===f.FETCH_TIMEOUT&&r<1?M.reportStatus.reload+"||"+(r+1):M.reportStatus.fail_fetch,n(t,i,e)})}))}}function u(){return function(t,e){var i=e().userProfile.report.get("reportDataSource"),n=e().userProfile.report.get("key2PropMap"),r=0,o=null,s=!0,l=!1,h=void 0;try{for(var p,f=i[Symbol.iterator]();!(s=(p=f.next()).done);s=!0){var m=d(p.value,2),g=m[0],y=m[1];"string"==typeof y&&(y!==M.reportStatus.empty&&0!==y.indexOf(M.reportStatus.reload)||(r++,null===o&&(o=g)))}}catch(v){l=!0,h=v}finally{try{!s&&f["return"]&&f["return"]()}finally{if(l)throw h}}return t(a(1-r/i.size)),null!==o?c(n.get(o))(t,e).then(function(){return u()(t,e)}):"Done"}}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(l){r=!0,o=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.setCompareUserSet=o,e.setActiveProperty=s,e.setDownloadAllProcess=a,e.initialize=l,e.loadCompareUserSet=h,e.loadReportData=c,e.loadAllReport=u;var f=i(49),m=n(f),g=i(39),y=n(g),v=i(34),b=n(v),x=i(63),w=n(x),k=i(380),M=i(135)},937:function(t,e,i){"use strict";function n(t,e){var i=void 0,n=void 0,o=void 0,s=!0,a=!1,l=void 0;try{for(var h,c=r.descriptionConfig[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var u=h.value;if((u.typeName===t||u.typeKey===t)&&(i=u.description,n=u.updatePeriod,o=u.limitation,u.props)){var d=!0,p=!1,f=void 0;try{for(var m,g=u.props[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value;y.propName!==e&&y.propKey!==e||(i=y.description,n=y.updatePeriod,o=y.limitation)}}catch(v){p=!0,f=v}finally{try{!d&&g["return"]&&g["return"]()}finally{if(p)throw f}}}}}catch(v){a=!0,l=v}finally{try{!s&&c["return"]&&c["return"]()}finally{if(a)throw l}}return{description:i,updatePeriod:n,limitation:o}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n;var r=i(835)},941:function(t,e,i){e=t.exports=i(13)(),e.push([t.id,".style__nav-menu-item___3cH01{width:100px;padding:0 5px;font-size:12px}",""]),e.locals={"nav-menu":"style__nav-menu___18LC4","nav-menu-item":"style__nav-menu-item___3cH01"}},945:function(t,e,i){e=t.exports=i(13)(),e.push([t.id,".style__table1___3BqGp,.style__table2___2uGRY,.style__table3___P9K7z,.style__table5___3337Q,.style__table___2FML-,.style__td___9K9iG,.style__th___212jm{border-collapse:collapse;text-align:center;margin-bottom:15px}.style__table___2FML- .style__td___9K9iG,.style__table___2FML- .style__th___212jm{padding:10px 0}.style__table___2FML- .style__th___212jm{border:0;border-top:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0}.style__table___2FML- .style__tr___3OUm3:first-of-type .style__td___9K9iG{border-top:1px solid #e0e0e0}.style__table___2FML- .style__tr___3OUm3:last-of-type .style__td___9K9iG{border-bottom:1px solid #e0e0e0}.style__table___2FML- .style__td___9K9iG:last-of-type,.style__table___2FML- .style__th___212jm:last-of-type{border-right:1px solid #e0e0e0}.style__table___2FML- .style__td___9K9iG:first-of-type,.style__table___2FML- .style__th___212jm:first-of-type{border-left:1px solid #e0e0e0}.style__tag___2e1BT{display:inline-block;padding:2px 10px;border-radius:5px;color:#fff}.style__table1___3BqGp{width:100%;margin:0}.style__table1___3BqGp .style__td___9K9iG,.style__table1___3BqGp .style__th___212jm{width:50%}.style__table2___2uGRY{width:100%;margin:0}.style__table2___2uGRY .style__td___9K9iG,.style__table2___2uGRY .style__th___212jm{width:33.333333333333%}.style__table3___P9K7z{width:100%;margin:0}.style__table3___P9K7z .style__td___9K9iG,.style__table3___P9K7z .style__th___212jm{width:50%;border-right:1px solid #e0e0e0}.style__table5___3337Q{width:100%;margin:0}.style__table5___3337Q .style__td___9K9iG,.style__table5___3337Q .style__th___212jm{width:25%}",""]),e.locals={table:"style__table___2FML-",th:"style__th___212jm",td:"style__td___9K9iG",table1:"style__table1___3BqGp",table2:"style__table2___2uGRY",table3:"style__table3___P9K7z",table5:"style__table5___3337Q",tr:"style__tr___3OUm3",tag:"style__tag___2e1BT"}},964:function(t,e){!function(i){if("object"==typeof e&&"undefined"!=typeof t)t.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.html2canvas=i()}}(function(){var t;return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return r(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,i,n){(function(e){!function(r){function o(t){throw new RangeError(D[t])}function s(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function a(t,e){var i=t.split("@"),n="";i.length>1&&(n=i[0]+"@",t=i[1]),t=t.replace(I,".");var r=t.split("."),o=s(r,e).join(".");return n+o}function l(t){for(var e,i,n=[],r=0,o=t.length;r<o;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<o?(i=t.charCodeAt(r++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--)):n.push(e);return n}function h(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=z(t>>>10&1023|55296),t=56320|1023&t),e+=z(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:M}function u(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,i){var n=0;for(t=i?N(t/T):t>>1,t+=N(t/e);t>R*P>>1;n+=M)t=N(t/R);return N(n+(R+1)*t/(t+S))}function p(t){var e,i,n,r,s,a,l,u,p,f,m=[],g=t.length,y=0,v=A,b=C;for(i=t.lastIndexOf(E),i<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&o("not-basic"),m.push(t.charCodeAt(n));for(r=i>0?i+1:0;r<g;){for(s=y,a=1,l=M;r>=g&&o("invalid-input"),u=c(t.charCodeAt(r++)),(u>=M||u>N((k-y)/a))&&o("overflow"),y+=u*a,p=l<=b?_:l>=b+P?P:l-b,!(u<p);l+=M)f=M-p,a>N(k/f)&&o("overflow"),a*=f;e=m.length+1,b=d(y-s,e,0==s),N(y/e)>k-v&&o("overflow"),v+=N(y/e),y%=e,m.splice(y++,0,v)}return h(m)}function f(t){var e,i,n,r,s,a,h,c,p,f,m,g,y,v,b,x=[];for(t=l(t),g=t.length,e=A,i=0,s=C,a=0;a<g;++a)m=t[a],m<128&&x.push(z(m));for(n=r=x.length,r&&x.push(E);n<g;){for(h=k,a=0;a<g;++a)m=t[a],m>=e&&m<h&&(h=m);for(y=n+1,h-e>N((k-i)/y)&&o("overflow"),i+=(h-e)*y,e=h,a=0;a<g;++a)if(m=t[a],m<e&&++i>k&&o("overflow"),m==e){for(c=i,p=M;f=p<=s?_:p>=s+P?P:p-s,!(c<f);p+=M)b=c-f,v=M-f,x.push(z(u(f+b%v,0))),c=N(b/v);x.push(z(u(c,0))),s=d(i,y,n==r),i=0,++n}++i,++e}return x.join("")}function m(t){return a(t,function(t){return O.test(t)?p(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return L.test(t)?"xn--"+f(t):t})}var y="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof i&&i&&!i.nodeType&&i,b="object"==typeof e&&e;b.global!==b&&b.window!==b&&b.self!==b||(r=b);var x,w,k=2147483647,M=36,_=1,P=26,S=38,T=700,C=72,A=128,E="-",O=/^xn--/,L=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=M-_,N=Math.floor,z=String.fromCharCode;if(x={version:"1.3.2",ucs2:{decode:l,encode:h},decode:p,encode:f,toASCII:g,toUnicode:m},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return x});else if(y&&v)if(i.exports==y)v.exports=x;else for(w in x)x.hasOwnProperty(w)&&(y[w]=x[w]);else r.punycode=x}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,i){function n(t,e,i){!t.defaultView||e===t.defaultView.pageXOffset&&i===t.defaultView.pageYOffset||t.defaultView.scrollTo(e,i)}function r(t,e){try{e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(i){a("Unable to copy canvas content from",t,i)}}function o(t,e){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),n=t.firstChild;n;)e!==!0&&1===n.nodeType&&"SCRIPT"===n.nodeName||i.appendChild(o(n,e)),n=n.nextSibling;return 1===t.nodeType&&(i._scrollTop=t.scrollTop,i._scrollLeft=t.scrollLeft,"CANVAS"===t.nodeName?r(t,i):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value)),i}function s(t){if(1===t.nodeType){t.scrollTop=t._scrollTop,t.scrollLeft=t._scrollLeft;for(var e=t.firstChild;e;)s(e),e=e.nextSibling}}var a=t("./log");e.exports=function(t,e,i,r,a,l,h){var c=o(t.documentElement,a.javascriptEnabled),u=e.createElement("iframe");return u.className="html2canvas-container",u.style.visibility="hidden",u.style.position="fixed",u.style.left="-10000px",u.style.top="0px",u.style.border="0",u.width=i,u.height=r,u.scrolling="no",e.body.appendChild(u),new Promise(function(e){var i=u.contentWindow.document;u.contentWindow.onload=u.onload=function(){var t=setInterval(function(){i.body.childNodes.length>0&&(s(i.documentElement),clearInterval(t),"view"===a.type&&(u.contentWindow.scrollTo(l,h),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||u.contentWindow.scrollY===h&&u.contentWindow.scrollX===l||(i.documentElement.style.top=-h+"px",i.documentElement.style.left=-l+"px",i.documentElement.style.position="absolute")),e(u))},50)},i.open(),i.write("<!DOCTYPE html><html></html>"),n(t,l,h),i.replaceChild(i.adoptNode(c),i.documentElement),i.close()})}},{"./log":13}],3:[function(t,e,i){function n(t){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(t)||this.namedColor(t)||this.rgb(t)||this.rgba(t)||this.hex6(t)||this.hex3(t)}n.prototype.darken=function(t){var e=1-t;return new n([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},n.prototype.isTransparent=function(){return 0===this.a},n.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},n.prototype.fromArray=function(t){return Array.isArray(t)&&(this.r=Math.min(t[0],255),this.g=Math.min(t[1],255),this.b=Math.min(t[2],255),t.length>3&&(this.a=t[3])),Array.isArray(t)};var r=/^#([a-f0-9]{3})$/i;n.prototype.hex3=function(t){var e=null;return null!==(e=t.match(r))&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),null!==e};var o=/^#([a-f0-9]{6})$/i;n.prototype.hex6=function(t){var e=null;return null!==(e=t.match(o))&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),null!==e};var s=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=function(t){var e=null;return null!==(e=t.match(s))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),null!==e};var a=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=function(t){var e=null;return null!==(e=t.match(a))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),null!==e},n.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},n.prototype.namedColor=function(t){t=t.toLowerCase();var e=l[t];if(e)this.r=e[0],this.g=e[1],this.b=e[2];else if("transparent"===t)return this.r=this.g=this.b=this.a=0,!0;return!!e},n.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e.exports=n},{}],4:[function(e,i,n){function r(t,e){var i=M++;if(e=e||{},e.logging&&(y.options.logging=!0,y.options.start=Date.now()),e.async="undefined"==typeof e.async||e.async,e.allowTaint="undefined"!=typeof e.allowTaint&&e.allowTaint,e.removeContainer="undefined"==typeof e.removeContainer||e.removeContainer,e.javascriptEnabled="undefined"!=typeof e.javascriptEnabled&&e.javascriptEnabled,e.imageTimeout="undefined"==typeof e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"==typeof e.renderer?e.renderer:p,e.strict=!!e.strict,"string"==typeof t){if("string"!=typeof e.proxy)return Promise.reject("Proxy must be used when rendering url");var n=null!=e.width?e.width:window.innerWidth,r=null!=e.height?e.height:window.innerHeight;return x(u(t),e.proxy,document,n,r,e).then(function(t){return s(t.contentWindow.document.documentElement,t,e,n,r)})}var a=(void 0===t?[document.documentElement]:t.length?t:[t])[0];return a.setAttribute(k+i,i),o(a.ownerDocument,e,a.ownerDocument.defaultView.innerWidth,a.ownerDocument.defaultView.innerHeight,i).then(function(t){return"function"==typeof e.onrendered&&(y("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),e.onrendered(t)),t})}function o(t,e,i,n,r){return b(t,t,i,n,e,t.defaultView.pageXOffset,t.defaultView.pageYOffset).then(function(o){y("Document cloned");var a=k+r,l="["+a+"='"+r+"']";t.querySelector(l).removeAttribute(a);var h=o.contentWindow,c=h.document.querySelector(l),u="function"==typeof e.onclone?Promise.resolve(e.onclone(h.document)):Promise.resolve(!0);return u.then(function(){return s(c,o,e,i,n)})})}function s(t,e,i,n,r){var o=e.contentWindow,s=new d(o.document),u=new f(i,s),p=w(t),g="view"===i.type?n:h(o.document),v="view"===i.type?r:c(o.document),b=new i.renderer(g,v,u,i,document),x=new m(t,b,s,u,i);return x.ready.then(function(){y("Finished rendering");var n;return n="view"===i.type?l(b.canvas,{width:b.canvas.width,height:b.canvas.height,top:0,left:0,x:0,y:0}):t===o.document.body||t===o.document.documentElement||null!=i.canvas?b.canvas:l(b.canvas,{width:null!=i.width?i.width:p.width,height:null!=i.height?i.height:p.height,top:p.top,left:p.left,x:0,y:0}),a(e,i),n})}function a(t,e){e.removeContainer&&(t.parentNode.removeChild(t),y("Cleaned up container"))}function l(t,e){var i=document.createElement("canvas"),n=Math.min(t.width-1,Math.max(0,e.left)),r=Math.min(t.width,Math.max(1,e.left+e.width)),o=Math.min(t.height-1,Math.max(0,e.top)),s=Math.min(t.height,Math.max(1,e.top+e.height));i.width=e.width,i.height=e.height;var a=r-n,l=s-o;return y("Cropping canvas at:","left:",e.left,"top:",e.top,"width:",a,"height:",l),y("Resulting crop with width",e.width,"and height",e.height,"with x",n,"and y",o),i.getContext("2d").drawImage(t,n,o,a,l,e.x,e.y,a,l),i}function h(t){return Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth))}function c(t){return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}function u(t){var e=document.createElement("a");return e.href=t,e.href=e.href,e}var d=e("./support"),p=e("./renderers/canvas"),f=e("./imageloader"),m=e("./nodeparser"),g=e("./nodecontainer"),y=e("./log"),v=e("./utils"),b=e("./clone"),x=e("./proxy").loadUrlDocument,w=v.getBounds,k="data-html2canvas-node",M=0;r.CanvasRenderer=p,r.NodeContainer=g,r.log=y,r.utils=v;var _="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:r;i.exports=_,"function"==typeof t&&t.amd&&t("html2canvas",[],function(){return _})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(t,e,i){function n(t){if(this.src=t,r("DummyImageContainer for",t),!this.promise||!this.image){r("Initiating DummyImageContainer"),n.prototype.image=new Image;var e=this.image;n.prototype.promise=new Promise(function(t,i){e.onload=t,e.onerror=i,e.src=o(),e.complete===!0&&t(e)})}}var r=t("./log"),o=t("./utils").smallImage;e.exports=n},{"./log":13,"./utils":26}],6:[function(t,e,i){function n(t,e){var i,n,o=document.createElement("div"),s=document.createElement("img"),a=document.createElement("span"),l="Hidden Text";o.style.visibility="hidden",o.style.fontFamily=t,o.style.fontSize=e,o.style.margin=0,o.style.padding=0,document.body.appendChild(o),s.src=r(),s.width=1,s.height=1,s.style.margin=0,s.style.padding=0,s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=e,a.style.margin=0,a.style.padding=0,a.appendChild(document.createTextNode(l)),o.appendChild(a),o.appendChild(s),i=s.offsetTop-a.offsetTop+1,o.removeChild(a),o.appendChild(document.createTextNode(l)),o.style.lineHeight="normal",s.style.verticalAlign="super",n=s.offsetTop-o.offsetTop+1,document.body.removeChild(o),this.baseline=i,this.lineWidth=1,this.middle=n}var r=t("./utils").smallImage;e.exports=n},{"./utils":26}],7:[function(t,e,i){function n(){this.data={}}var r=t("./font");n.prototype.getMetrics=function(t,e){return void 0===this.data[t+"-"+e]&&(this.data[t+"-"+e]=new r(t,e)),this.data[t+"-"+e]},e.exports=n},{"./font":6}],8:[function(t,e,i){function n(e,i,n){this.image=null,this.src=e;var r=this,s=o(e);this.promise=(i?new Promise(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(n.proxy,s,n)).then(function(e){var i=t("./core");return i(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(t){return r.image=t})}var r=t("./utils"),o=r.getBounds,s=t("./proxy").loadUrlDocument;n.prototype.proxyLoad=function(t,e,i){var n=this.src;return s(n.src,t,n.ownerDocument,e.width,e.height,i)},e.exports=n},{"./core":4,"./proxy":16,"./utils":26}],9:[function(t,e,i){function n(t){this.src=t.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}n.TYPES={LINEAR:1,RADIAL:2},n.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,e.exports=n},{}],10:[function(t,e,i){function n(t,e){this.src=t,this.image=new Image;var i=this;this.tainted=null,this.promise=new Promise(function(n,r){i.image.onload=n,i.image.onerror=r,e&&(i.image.crossOrigin="anonymous"),i.image.src=t,i.image.complete===!0&&n(i.image)})}e.exports=n},{}],11:[function(t,e,i){function n(t,e){this.link=null,this.options=t,this.support=e,this.origin=this.getOrigin(window.location.href)}var r=t("./log"),o=t("./imagecontainer"),s=t("./dummyimagecontainer"),a=t("./proxyimagecontainer"),l=t("./framecontainer"),h=t("./svgcontainer"),c=t("./svgnodecontainer"),u=t("./lineargradientcontainer"),d=t("./webkitgradientcontainer"),p=t("./utils").bind;n.prototype.findImages=function(t){var e=[];return t.reduce(function(t,e){switch(e.node.nodeName){case"IMG":return t.concat([{args:[e.node.src],method:"url"}]);case"svg":case"IFRAME":return t.concat([{args:[e.node],method:e.node.nodeName}])}return t},[]).forEach(this.addImage(e,this.loadImage),this),e},n.prototype.findBackgroundImage=function(t,e){return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this),t},n.prototype.addImage=function(t,e){return function(i){i.args.forEach(function(n){this.imageExists(t,n)||(t.splice(0,0,e.call(this,i)),r("Added image #"+t.length,"string"==typeof n?n.substring(0,100):n))},this)}},n.prototype.hasImageBackground=function(t){return"none"!==t.method},n.prototype.loadImage=function(t){if("url"===t.method){var e=t.args[0];return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new o(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),(!1)):this.isSameOrigin(e)||this.options.allowTaint===!0||this.isSVG(e)?new o(e,(!1)):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new o(e,(!0)):this.options.proxy?new a(e,this.options.proxy):new s(e):new h(e)}return"linear-gradient"===t.method?new u(t):"gradient"===t.method?new d(t):"svg"===t.method?new c(t.args[0],this.support.svg):"IFRAME"===t.method?new l(t.args[0],this.isSameOrigin(t.args[0].src),this.options):new s(t)},n.prototype.isSVG=function(t){return"svg"===t.substring(t.length-3).toLowerCase()||h.prototype.isInline(t)},n.prototype.imageExists=function(t,e){return t.some(function(t){return t.src===e})},n.prototype.isSameOrigin=function(t){return this.getOrigin(t)===this.origin},n.prototype.getOrigin=function(t){var e=this.link||(this.link=document.createElement("a"));return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port},n.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout)["catch"](function(){var e=new s(t.src);return e.promise.then(function(e){t.image=e})})},n.prototype.get=function(t){var e=null;return this.images.some(function(i){return(e=i).src===t})?e:null},n.prototype.fetch=function(t){return this.images=t.reduce(p(this.findBackgroundImage,this),this.findImages(t)),this.images.forEach(function(t,e){t.promise.then(function(){r("Succesfully loaded image #"+(e+1),t)},function(i){r("Failed loading image #"+(e+1),t,i)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),r("Finished searching images"),this},n.prototype.timeout=function(t,e){var i,n=Promise.race([t.promise,new Promise(function(n,o){i=setTimeout(function(){r("Timed out loading image",t),o(t)},e)})]).then(function(t){return clearTimeout(i),t});return n["catch"](function(){clearTimeout(i)}),n},e.exports=n},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(t,e,i){function n(t){r.apply(this,arguments),this.type=r.TYPES.LINEAR;var e=n.REGEXP_DIRECTION.test(t.args[0])||!r.REGEXP_COLORSTOP.test(t.args[0]);e?t.args[0].split(/\s+/).reverse().forEach(function(t,e){switch(t){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var i=this.y0,n=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=n,this.y1=i;break;case"center":break;default:var r=.01*parseFloat(t,10);if(isNaN(r))break;0===e?(this.y0=r,this.y1=1-this.y0):(this.x0=r,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=t.args.slice(e?1:0).map(function(t){var e=t.match(r.REGEXP_COLORSTOP),i=+e[2],n=0===i?"%":e[3];return{color:new o(e[1]),stop:"%"===n?i/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(t,e){null===t.stop&&this.colorStops.slice(e).some(function(i,n){return null!==i.stop&&(t.stop=(i.stop-this.colorStops[e-1].stop)/(n+1)+this.colorStops[e-1].stop,!0)},this)},this)}var r=t("./gradientcontainer"),o=t("./color");n.prototype=Object.create(r.prototype),n.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,e.exports=n},{"./color":3,"./gradientcontainer":9}],13:[function(t,e,i){var n=function(){n.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-n.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};n.options={logging:!1},e.exports=n},{}],14:[function(t,e,i){function n(t,e){this.node=t,this.parent=e,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function r(t){var e=t.options[t.selectedIndex||0];return e?e.text||"":""}function o(t){if(t&&"matrix"===t[1])return t[2].split(",").map(function(t){return parseFloat(t.trim())});if(t&&"matrix3d"===t[1]){var e=t[2].split(",").map(function(t){return parseFloat(t.trim())});return[e[0],e[1],e[4],e[5],e[12],e[13]]}}function s(t){return t.toString().indexOf("%")!==-1}function a(t){return t.replace("px","")}function l(t){return parseFloat(t)}var h=t("./color"),c=t("./utils"),u=c.getBounds,d=c.parseBackgrounds,p=c.offsetBounds;n.prototype.cloneTo=function(t){t.visible=this.visible,t.borders=this.borders,t.bounds=this.bounds,t.clip=this.clip,t.backgroundClip=this.backgroundClip,t.computedStyles=this.computedStyles,t.styles=this.styles,t.backgroundImages=this.backgroundImages,t.opacity=this.opacity},n.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},n.prototype.assignStack=function(t){this.stack=t,t.children.push(this)},n.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},n.prototype.css=function(t){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[t]||(this.styles[t]=this.computedStyles[t])},n.prototype.prefixedCss=function(t){var e=["webkit","moz","ms","o"],i=this.css(t);return void 0===i&&e.some(function(e){return i=this.css(e+t.substr(0,1).toUpperCase()+t.substr(1)),void 0!==i},this),void 0===i?null:i},n.prototype.computedStyle=function(t){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,t)},n.prototype.cssInt=function(t){var e=parseInt(this.css(t),10);return isNaN(e)?0:e},n.prototype.color=function(t){return this.colors[t]||(this.colors[t]=new h(this.css(t)))},n.prototype.cssFloat=function(t){var e=parseFloat(this.css(t));
return isNaN(e)?0:e},n.prototype.fontWeight=function(){var t=this.css("fontWeight");switch(parseInt(t,10)){case 401:t="bold";break;case 400:t="normal"}return t},n.prototype.parseClip=function(){var t=this.css("clip").match(this.CLIP);return t?{top:parseInt(t[1],10),right:parseInt(t[2],10),bottom:parseInt(t[3],10),left:parseInt(t[4],10)}:null},n.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=d(this.css("backgroundImage")))},n.prototype.cssList=function(t,e){var i=(this.css(t)||"").split(",");return i=i[e||0]||i[0]||"auto",i=i.trim().split(" "),1===i.length&&(i=[i[0],s(i[0])?"auto":i[0]]),i},n.prototype.parseBackgroundSize=function(t,e,i){var n,r,o=this.cssList("backgroundSize",i);if(s(o[0]))n=t.width*parseFloat(o[0])/100;else{if(/contain|cover/.test(o[0])){var a=t.width/t.height,l=e.width/e.height;return a<l^"contain"===o[0]?{width:t.height*l,height:t.height}:{width:t.width,height:t.width/l}}n=parseInt(o[0],10)}return r="auto"===o[0]&&"auto"===o[1]?e.height:"auto"===o[1]?n/e.width*e.height:s(o[1])?t.height*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(n=r/e.height*e.width),{width:n,height:r}},n.prototype.parseBackgroundPosition=function(t,e,i,n){var r,o,a=this.cssList("backgroundPosition",i);return r=s(a[0])?(t.width-(n||e).width)*(parseFloat(a[0])/100):parseInt(a[0],10),o="auto"===a[1]?r/e.width*e.height:s(a[1])?(t.height-(n||e).height)*parseFloat(a[1])/100:parseInt(a[1],10),"auto"===a[0]&&(r=o/e.height*e.width),{left:r,top:o}},n.prototype.parseBackgroundRepeat=function(t){return this.cssList("backgroundRepeat",t)[0]},n.prototype.parseTextShadows=function(){var t=this.css("textShadow"),e=[];if(t&&"none"!==t)for(var i=t.match(this.TEXT_SHADOW_PROPERTY),n=0;i&&n<i.length;n++){var r=i[n].match(this.TEXT_SHADOW_VALUES);e.push({color:new h(r[0]),offsetX:r[1]?parseFloat(r[1].replace("px","")):0,offsetY:r[2]?parseFloat(r[2].replace("px","")):0,blur:r[3]?r[3].replace("px",""):0})}return e},n.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var t=this.parseBounds(),e=this.prefixedCss("transformOrigin").split(" ").map(a).map(l);e[0]+=t.left,e[1]+=t.top,this.transformData={origin:e,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},n.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform"),e=t?o(t.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=e?e:[1,0,0,1,0,0]}return this.transformMatrix},n.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):u(this.node))},n.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},n.prototype.getValue=function(){var t=this.node.value||"";return"SELECT"===this.node.tagName?t=r(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("•")),0===t.length?this.node.placeholder||"":t},n.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,n.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,n.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,n.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,e.exports=n},{"./color":3,"./utils":26}],15:[function(t,e,i){function n(t,e,i,n,r){F("Starting NodeParser"),this.renderer=e,this.options=r,this.range=null,this.support=i,this.renderQueue=[],this.stack=new q((!0),1,t.ownerDocument,null);var o=new W(t,null);if(r.background&&e.rectangle(0,0,e.width,e.height,new U(r.background)),t===t.ownerDocument.documentElement){var s=new W(o.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);e.rectangle(0,0,e.width,e.height,s.color("backgroundColor"))}o.visibile=o.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=R([o].concat(this.getChildren(o)).filter(function(t){return t.visible=t.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new Y,F("Fetched nodes, total:",this.nodes.length),F("Calculate overflow clips"),this.calculateOverflowClips(),F("Start fetching images"),this.images=n.fetch(this.nodes.filter(T)),this.ready=this.images.ready.then(K(function(){return F("Images loaded, starting parsing"),F("Creating stacking contexts"),this.createStackingContexts(),F("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),F("Render queue created with "+this.renderQueue.length+" items"),new Promise(K(function(t){r.async?"function"==typeof r.async?r.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}function r(t){return t.parent&&t.parent.clip.length}function o(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})}function s(){}function a(t,e,i,n){return t.map(function(r,o){if(r.width>0){var s=e.left,a=e.top,l=e.width,h=e.height-t[2].width;switch(o){case 0:h=t[0].width,r.args=u({c1:[s,a],c2:[s+l,a],c3:[s+l-t[1].width,a+h],c4:[s+t[3].width,a+h]},n[0],n[1],i.topLeftOuter,i.topLeftInner,i.topRightOuter,i.topRightInner);break;case 1:s=e.left+e.width-t[1].width,l=t[1].width,r.args=u({c1:[s+l,a],c2:[s+l,a+h+t[2].width],c3:[s,a+h],c4:[s,a+t[0].width]},n[1],n[2],i.topRightOuter,i.topRightInner,i.bottomRightOuter,i.bottomRightInner);break;case 2:a=a+e.height-t[2].width,h=t[2].width,r.args=u({c1:[s+l,a+h],c2:[s,a+h],c3:[s+t[3].width,a],c4:[s+l-t[3].width,a]},n[2],n[3],i.bottomRightOuter,i.bottomRightInner,i.bottomLeftOuter,i.bottomLeftInner);break;case 3:l=t[3].width,r.args=u({c1:[s,a+h+t[2].width],c2:[s,a],c3:[s+l,a+t[0].width],c4:[s+l,a+h]},n[3],n[0],i.bottomLeftOuter,i.bottomLeftInner,i.topLeftOuter,i.topLeftInner)}}return r})}function l(t,e,i,n){var r=4*((Math.sqrt(2)-1)/3),o=i*r,s=n*r,a=t+i,l=e+n;return{topLeft:c({x:t,y:l},{x:t,y:l-s},{x:a-o,y:e},{x:a,y:e}),topRight:c({x:t,y:e},{x:t+o,y:e},{x:a,y:l-s},{x:a,y:l}),bottomRight:c({x:a,y:e},{x:a,y:e+s},{x:t+o,y:l},{x:t,y:l}),bottomLeft:c({x:a,y:l},{x:a-o,y:l},{x:t,y:e+s},{x:t,y:e})}}function h(t,e,i){var n=t.left,r=t.top,o=t.width,s=t.height,a=e[0][0]<o/2?e[0][0]:o/2,h=e[0][1]<s/2?e[0][1]:s/2,c=e[1][0]<o/2?e[1][0]:o/2,u=e[1][1]<s/2?e[1][1]:s/2,d=e[2][0]<o/2?e[2][0]:o/2,p=e[2][1]<s/2?e[2][1]:s/2,f=e[3][0]<o/2?e[3][0]:o/2,m=e[3][1]<s/2?e[3][1]:s/2,g=o-c,y=s-p,v=o-d,b=s-m;return{topLeftOuter:l(n,r,a,h).topLeft.subdivide(.5),topLeftInner:l(n+i[3].width,r+i[0].width,Math.max(0,a-i[3].width),Math.max(0,h-i[0].width)).topLeft.subdivide(.5),topRightOuter:l(n+g,r,c,u).topRight.subdivide(.5),topRightInner:l(n+Math.min(g,o+i[3].width),r+i[0].width,g>o+i[3].width?0:c-i[3].width,u-i[0].width).topRight.subdivide(.5),bottomRightOuter:l(n+v,r+y,d,p).bottomRight.subdivide(.5),bottomRightInner:l(n+Math.min(v,o-i[3].width),r+Math.min(y,s+i[0].width),Math.max(0,d-i[1].width),p-i[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(n,r+b,f,m).bottomLeft.subdivide(.5),bottomLeftInner:l(n+i[3].width,r+b,Math.max(0,f-i[3].width),m-i[2].width).bottomLeft.subdivide(.5)}}function c(t,e,i,n){var r=function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}};return{start:t,startControl:e,endControl:i,end:n,subdivide:function(o){var s=r(t,e,o),a=r(e,i,o),l=r(i,n,o),h=r(s,a,o),u=r(a,l,o),d=r(h,u,o);return[c(t,s,h,d),c(d,u,l,n)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,i.x,i.y,n.x,n.y])},curveToReversed:function(n){n.push(["bezierCurve",i.x,i.y,e.x,e.y,t.x,t.y])}}}function u(t,e,i,n,r,o,s){var a=[];return e[0]>0||e[1]>0?(a.push(["line",n[1].start.x,n[1].start.y]),n[1].curveTo(a)):a.push(["line",t.c1[0],t.c1[1]]),i[0]>0||i[1]>0?(a.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(a),a.push(["line",s[0].end.x,s[0].end.y]),s[0].curveToReversed(a)):(a.push(["line",t.c2[0],t.c2[1]]),a.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(a.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(a)):a.push(["line",t.c4[0],t.c4[1]]),a}function d(t,e,i,n,r,o,s){e[0]>0||e[1]>0?(t.push(["line",n[0].start.x,n[0].start.y]),n[0].curveTo(t),n[1].curveTo(t)):t.push(["line",o,s]),(i[0]>0||i[1]>0)&&t.push(["line",r[0].start.x,r[0].start.y])}function p(t){return t.cssInt("zIndex")<0}function f(t){return t.cssInt("zIndex")>0}function m(t){return 0===t.cssInt("zIndex")}function g(t){return["inline","inline-block","inline-table"].indexOf(t.css("display"))!==-1}function y(t){return t instanceof q}function v(t){return t.node.data.trim().length>0}function b(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}function x(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){var i=t.css("border"+e+"Radius"),n=i.split(" ");return n.length<=1&&(n[1]=n[0]),n.map(L)})}function w(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function k(t){var e=t.css("position"),i=["absolute","relative","fixed"].indexOf(e)!==-1?t.css("zIndex"):"auto";return"auto"!==i}function M(t){return"static"!==t.css("position")}function _(t){return"none"!==t.css("float")}function P(t){return["inline-block","inline-table"].indexOf(t.css("display"))!==-1}function S(t){var e=this;return function(){return!t.apply(e,arguments)}}function T(t){return t.node.nodeType===Node.ELEMENT_NODE}function C(t){return t.isPseudoElement===!0}function A(t){return t.node.nodeType===Node.TEXT_NODE}function E(t){return function(e,i){return e.cssInt("zIndex")+t.indexOf(e)/t.length-(i.cssInt("zIndex")+t.indexOf(i)/t.length)}}function O(t){return t.getOpacity()<1}function L(t){return parseInt(t,10)}function I(t){return t.width}function D(t){return t.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)===-1}function R(t){return[].concat.apply([],t)}function N(t){var e=t.substr(0,1);return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}function z(t){for(var e,i=[],n=0,r=!1;t.length;)j(t[n])===r?(e=t.splice(0,n),e.length&&i.push(G.ucs2.encode(e)),r=!r,n=0):n++,n>=t.length&&(e=t.splice(0,n),e.length&&i.push(G.ucs2.encode(e)));return i}function j(t){return[32,13,10,9,45].indexOf(t)!==-1}function B(t){return/[^\u0000-\u00ff]/.test(t)}var F=t("./log"),G=t("punycode"),W=t("./nodecontainer"),H=t("./textcontainer"),X=t("./pseudoelementcontainer"),Y=t("./fontmetrics"),U=t("./color"),q=t("./stackingcontext"),V=t("./utils"),K=V.bind,Z=V.getBounds,$=V.parseBackgrounds,Q=V.offsetBounds;n.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(T(t)){C(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var e="hidden"===t.css("overflow")?[t.borders.clip]:[],i=t.parseClip();i&&["absolute","fixed"].indexOf(t.css("position"))!==-1&&e.push([["rect",t.bounds.left+i.left,t.bounds.top+i.top,i.right-i.left,i.bottom-i.top]]),t.clip=r(t)?t.parent.clip.concat(e):e,t.backgroundClip="hidden"!==t.css("overflow")?t.clip.concat([t.borders.clip]):t.clip,C(t)&&t.cleanDOM()}else A(t)&&(t.clip=r(t)?t.parent.clip:[]);C(t)||(t.bounds=null)},this)},n.prototype.asyncRenderer=function(t,e,i){i=i||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?e():i+20>Date.now()?this.asyncRenderer(t,e,i):setTimeout(K(function(){this.asyncRenderer(t,e)},this),0)},n.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+X.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+X.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},n.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},n.prototype.createStyles=function(t,e){var i=t.createElement("style");i.innerHTML=e,t.body.appendChild(i)},n.prototype.getPseudoElements=function(t){var e=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var i=this.getPseudoElement(t,":before"),n=this.getPseudoElement(t,":after");i&&e.push(i),n&&e.push(n)}return R(e)},n.prototype.getPseudoElement=function(t,e){var i=t.computedStyle(e);if(!i||!i.content||"none"===i.content||"-moz-alt-content"===i.content||"none"===i.display)return null;for(var n=N(i.content),r="url"===n.substr(0,3),s=document.createElement(r?"img":"html2canvaspseudoelement"),a=new X(s,t,e),l=i.length-1;l>=0;l--){var h=o(i.item(l));s.style[h]=i[h]}if(s.className=X.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+X.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,r)return s.src=$(n)[0].args[0],[a];var c=document.createTextNode(n);return s.appendChild(c),[a,new H(c,a)]},n.prototype.getChildren=function(t){return R([].filter.call(t.node.childNodes,w).map(function(e){var i=[e.nodeType===Node.TEXT_NODE?new H(e,t):new W(e,t)].filter(D);return e.nodeType===Node.ELEMENT_NODE&&i.length&&"TEXTAREA"!==e.tagName?i[0].isElementVisible()?i.concat(this.getChildren(i[0])):[]:i},this))},n.prototype.newStackingContext=function(t,e){var i=new q(e,t.getOpacity(),t.node,t.parent);t.cloneTo(i);var n=e?i.getParentStack(this):i.parent.stack;n.contexts.push(i),t.stack=i},n.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){T(t)&&(this.isRootElement(t)||O(t)||k(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):T(t)&&(M(t)&&m(t)||P(t)||_(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},n.prototype.isBodyWithTransparentRoot=function(t){return"BODY"===t.node.nodeName&&t.parent.color("backgroundColor").isTransparent()},n.prototype.isRootElement=function(t){return null===t.parent},n.prototype.sortStackingContexts=function(t){t.contexts.sort(E(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},n.prototype.parseTextBounds=function(t){return function(e,i,n){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var r=n.slice(0,i).join("").length;return this.getRangeBounds(t.node,r,e.length)}if(t.node&&"string"==typeof t.node.data){var o=t.node.splitText(e.length),s=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=o,s}}else this.support.rangeBounds&&!t.parent.hasTransform()||(t.node=t.node.splitText(e.length));return{}}},n.prototype.getWrapperBounds=function(t,e){var i=t.ownerDocument.createElement("html2canvaswrapper"),n=t.parentNode,r=t.cloneNode(!0);i.appendChild(t.cloneNode(!0)),n.replaceChild(i,t);var o=e?Q(i):Z(i);return n.replaceChild(r,i),o},n.prototype.getRangeBounds=function(t,e,i){var n=this.range||(this.range=t.ownerDocument.createRange());return n.setStart(t,e),n.setEnd(t,e+i),n.getBoundingClientRect()},n.prototype.parse=function(t){var e=t.contexts.filter(p),i=t.children.filter(T),n=i.filter(S(_)),r=n.filter(S(M)).filter(S(g)),o=i.filter(S(M)).filter(_),a=n.filter(S(M)).filter(g),l=t.contexts.concat(n.filter(M)).filter(m),h=t.children.filter(A).filter(v),c=t.contexts.filter(f);e.concat(r).concat(o).concat(a).concat(l).concat(h).concat(c).forEach(function(t){this.renderQueue.push(t),y(t)&&(this.parse(t),this.renderQueue.push(new s))},this)},n.prototype.paint=function(t){try{t instanceof s?this.renderer.ctx.restore():A(t)?(C(t.parent)&&t.parent.appendToDOM(),this.paintText(t),C(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(e){if(F(e),this.options.strict)throw e}},n.prototype.paintNode=function(t){y(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),"INPUT"===t.node.nodeName&&"checkbox"===t.node.type?this.paintCheckbox(t):"INPUT"===t.node.nodeName&&"radio"===t.node.type?this.paintRadio(t):this.paintElement(t)},n.prototype.paintElement=function(t){var e=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,e,t.borders.borders.map(I))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var i=this.images.get(t.node);i?this.renderer.renderImage(t,e,t.borders,i):F("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var n=this.images.get(t.node.src);n?this.renderer.renderImage(t,e,t.borders,n):F("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,e,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},n.prototype.paintCheckbox=function(t){var e=t.parseBounds(),i=Math.min(e.width,e.height),n={width:i-1,height:i-1,top:e.top,left:e.left},r=[3,3],o=[r,r,r,r],s=[1,1,1,1].map(function(t){return{color:new U("#A5A5A5"),width:t}}),l=h(n,o,s);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(n.left+1,n.top+1,n.width-2,n.height-2,new U("#DEDEDE")),this.renderer.renderBorders(a(s,n,l,o)),t.node.checked&&(this.renderer.font(new U("#424242"),"normal","normal","bold",i-3+"px","arial"),this.renderer.text("✔",n.left+i/6,n.top+i-1))},this)},n.prototype.paintRadio=function(t){var e=t.parseBounds(),i=Math.min(e.width,e.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(e.left+1,e.top+1,i,new U("#DEDEDE"),1,new U("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(e.left+i/4)+1,Math.ceil(e.top+i/4)+1,Math.floor(i/2),new U("#424242"))},this)},n.prototype.paintFormValue=function(t){var e=t.getValue();if(e.length>0){var i=t.node.ownerDocument,n=i.createElement("html2canvaswrapper"),r=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];r.forEach(function(e){try{n.style[e]=t.css(e)}catch(i){F("html2canvas: Parse: Exception caught in renderFormValue: "+i.message)}});var o=t.parseBounds();n.style.position="fixed",n.style.left=o.left+"px",n.style.top=o.top+"px",n.textContent=e,i.body.appendChild(n),this.paintText(new H(n.firstChild,t)),i.body.removeChild(n)}},n.prototype.paintText=function(t){t.applyTextTransform();var e=G.ucs2.decode(t.node.data),i=this.options.letterRendering&&!b(t)||B(t.node.data)?e.map(function(t){return G.ucs2.encode([t])}):z(e),n=t.parent.fontWeight(),r=t.parent.css("fontSize"),o=t.parent.css("fontFamily"),s=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),n,r,o),s.length?this.renderer.fontShadow(s[0].color,s[0].offsetX,s[0].offsetY,s[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){i.map(this.parseTextBounds(t),this).forEach(function(e,n){e&&(this.renderer.text(i[n],e.left,e.bottom),this.renderTextDecoration(t.parent,e,this.fontMetrics.getMetrics(o,r)))},this)},this)},n.prototype.renderTextDecoration=function(t,e,i){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(e.left,Math.round(e.top+i.baseline+i.lineWidth),e.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(e.left,Math.round(e.top),e.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(e.left,Math.ceil(e.top+i.middle+i.lineWidth),e.width,1,t.color("color"))}};var J={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};n.prototype.parseBorders=function(t){var e=t.parseBounds(),i=x(t),n=["Top","Right","Bottom","Left"].map(function(e,i){var n=t.css("border"+e+"Style"),r=t.color("border"+e+"Color");"inset"===n&&r.isBlack()&&(r=new U([255,255,255,r.a]));var o=J[n]?J[n][i]:null;return{width:t.cssInt("border"+e+"Width"),color:o?r[o[0]](o[1]):r,args:null}}),r=h(e,i,n);return{clip:this.parseBackgroundClip(t,r,n,i,e),borders:a(n,e,r,i)}},n.prototype.parseBackgroundClip=function(t,e,i,n,r){var o=t.css("backgroundClip"),s=[];switch(o){case"content-box":case"padding-box":d(s,n[0],n[1],e.topLeftInner,e.topRightInner,r.left+i[3].width,r.top+i[0].width),d(s,n[1],n[2],e.topRightInner,e.bottomRightInner,r.left+r.width-i[1].width,r.top+i[0].width),d(s,n[2],n[3],e.bottomRightInner,e.bottomLeftInner,r.left+r.width-i[1].width,r.top+r.height-i[2].width),d(s,n[3],n[0],e.bottomLeftInner,e.topLeftInner,r.left+i[3].width,r.top+r.height-i[2].width);break;default:d(s,n[0],n[1],e.topLeftOuter,e.topRightOuter,r.left,r.top),d(s,n[1],n[2],e.topRightOuter,e.bottomRightOuter,r.left+r.width,r.top),d(s,n[2],n[3],e.bottomRightOuter,e.bottomLeftOuter,r.left+r.width,r.top+r.height),d(s,n[3],n[0],e.bottomLeftOuter,e.topLeftOuter,r.left,r.top+r.height)}return s},e.exports=n},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(t,e,i){function n(t,e,i){var n="withCredentials"in new XMLHttpRequest;if(!e)return Promise.reject("No proxy configured");var r=s(n),l=a(e,t,r);return n?c(l):o(i,l,r).then(function(t){return f(t.content)})}function r(t,e,i){var n="crossOrigin"in new Image,r=s(n),l=a(e,t,r);return n?Promise.resolve(l):o(i,l,r).then(function(t){return"data:"+t.type+";base64,"+t.content})}function o(t,e,i){return new Promise(function(n,r){var o=t.createElement("script"),s=function(){delete window.html2canvas.proxy[i],t.body.removeChild(o)};window.html2canvas.proxy[i]=function(t){s(),n(t)},o.src=e,o.onerror=function(t){s(),r(t)},t.body.appendChild(o)})}function s(t){return t?"":"html2canvas_"+Date.now()+"_"+ ++m+"_"+Math.round(1e5*Math.random())}function a(t,e,i){return t+"?url="+encodeURIComponent(e)+(i.length?"&callback=html2canvas.proxy."+i:"")}function l(t){return function(e){var i,n=new DOMParser;try{i=n.parseFromString(e,"text/html")}catch(r){d("DOMParser not supported, falling back to createHTMLDocument"),i=document.implementation.createHTMLDocument("");try{i.open(),i.write(e),i.close()}catch(o){d("createHTMLDocument write not supported, falling back to document.body.innerHTML"),i.body.innerHTML=e}}var s=i.querySelector("base");if(!s||!s.href.host){var a=i.createElement("base");a.href=t,i.head.insertBefore(a,i.head.firstChild)}return i}}function h(t,e,i,r,o,s){return new n(t,e,window.document).then(l(t)).then(function(t){return p(t,i,r,o,s,0,0)})}var c=t("./xhr"),u=t("./utils"),d=t("./log"),p=t("./clone"),f=u.decode64,m=0;i.Proxy=n,i.ProxyURL=r,i.loadUrlDocument=h},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(t,e,i){function n(t,e){var i=document.createElement("a");i.href=t,t=i.href,this.src=t,this.image=new Image;var n=this;this.promise=new Promise(function(i,o){n.image.crossOrigin="Anonymous",n.image.onload=i,n.image.onerror=o,new r(t,e,document).then(function(t){n.image.src=t})["catch"](o)})}var r=t("./proxy").ProxyURL;e.exports=n},{"./proxy":16}],18:[function(t,e,i){function n(t,e,i){r.call(this,t,e),this.isPseudoElement=!0,this.before=":before"===i}var r=t("./nodecontainer");n.prototype.cloneTo=function(t){n.prototype.cloneTo.call(this,t),t.isPseudoElement=!0,t.before=this.before},n.prototype=Object.create(r.prototype),n.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},n.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},n.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=n},{"./nodecontainer":14}],19:[function(t,e,i){function n(t,e,i,n,r){this.width=t,this.height=e,this.images=i,this.options=n,this.document=r}var r=t("./log");n.prototype.renderImage=function(t,e,i,n){var r=t.cssInt("paddingLeft"),o=t.cssInt("paddingTop"),s=t.cssInt("paddingRight"),a=t.cssInt("paddingBottom"),l=i.borders,h=e.width-(l[1].width+l[3].width+r+s),c=e.height-(l[0].width+l[2].width+o+a);this.drawImage(n,0,0,n.image.width||h,n.image.height||c,e.left+r+l[3].width,e.top+o+l[0].width,h,c)},n.prototype.renderBackground=function(t,e,i){e.height>0&&e.width>0&&(this.renderBackgroundColor(t,e),this.renderBackgroundImage(t,e,i))},n.prototype.renderBackgroundColor=function(t,e){var i=t.color("backgroundColor");i.isTransparent()||this.rectangle(e.left,e.top,e.width,e.height,i)},n.prototype.renderBorders=function(t){t.forEach(this.renderBorder,this)},n.prototype.renderBorder=function(t){t.color.isTransparent()||null===t.args||this.drawShape(t.args,t.color)},n.prototype.renderBackgroundImage=function(t,e,i){var n=t.parseBackgroundImages();n.reverse().forEach(function(n,o,s){switch(n.method){case"url":var a=this.images.get(n.args[0]);a?this.renderBackgroundRepeating(t,e,a,s.length-(o+1),i):r("Error loading background-image",n.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(n.value);l?this.renderBackgroundGradient(l,e,i):r("Error loading background-image",n.args[0]);break;case"none":break;default:r("Unknown background-image type",n.args[0])}},this)},n.prototype.renderBackgroundRepeating=function(t,e,i,n,r){var o=t.parseBackgroundSize(e,i.image,n),s=t.parseBackgroundPosition(e,i.image,n,o),a=t.parseBackgroundRepeat(n);switch(a){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(i,s,o,e,e.left+r[3],e.top+s.top+r[0],99999,o.height,r);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(i,s,o,e,e.left+s.left+r[3],e.top+r[0],o.width,99999,r);break;case"no-repeat":this.backgroundRepeatShape(i,s,o,e,e.left+s.left+r[3],e.top+s.top+r[0],o.width,o.height,r);break;default:this.renderBackgroundRepeat(i,s,o,{top:e.top,left:e.left},r[3],r[0])}},e.exports=n},{"./log":13}],20:[function(t,e,i){function n(t,e){o.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=t,this.canvas.height=e),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},a("Initialized CanvasRenderer with size",t,"x",e)}function r(t){return t.length>0}var o=t("../renderer"),s=t("../lineargradientcontainer"),a=t("../log");n.prototype=Object.create(o.prototype),n.prototype.setFillStyle=function(t){return this.ctx.fillStyle="object"==typeof t&&t.isColor?t.toString():t,this.ctx},n.prototype.rectangle=function(t,e,i,n,r){this.setFillStyle(r).fillRect(t,e,i,n)},n.prototype.circle=function(t,e,i,n){this.setFillStyle(n),this.ctx.beginPath(),this.ctx.arc(t+i/2,e+i/2,i/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},n.prototype.circleStroke=function(t,e,i,n,r,o){this.circle(t,e,i,n),this.ctx.strokeStyle=o.toString(),this.ctx.stroke()},n.prototype.drawShape=function(t,e){this.shape(t),this.setFillStyle(e).fill()},n.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},n.prototype.drawImage=function(t,e,i,n,r,o,s,a,l){this.taints(t)&&!this.options.allowTaint||this.ctx.drawImage(t.image,e,i,n,r,o,s,a,l)},n.prototype.clip=function(t,e,i){this.ctx.save(),t.filter(r).forEach(function(t){this.shape(t).clip()},this),e.call(i),this.ctx.restore()},n.prototype.shape=function(t){return this.ctx.beginPath(),t.forEach(function(t,e){"rect"===t[0]?this.ctx.rect.apply(this.ctx,t.slice(1)):this.ctx[0===e?"moveTo":t[0]+"To"].apply(this.ctx,t.slice(1))},this),this.ctx.closePath(),this.ctx},n.prototype.font=function(t,e,i,n,r,o){this.setFillStyle(t).font=[e,i,n,r,o].join(" ").split(",")[0]},n.prototype.fontShadow=function(t,e,i,n){this.setVariable("shadowColor",t.toString()).setVariable("shadowOffsetY",e).setVariable("shadowOffsetX",i).setVariable("shadowBlur",n)},n.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},n.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},n.prototype.setTransform=function(t){this.ctx.translate(t.origin[0],t.origin[1]),this.ctx.transform.apply(this.ctx,t.matrix),this.ctx.translate(-t.origin[0],-t.origin[1])},n.prototype.setVariable=function(t,e){return this.variables[t]!==e&&(this.variables[t]=this.ctx[t]=e),this},n.prototype.text=function(t,e,i){this.ctx.fillText(t,e,i)},n.prototype.backgroundRepeatShape=function(t,e,i,n,r,o,s,a,l){var h=[["line",Math.round(r),Math.round(o)],["line",Math.round(r+s),Math.round(o)],["line",Math.round(r+s),Math.round(a+o)],["line",Math.round(r),Math.round(a+o)]];this.clip([h],function(){this.renderBackgroundRepeat(t,e,i,n,l[3],l[0])},this)},n.prototype.renderBackgroundRepeat=function(t,e,i,n,r,o){var s=Math.round(n.left+e.left+r),a=Math.round(n.top+e.top+o);this.setFillStyle(this.ctx.createPattern(this.resizeImage(t,i),"repeat")),this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},n.prototype.renderBackgroundGradient=function(t,e){if(t instanceof s){var i=this.ctx.createLinearGradient(e.left+e.width*t.x0,e.top+e.height*t.y0,e.left+e.width*t.x1,e.top+e.height*t.y1);t.colorStops.forEach(function(t){i.addColorStop(t.stop,t.color.toString())}),this.rectangle(e.left,e.top,e.width,e.height,i)}},n.prototype.resizeImage=function(t,e){var i=t.image;if(i.width===e.width&&i.height===e.height)return i;var n,r=document.createElement("canvas");return r.width=e.width,r.height=e.height,n=r.getContext("2d"),n.drawImage(i,0,0,i.width,i.height,0,0,e.width,e.height),r},e.exports=n},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(t,e,i){function n(t,e,i,n){r.call(this,i,n),this.ownStacking=t,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*e}var r=t("./nodecontainer");n.prototype=Object.create(r.prototype),n.prototype.getParentStack=function(t){var e=this.parent?this.parent.stack:null;return e?e.ownStacking?e:e.getParentStack(t):t.stack},e.exports=n},{"./nodecontainer":14}],22:[function(t,e,i){function n(t){this.rangeBounds=this.testRangeBounds(t),this.cors=this.testCORS(),this.svg=this.testSVG()}n.prototype.testRangeBounds=function(t){var e,i,n,r,o=!1;return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(i=t.createElement("boundtest"),i.style.height="123px",i.style.display="block",t.body.appendChild(i),e.selectNode(i),n=e.getBoundingClientRect(),r=n.height,123===r&&(o=!0),t.body.removeChild(i))),o},n.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},n.prototype.testSVG=function(){var t=new Image,e=document.createElement("canvas"),i=e.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),e.toDataURL()}catch(n){return!1}return!0},e.exports=n},{}],23:[function(t,e,i){function n(t){this.src=t,this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(t)?Promise.resolve(e.inlineFormatting(t)):r(t)}).then(function(t){return new Promise(function(i){window.html2canvas.svg.fabric.loadSVGFromString(t,e.createCanvas.call(e,i))})})}var r=t("./xhr"),o=t("./utils").decode64;n.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},n.prototype.inlineFormatting=function(t){return/^data:image\/svg\+xml;base64,/.test(t)?this.decode64(this.removeContentType(t)):this.removeContentType(t)},n.prototype.removeContentType=function(t){return t.replace(/^data:image\/svg\+xml(;base64)?,/,"")},n.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},n.prototype.createCanvas=function(t){var e=this;return function(i,n){var r=new window.html2canvas.svg.fabric.StaticCanvas("c");
e.image=r.lowerCanvasEl,r.setWidth(n.width).setHeight(n.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(i,n)).renderAll(),t(r.lowerCanvasEl)}},n.prototype.decode64=function(t){return"function"==typeof window.atob?window.atob(t):o(t)},e.exports=n},{"./utils":26,"./xhr":28}],24:[function(t,e,i){function n(t,e){this.src=t,this.image=null;var i=this;this.promise=e?new Promise(function(e,n){i.image=new Image,i.image.onload=e,i.image.onerror=n,i.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(t),i.image.complete===!0&&e(i.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(t,i.createCanvas.call(i,e))})})}var r=t("./svgcontainer");n.prototype=Object.create(r.prototype),e.exports=n},{"./svgcontainer":23}],25:[function(t,e,i){function n(t,e){o.call(this,t,e)}function r(t,e,i){if(t.length>0)return e+i.toUpperCase()}var o=t("./nodecontainer");n.prototype=Object.create(o.prototype),n.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},n.prototype.transform=function(t){var e=this.node.data;switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,r);case"uppercase":return e.toUpperCase();default:return e}},e.exports=n},{"./nodecontainer":14}],26:[function(t,e,i){i.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},i.bind=function(t,e){return function(){return t.apply(e,arguments)}},i.decode64=function(t){var e,i,n,r,o,s,a,l,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=t.length,u="";for(e=0;e<c;e+=4)i=h.indexOf(t[e]),n=h.indexOf(t[e+1]),r=h.indexOf(t[e+2]),o=h.indexOf(t[e+3]),s=i<<2|n>>4,a=(15&n)<<4|r>>2,l=(3&r)<<6|o,u+=64===r?String.fromCharCode(s):64===o||o===-1?String.fromCharCode(s,a):String.fromCharCode(s,a,l);return u},i.getBounds=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=null==t.offsetWidth?e.width:t.offsetWidth;return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+i,left:e.left,width:i,height:null==t.offsetHeight?e.height:t.offsetHeight}}return{}},i.offsetBounds=function(t){var e=t.offsetParent?i.offsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,right:t.offsetLeft+e.left+t.offsetWidth,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},i.parseBackgrounds=function(t){var e,i,n,r,o,s,a,l=" \r\n\t",h=[],c=0,u=0,d=function(){e&&('"'===i.substr(0,1)&&(i=i.substr(1,i.length-2)),i&&a.push(i),"-"===e.substr(0,1)&&(r=e.indexOf("-",1)+1)>0&&(n=e.substr(0,r),e=e.substr(r)),h.push({prefix:n,method:e.toLowerCase(),value:o,args:a,image:null})),a=[],e=n=i=o=""};return a=[],e=n=i=o="",t.split("").forEach(function(t){if(!(0===c&&l.indexOf(t)>-1)){switch(t){case'"':s?s===t&&(s=null):s=t;break;case"(":if(s)break;if(0===c)return c=1,void(o+=t);u++;break;case")":if(s)break;if(1===c){if(0===u)return c=0,o+=t,void d();u--}break;case",":if(s)break;if(0===c)return void d();if(1===c&&0===u&&!e.match(/^url$/i))return a.push(i),i="",void(o+=t)}o+=t,0===c?e+=t:i+=t}}),d(),h}},{}],27:[function(t,e,i){function n(t){r.apply(this,arguments),this.type="linear"===t.args[0]?r.TYPES.LINEAR:r.TYPES.RADIAL}var r=t("./gradientcontainer");n.prototype=Object.create(r.prototype),e.exports=n},{"./gradientcontainer":9}],28:[function(t,e,i){function n(t){return new Promise(function(e,i){var n=new XMLHttpRequest;n.open("GET",t),n.onload=function(){200===n.status?e(n.responseText):i(new Error(n.statusText))},n.onerror=function(){i(new Error("Network Error"))},n.send()})}e.exports=n},{}]},{},[4])(4)})},1055:function(t,e,i){var n;/*!
		Papa Parse
		v4.1.2
		https://github.com/mholt/PapaParse
	*/
!function(r){"use strict";function o(t,e){if(e=e||{},e.worker&&C.WORKERS_SUPPORTED){var i=f();return i.userStep=e.step,i.userChunk=e.chunk,i.userComplete=e.complete,i.userError=e.error,e.step=w(e.step),e.chunk=w(e.chunk),e.complete=w(e.complete),e.error=w(e.error),delete e.worker,void i.postMessage({input:t,config:e,workerId:i.id})}var n=null;return"string"==typeof t?n=e.download?new l(e):new c(e):(r.File&&t instanceof File||t instanceof Object)&&(n=new h(e)),n.stream(t)}function s(t,e){function i(){"object"==typeof e&&("string"==typeof e.delimiter&&1==e.delimiter.length&&C.BAD_DELIMITERS.indexOf(e.delimiter)==-1&&(l=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(a=e.quotes),"string"==typeof e.newline&&(h=e.newline))}function n(t){if("object"!=typeof t)return[];var e=[];for(var i in t)e.push(i);return e}function r(t,e){var i="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var n=t instanceof Array&&t.length>0,r=!(e[0]instanceof Array);if(n){for(var s=0;s<t.length;s++)s>0&&(i+=l),i+=o(t[s],s);e.length>0&&(i+=h)}for(var a=0;a<e.length;a++){for(var c=n?t.length:e[a].length,u=0;u<c;u++){u>0&&(i+=l);var d=n&&r?t[u]:u;i+=o(e[a][d],u)}a<e.length-1&&(i+=h)}return i}function o(t,e){if("undefined"==typeof t||null===t)return"";t=t.toString().replace(/"/g,'""');var i="boolean"==typeof a&&a||a instanceof Array&&a[e]||s(t,C.BAD_DELIMITERS)||t.indexOf(l)>-1||" "==t.charAt(0)||" "==t.charAt(t.length-1);return i?'"'+t+'"':t}function s(t,e){for(var i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return!0;return!1}var a=!1,l=",",h="\r\n";if(i(),"string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return r(null,t);if("object"==typeof t[0])return r(n(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.data[0]instanceof Array?t.fields:n(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),r(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input"}function a(t){function e(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new u(e),this._handle.streamer=this,this._config=e}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},e.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var e=this._config.beforeFirstChunk(t);void 0!==e&&(t=e)}this.isFirstChunk=!1;var i=this._partialLine+t;this._partialLine="";var n=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var o=n.meta.cursor;this._finished||(this._partialLine=i.substring(o-this._baseIndex),this._baseIndex=o),n&&n.data&&(this._rowCount+=n.data.length);var s=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(_)r.postMessage({results:n,workerId:C.WORKER_ID,finished:s});else if(w(this._config.chunk)){if(this._config.chunk(n,this._handle),this._paused)return;n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),!s||!w(this._config.complete)||n&&n.meta.aborted||this._config.complete(this._completeResults),s||n&&n.meta.paused||this._nextChunk(),n}},this._sendError=function(t){w(this._config.error)?this._config.error(t):_&&this._config.error&&r.postMessage({workerId:C.WORKER_ID,error:t,finished:!1})}}function l(t){function e(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}t=t||{},t.chunkSize||(t.chunkSize=C.RemoteChunkSize),a.call(this,t);var i;M?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(i=new XMLHttpRequest,M||(i.onload=x(this._chunkLoaded,this),i.onerror=x(this._chunkError,this)),i.open("GET",this._input,!M),this._config.chunkSize){var t=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+t),i.setRequestHeader("If-None-Match","webkit-no-cache")}try{i.send()}catch(e){this._chunkError(e.message)}M&&0==i.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==i.readyState){if(i.status<200||i.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>e(i),this.parseChunk(i.responseText)}},this._chunkError=function(t){var e=i.statusText||t;this._sendError(e)}}function h(t){t=t||{},t.chunkSize||(t.chunkSize=C.LocalChunkSize),a.call(this,t);var e,i,n="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,i=t.slice||t.webkitSlice||t.mozSlice,n?(e=new FileReader,e.onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=i.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);n||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function c(t){t=t||{},a.call(this,t);var e,i;this.stream=function(t){return e=t,i=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,e=t?i.substr(0,t):i;return i=t?i.substr(t):"",this._finished=!i,this.parseChunk(e)}}}function u(t){function e(){if(x&&u&&(l("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+C.DefaultDelimiter+"'"),u=!1),t.skipEmptyLines)for(var e=0;e<x.data.length;e++)1==x.data[e].length&&""==x.data[e][0]&&x.data.splice(e--,1);return i()&&n(),r()}function i(){return t.header&&0==v.length}function n(){if(x){for(var t=0;i()&&t<x.data.length;t++)for(var e=0;e<x.data[t].length;e++)v.push(x.data[t][e]);x.data.splice(0,1)}}function r(){if(!x||!t.header&&!t.dynamicTyping)return x;for(var e=0;e<x.data.length;e++){for(var i={},n=0;n<x.data[e].length;n++){if(t.dynamicTyping){var r=x.data[e][n];"true"==r||"TRUE"==r?x.data[e][n]=!0:"false"==r||"FALSE"==r?x.data[e][n]=!1:x.data[e][n]=a(r)}t.header&&(n>=v.length?(i.__parsed_extra||(i.__parsed_extra=[]),i.__parsed_extra.push(x.data[e][n])):i[v[n]]=x.data[e][n])}t.header&&(x.data[e]=i,n>v.length?l("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+n,e):n<v.length&&l("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+n,e))}return t.header&&x.meta&&(x.meta.fields=v),x}function o(e){for(var i,n,r,o=[",","\t","|",";",C.RECORD_SEP,C.UNIT_SEP],s=0;s<o.length;s++){var a=o[s],l=0,h=0;r=void 0;for(var c=new d({delimiter:a,preview:10}).parse(e),u=0;u<c.data.length;u++){var p=c.data[u].length;h+=p,"undefined"!=typeof r?p>1&&(l+=Math.abs(p-r),r=p):r=p}c.data.length>0&&(h/=c.data.length),("undefined"==typeof n||l<n)&&h>1.99&&(n=l,i=a)}return t.delimiter=i,{successful:!!i,bestDelimiter:i}}function s(t){t=t.substr(0,1048576);var e=t.split("\r");if(1==e.length)return"\n";for(var i=0,n=0;n<e.length;n++)"\n"==e[n][0]&&i++;return i>=e.length/2?"\r\n":"\r"}function a(t){var e=p.test(t);return e?parseFloat(t):t}function l(t,e,i,n){x.errors.push({type:t,code:e,message:i,row:n})}var h,c,u,p=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,f=this,m=0,g=!1,y=!1,v=[],x={data:[],errors:[],meta:{}};if(w(t.step)){var k=t.step;t.step=function(n){if(x=n,i())e();else{if(e(),0==x.data.length)return;m+=n.data.length,t.preview&&m>t.preview?c.abort():k(x,f)}}}this.parse=function(i,n,r){if(t.newline||(t.newline=s(i)),u=!1,!t.delimiter){var a=o(i);a.successful?t.delimiter=a.bestDelimiter:(u=!0,t.delimiter=C.DefaultDelimiter),x.meta.delimiter=t.delimiter}var l=b(t);return t.preview&&t.header&&l.preview++,h=i,c=new d(l),x=c.parse(h,n,r),e(),g?{meta:{paused:!0}}:x||{meta:{paused:!1}}},this.paused=function(){return g},this.pause=function(){g=!0,c.abort(),h=h.substr(c.getCharIndex())},this.resume=function(){g=!1,f.streamer.parseChunk(h)},this.aborted=function(){return y},this.abort=function(){y=!0,c.abort(),x.meta.aborted=!0,w(t.complete)&&t.complete(x),h=""}}function d(t){t=t||{};var e=t.delimiter,i=t.newline,n=t.comments,r=t.step,o=t.preview,s=t.fastMode;if(("string"!=typeof e||C.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),n===e)throw"Comment character same as delimiter";n===!0?n="#":("string"!=typeof n||C.BAD_DELIMITERS.indexOf(n)>-1)&&(n=!1),"\n"!=i&&"\r"!=i&&"\r\n"!=i&&(i="\n");var a=0,l=!1;this.parse=function(t,h,c){function u(t){w.push(t),_=a}function d(e){return c?f():("undefined"==typeof e&&(e=t.substr(a)),M.push(e),a=g,u(M),x&&m(),f())}function p(e){a=e,u(M),M=[],C=t.indexOf(i,a)}function f(t){return{data:w,errors:k,meta:{delimiter:e,linebreak:i,aborted:l,truncated:!!t,cursor:_+(h||0)}}}function m(){r(f()),w=[],k=[]}if("string"!=typeof t)throw"Input must be a string";var g=t.length,y=e.length,v=i.length,b=n.length,x="function"==typeof r;a=0;var w=[],k=[],M=[],_=0;if(!t)return f();if(s||s!==!1&&t.indexOf('"')===-1){for(var P=t.split(i),S=0;S<P.length;S++){var M=P[S];if(a+=M.length,S!==P.length-1)a+=i.length;else if(c)return f();if(!n||M.substr(0,b)!=n){if(x){if(w=[],u(M.split(e)),m(),l)return f()}else u(M.split(e));if(o&&S>=o)return w=w.slice(0,o),f(!0)}}return f()}for(var T=t.indexOf(e,a),C=t.indexOf(i,a);;)if('"'!=t[a])if(n&&0===M.length&&t.substr(a,b)===n){if(C==-1)return f();a=C+v,C=t.indexOf(i,a),T=t.indexOf(e,a)}else if(T!==-1&&(T<C||C===-1))M.push(t.substring(a,T)),a=T+y,T=t.indexOf(e,a);else{if(C===-1)break;if(M.push(t.substring(a,C)),p(C+v),x&&(m(),l))return f();if(o&&w.length>=o)return f(!0)}else{var A=a;for(a++;;){var A=t.indexOf('"',A+1);if(A===-1)return c||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:a}),d();if(A===g-1){var E=t.substring(a,A).replace(/""/g,'"');return d(E)}if('"'!=t[A+1]){if(t[A+1]==e){M.push(t.substring(a,A).replace(/""/g,'"')),a=A+1+y,T=t.indexOf(e,a),C=t.indexOf(i,a);break}if(t.substr(A+1,v)===i){if(M.push(t.substring(a,A).replace(/""/g,'"')),p(A+1+v),T=t.indexOf(e,a),x&&(m(),l))return f();if(o&&w.length>=o)return f(!0);break}}else A++}}return d()},this.abort=function(){l=!0},this.getCharIndex=function(){return a}}function p(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function f(){if(!C.WORKERS_SUPPORTED)return!1;if(!P&&null===C.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=C.SCRIPT_PATH||k;t+=(t.indexOf("?")!==-1?"&":"?")+"papaworker";var e=new r.Worker(t);return e.onmessage=m,e.id=T++,S[e.id]=e,e}function m(t){var e=t.data,i=S[e.workerId],n=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var r=function(){n=!0,g(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:r,pause:y,resume:y};if(w(i.userStep)){for(var s=0;s<e.results.data.length&&(i.userStep({data:[e.results.data[s]],errors:e.results.errors,meta:e.results.meta},o),!n);s++);delete e.results}else w(i.userChunk)&&(i.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!n&&g(e.workerId,e.results)}function g(t,e){var i=S[t];w(i.userComplete)&&i.userComplete(e),i.terminate(),delete S[t]}function y(){throw"Not implemented."}function v(t){var e=t.data;if("undefined"==typeof C.WORKER_ID&&e&&(C.WORKER_ID=e.workerId),"string"==typeof e.input)r.postMessage({workerId:C.WORKER_ID,results:C.parse(e.input,e.config),finished:!0});else if(r.File&&e.input instanceof File||e.input instanceof Object){var i=C.parse(e.input,e.config);i&&r.postMessage({workerId:C.WORKER_ID,results:i,finished:!0})}}function b(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var i in t)e[i]=b(t[i]);return e}function x(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}var k,M=!r.document&&!!r.postMessage,_=M&&/(\?|&)papaworker(=|&|$)/.test(r.location.search),P=!1,S={},T=0,C={};if(C.parse=o,C.unparse=s,C.RECORD_SEP=String.fromCharCode(30),C.UNIT_SEP=String.fromCharCode(31),C.BYTE_ORDER_MARK="\ufeff",C.BAD_DELIMITERS=["\r","\n",'"',C.BYTE_ORDER_MARK],C.WORKERS_SUPPORTED=!M&&!!r.Worker,C.SCRIPT_PATH=null,C.LocalChunkSize=10485760,C.RemoteChunkSize=5242880,C.DefaultDelimiter=",",C.Parser=d,C.ParserHandle=u,C.NetworkStreamer=l,C.FileStreamer=h,C.StringStreamer=c,"undefined"!=typeof t&&t.exports?t.exports=C:w(r.define)&&r.define.amd?(n=function(){return C}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))):r.Papa=C,r.jQuery){var A=r.jQuery;A.fn.parse=function(t){function e(){if(0==s.length)return void(w(t.complete)&&t.complete());var e=s[0];if(w(t.before)){var r=t.before(e.file,e.inputElem);if("object"==typeof r){if("abort"==r.action)return void i("AbortError",e.file,e.inputElem,r.reason);if("skip"==r.action)return void n();"object"==typeof r.config&&(e.instanceConfig=A.extend(e.instanceConfig,r.config))}else if("skip"==r)return void n()}var o=e.instanceConfig.complete;e.instanceConfig.complete=function(t){w(o)&&o(t,e.file,e.inputElem),n()},C.parse(e.file,e.instanceConfig)}function i(e,i,n,r){w(t.error)&&t.error({name:e},i,n,r)}function n(){s.splice(0,1),e()}var o=t.config||{},s=[];return this.each(function(t){var e="INPUT"==A(this).prop("tagName").toUpperCase()&&"file"==A(this).attr("type").toLowerCase()&&r.FileReader;if(!e||!this.files||0==this.files.length)return!0;for(var i=0;i<this.files.length;i++)s.push({file:this.files[i],inputElem:this,instanceConfig:A.extend({},o)})}),e(),this}}_?r.onmessage=v:C.WORKERS_SUPPORTED&&(k=p(),document.body?document.addEventListener("DOMContentLoaded",function(){P=!0},!0):P=!0),l.prototype=Object.create(a.prototype),l.prototype.constructor=l,h.prototype=Object.create(a.prototype),h.prototype.constructor=h,c.prototype=Object.create(c.prototype),c.prototype.constructor=c}("undefined"!=typeof window?window:this)},1056:function(t,e){!function(i){if("object"==typeof e)t.exports=i();else if("function"==typeof define&&define.amd)define(i);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.proj4=i()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i?i:t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var r=t("mgrs");n.fromMGRS=function(t){return new n(r.toPoint(t))},n.prototype.toMGRS=function(t){return r.forward([this.x,this.y],t)},e.exports=n},{mgrs:67}],2:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=r(t);if("object"!=typeof i)return void e(t);var s=a(i),l=n.projections.get(s.projName);l?(o(this,s),o(this,l),this.init(),e(null,this)):e(t)}var r=t("./parseCode"),o=t("./extend"),s=t("./projections"),a=t("./deriveConstants");n.projections=s,n.projections.start(),e.exports=n},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(t,e,i){e.exports=function(t,e,i){var n,r,o,s=i.x,a=i.y,l=i.z||0;for(o=0;3>o;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=s,r="x"):1===o?(n=a,r="y"):(n=l,r="z"),t.axis[o]){case"e":i[r]=n;break;case"w":i[r]=-n;break;case"n":i[r]=n;break;case"s":i[r]=-n;break;case"u":void 0!==i[r]&&(i.z=n);break;case"d":void 0!==i[r]&&(i.z=-n);break;default:return null}return i}},{}],4:[function(t,e,i){var n=Math.PI/2,r=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-r(t)*Math.PI}},{"./sign":21}],5:[function(t,e,i){var n=2*Math.PI,r=3.14159265359,o=t("./sign");e.exports=function(t){return Math.abs(t)<=r?t:t-o(t)*n}},{"./sign":21}],6:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],12:[function(t,e,i){e.exports=function(t,e,i,n,r){var o,s;o=t/e;for(var a=0;15>a;a++)if(s=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}},{}],13:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var r,o,s,a,l=Math.asin(.5*e),h=0;30>h;h++)if(o=Math.sin(l),s=Math.cos(l),a=t*o,r=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-o/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),l+=r,Math.abs(r)<=1e-10)return l;return NaN}},{}],14:[function(t,e,i){e.exports=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)}},{}],15:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],16:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,r,o=.5*t,s=n-2*Math.atan(e),a=0;15>=a;a++)if(i=t*Math.sin(s),r=n-2*Math.atan(e*Math.pow((1-i)/(1+i),o))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999}},{}],17:[function(t,e,i){var n=1,r=.25,o=.046875,s=.01953125,a=.01068115234375,l=.75,h=.46875,c=.013020833333333334,u=.007120768229166667,d=.3645833333333333,p=.005696614583333333,f=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(r+t*(o+t*(s+t*a))),e[1]=t*(l-t*(o+t*(s+t*a)));var i=t*t;return e[2]=i*(h-t*(c+t*u)),i*=t,e[3]=i*(d-t*p),e[4]=i*t*f,e}},{}],18:[function(t,e,i){var n=t("./pj_mlfn"),r=1e-10,o=20;e.exports=function(t,e,i){for(var s=1/(1-e),a=t,l=o;l;--l){var h=Math.sin(a),c=1-e*h*h;if(c=(n(a,h,Math.cos(a),i)-t)*(c*Math.sqrt(c))*s,a-=c,Math.abs(c)<r)return a}return a}},{"./pj_mlfn":19}],19:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],20:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],21:[function(t,e,i){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],24:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var r=t*i,o=.5*t;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(n-e))/r}},{}],25:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],28:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],29:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=a(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):a(t,e,i)}function r(t){return t instanceof s?t:t.oProj?t.oProj:s(t)}function o(t,e,i){t=r(t);var o,s=!1;return"undefined"==typeof e?(e=t,t=l,s=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(i=e,e=t,t=l,s=!0),e=r(e),i?n(t,e,i):(o={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},s&&(o.oProj=e),o)}var s=t("./Proj"),a=t("./transform"),l=s("WGS84");e.exports=o},{"./Proj":2,"./transform":65}],30:[function(t,e,i){var n=Math.PI/2,r=1,o=2,s=3,a=4,l=5,h=484813681109536e-20,c=1.0026,u=.3826834323650898,d=function(t){return this instanceof d?(this.datum_type=a,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=l),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),(0!==this.datum_params[0]||0!==this.datum_params[1]||0!==this.datum_params[2])&&(this.datum_type=r),this.datum_params.length>3&&(0!==this.datum_params[3]||0!==this.datum_params[4]||0!==this.datum_params[5]||0!==this.datum_params[6])&&(this.datum_type=o,this.datum_params[3]*=h,this.datum_params[4]*=h,this.datum_params[5]*=h,this.datum_params[6]=this.datum_params[6]/1e6+1)),this.datum_type=t.grids?s:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===s&&(this.grids=t.grids)))):new d(t)};d.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(this.datum_type===r?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===o?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type!==s&&t.datum_type!==s||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,i,r,o,s,a,l,h=t.x,c=t.y,u=t.z?t.z:0,d=0;if(-n>c&&c>-1.001*n)c=-n;else if(c>n&&1.001*n>c)c=n;else if(-n>c||c>n)return null;return h>Math.PI&&(h-=2*Math.PI),s=Math.sin(c),l=Math.cos(c),a=s*s,o=this.a/Math.sqrt(1-this.es*a),e=(o+u)*l*Math.cos(h),i=(o+u)*l*Math.sin(h),r=(o*(1-this.es)+u)*s,t.x=e,t.y=i,t.z=r,d},geocentric_to_geodetic:function(t){var e,i,r,o,s,a,l,h,c,u,d,p,f,m,g,y,v,b=1e-12,x=b*b,w=30,k=t.x,M=t.y,_=t.z?t.z:0;if(f=!1,e=Math.sqrt(k*k+M*M),i=Math.sqrt(k*k+M*M+_*_),e/this.a<b){if(f=!0,g=0,i/this.a<b)return y=n,void(v=-this.b)}else g=Math.atan2(M,k);r=_/i,o=e/i,s=1/Math.sqrt(1-this.es*(2-this.es)*o*o),h=o*(1-this.es)*s,c=r*s,m=0;do m++,l=this.a/Math.sqrt(1-this.es*c*c),v=e*h+_*c-l*(1-this.es*c*c),a=this.es*l/(l+v),s=1/Math.sqrt(1-a*(2-a)*o*o),u=o*(1-a)*s,d=r*s,p=d*h-u*c,h=u,c=d;while(p*p>x&&w>m);return y=Math.atan(d/Math.abs(u)),t.x=g,t.y=y,t.z=v,t},geocentric_to_geodetic_noniter:function(t){var e,i,r,o,s,a,l,h,d,p,f,m,g,y,v,b,x,w=t.x,k=t.y,M=t.z?t.z:0;if(w=parseFloat(w),k=parseFloat(k),M=parseFloat(M),x=!1,0!==w)e=Math.atan2(k,w);else if(k>0)e=n;else if(0>k)e=-n;else if(x=!0,e=0,M>0)i=n;else{if(!(0>M))return i=n,void(r=-this.b);i=-n}return s=w*w+k*k,o=Math.sqrt(s),a=M*c,h=Math.sqrt(a*a+s),p=a/h,m=o/h,f=p*p*p,l=M+this.b*this.ep2*f,b=o-this.a*this.es*m*m*m,d=Math.sqrt(l*l+b*b),g=l/d,y=b/d,v=this.a/Math.sqrt(1-this.es*g*g),r=y>=u?o/y-v:-u>=y?o/-y-v:M/g+v*(this.es-1),x===!1&&(i=Math.atan(g/y)),t.x=e,t.y=i,t.z=r,t},geocentric_to_wgs84:function(t){if(this.datum_type===r)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===o){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],s=this.datum_params[3],a=this.datum_params[4],l=this.datum_params[5],h=this.datum_params[6],c=h*(t.x-l*t.y+a*t.z)+e,u=h*(l*t.x+t.y-s*t.z)+i,d=h*(-a*t.x+s*t.y+t.z)+n;t.x=c,t.y=u,t.z=d}},geocentric_from_wgs84:function(t){if(this.datum_type===r)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===o){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],s=this.datum_params[3],a=this.datum_params[4],l=this.datum_params[5],h=this.datum_params[6],c=(t.x-e)/h,u=(t.y-i)/h,d=(t.z-n)/h;t.x=c+l*u-a*d,t.y=-l*c+u+s*d,t.z=a*c-s*u+d}}},e.exports=d},{}],31:[function(t,e,i){var n=1,r=2,o=3,s=5,a=6378137,l=.006694379990141316;e.exports=function(t,e,i){function h(t){return t===n||t===r}var c,u,d;if(t.compare_datums(e))return i;if(t.datum_type===s||e.datum_type===s)return i;var p=t.a,f=t.es,m=e.a,g=e.es,y=t.datum_type;if(y===o)if(0===this.apply_gridshift(t,0,i))t.a=a,t.es=l;else{if(!t.datum_params)return t.a=p,t.es=t.es,i;for(c=1,u=0,d=t.datum_params.length;d>u;u++)c*=t.datum_params[u];if(0===c)return t.a=p,t.es=t.es,i;y=t.datum_params.length>3?r:n}return e.datum_type===o&&(e.a=a,e.es=l),(t.es!==e.es||t.a!==e.a||h(y)||h(e.datum_type))&&(t.geodetic_to_geocentric(i),h(t.datum_type)&&t.geocentric_to_wgs84(i),h(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),e.datum_type===o&&this.apply_gridshift(e,1,i),t.a=p,t.es=f,e.a=m,e.es=g,i}},{}],32:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=o(arguments[1]):n[t]=s(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var r=t("./global"),o=t("./projString"),s=t("./wkt");r(n),e.exports=n},{"./global":35,"./projString":38,"./wkt":66}],33:[function(t,e,i){var n=t("./constants/Datum"),r=t("./constants/Ellipsoid"),o=t("./extend"),s=t("./datum"),a=1e-10,l=.16666666666666666,h=.04722222222222222,c=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=r[t.ellps]?r[t.ellps]:r.WGS84;o(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<a)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(l+t.es*(h+t.es*c)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=s(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}},{}],35:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],36:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),
n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":68,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"hTEDpn","./transform":65,mgrs:67}],37:[function(t,e,i){function n(t){return"string"==typeof t}function r(t){return t in l}function o(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,i){return e+1+t.indexOf(i)},0)}function s(t){return"+"===t[0]}function a(t){return n(t)?r(t)?l[t]:o(t)?h(t):s(t)?c(t):void 0:t}var l=t("./defs"),h=t("./wkt"),c=t("./projString");e.exports=a},{"./defs":32,"./projString":38,"./wkt":66}],38:[function(t,e,i){var n=.017453292519943295,r=t("./constants/PrimeMeridian"),o=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var s,a,l,h={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,o[t]&&(e.to_meter=o[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(r[t]?r[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var i="ewnsud";3===t.length&&-1!==i.indexOf(t.substr(0,1))&&-1!==i.indexOf(t.substr(1,1))&&-1!==i.indexOf(t.substr(2,1))&&(e.axis=t)}};for(s in i)a=i[s],s in h?(l=h[s],"function"==typeof l?l(a):e[l]=a):e[s]=a;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(t,e,i){function n(t,e){var i=s.length;return t.names?(s[i]=t,t.names.forEach(function(t){o[t.toLowerCase()]=i}),this):(console.log(e),!0)}var r=[t("./projections/merc"),t("./projections/longlat")],o={},s=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof o[e]&&s[o[e]]?s[o[e]]:void 0},i.start=function(){r.forEach(n)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(t,e,i){var n=1e-10,r=t("../common/msfnz"),o=t("../common/qsfnz"),s=t("../common/adjust_lon"),a=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<n||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=r(this.e3,this.sin_po,this.cos_po),this.qs1=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=r(this.e3,this.sin_po,this.cos_po),this.qs2=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=o(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>n?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=o(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*s(e-this.long0),l=r*Math.sin(a)+this.x0,h=this.rh-r*Math.cos(a)+this.y0;return t.x=l,t.y=h,t},i.inverse=function(t){var e,i,n,r,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),o=s(r/this.ns0+this.long0),t.x=o,t.y=a,t},i.phi1z=function(t,e){var i,r,o,s,l,h=a(.5*e);if(n>t)return h;for(var c=t*t,u=1;25>=u;u++)if(i=Math.sin(h),r=Math.cos(h),o=t*i,s=1-o*o,l=.5*s*s/r*(e/(1-c)-i/s+.5/t*Math.log((1-o)/(1+o))),h+=l,Math.abs(l)<=1e-7)return h;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(t,e,i){var n=t("../common/adjust_lon"),r=Math.PI/2,o=1e-10,s=t("../common/mlfn"),a=t("../common/e0fn"),l=t("../common/e1fn"),h=t("../common/e2fn"),c=t("../common/e3fn"),u=t("../common/gN"),d=t("../common/asinz"),p=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,d,p,f,m,g,y,v,b,x,w,k,M,_,P,S,T,C,A,E,O,L,I=t.x,D=t.y,R=Math.sin(t.y),N=Math.cos(t.y),z=n(I-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=o?(t.x=this.x0+this.a*(r-D)*Math.sin(z),t.y=this.y0-this.a*(r-D)*Math.cos(z),t):Math.abs(this.sin_p12+1)<=o?(t.x=this.x0+this.a*(r+D)*Math.sin(z),t.y=this.y0+this.a*(r+D)*Math.cos(z),t):(T=this.sin_p12*R+this.cos_p12*N*Math.cos(z),P=Math.acos(T),S=P/Math.sin(P),t.x=this.x0+this.a*S*N*Math.sin(z),t.y=this.y0+this.a*S*(this.cos_p12*R-this.sin_p12*N*Math.cos(z)),t):(e=a(this.es),i=l(this.es),d=h(this.es),p=c(this.es),Math.abs(this.sin_p12-1)<=o?(f=this.a*s(e,i,d,p,r),m=this.a*s(e,i,d,p,D),t.x=this.x0+(f-m)*Math.sin(z),t.y=this.y0-(f-m)*Math.cos(z),t):Math.abs(this.sin_p12+1)<=o?(f=this.a*s(e,i,d,p,r),m=this.a*s(e,i,d,p,D),t.x=this.x0+(f+m)*Math.sin(z),t.y=this.y0+(f+m)*Math.cos(z),t):(g=R/N,y=u(this.a,this.e,this.sin_p12),v=u(this.a,this.e,R),b=Math.atan((1-this.es)*g+this.es*y*this.sin_p12/(v*N)),x=Math.atan2(Math.sin(z),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(z)),C=0===x?Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(x)-Math.PI)<=o?-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.asin(Math.sin(z)*Math.cos(b)/Math.sin(x)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),k=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es),M=w*k,_=k*k,A=C*C,E=A*C,O=E*C,L=O*C,P=y*C*(1-A*_*(1-_)/6+E/8*M*(1-2*_)+O/120*(_*(4-7*_)-3*w*w*(1-7*_))-L/48*M),t.x=this.x0+P*Math.sin(x),t.y=this.y0+P*Math.cos(x),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,f,m,g,y,v,b,x,w,k,M,_,P,S,T,C,A,E,O,L,I,D;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*r*this.a)return;return i=e/this.a,f=Math.sin(i),m=Math.cos(i),g=this.long0,Math.abs(e)<=o?y=this.lat0:(y=d(m*this.sin_p12+t.y*f*this.cos_p12/e),v=Math.abs(this.lat0)-r,g=n(Math.abs(v)<=o?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*f,e*this.cos_p12*m-t.y*this.sin_p12*f))),t.x=g,t.y=y,t}return b=a(this.es),x=l(this.es),w=h(this.es),k=c(this.es),Math.abs(this.sin_p12-1)<=o?(M=this.a*s(b,x,w,k,r),e=Math.sqrt(t.x*t.x+t.y*t.y),_=M-e,y=p(_/this.a,b,x,w,k),g=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=y,t):Math.abs(this.sin_p12+1)<=o?(M=this.a*s(b,x,w,k,r),e=Math.sqrt(t.x*t.x+t.y*t.y),_=e-M,y=p(_/this.a,b,x,w,k),g=n(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=y,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),T=Math.atan2(t.x,t.y),P=u(this.a,this.e,this.sin_p12),C=Math.cos(T),A=this.e*this.cos_p12*C,E=-A*A/(1-this.es),O=3*this.es*(1-E)*this.sin_p12*this.cos_p12*C/(1-this.es),L=e/P,I=L-E*(1+E)*Math.pow(L,3)/6-O*(1+3*E)*Math.pow(L,4)/24,D=1-E*I*I/2-L*I*I*I/6,S=Math.asin(this.sin_p12*Math.cos(I)+this.cos_p12*Math.sin(I)*C),g=n(this.long0+Math.asin(Math.sin(T)*Math.sin(I)/Math.cos(S))),y=Math.atan((1-this.es*D*this.sin_p12/Math.sin(S))*Math.tan(S)/(1-this.es)),t.x=g,t.y=y,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,i){var n=t("../common/mlfn"),r=t("../common/e0fn"),o=t("../common/e1fn"),s=t("../common/e2fn"),a=t("../common/e3fn"),l=t("../common/gN"),h=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),d=Math.PI/2,p=1e-10;i.init=function(){this.sphere||(this.e0=r(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,r=t.x,o=t.y;if(r=h(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var s=Math.sin(o),a=Math.cos(o),c=l(this.a,this.e,s),u=Math.tan(o)*Math.tan(o),d=r*Math.cos(o),p=d*d,f=this.es*a*a/(1-this.es),m=this.a*n(this.e0,this.e1,this.e2,this.e3,o);e=c*d*(1-p*u*(1/6-(8-u+8*f)*p/120)),i=m-this.ml0+c*s/a*p*(.5+(5-u+6*f)*p/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var s=this.ml0/this.a+r,a=u(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-d)<=p)return t.x=this.long0,t.y=d,0>r&&(t.y*=-1),t;var f=l(this.a,this.e,Math.sin(a)),m=f*f*f/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(a),2),y=n*this.a/f,v=y*y;e=a-f*Math.tan(a)/m*y*y*(.5-(1+3*g)*y*y/24),i=y*(1-v*(g/3+(1+3*g)*g*v/15))/Math.cos(a)}return t.x=h(i+this.long0),t.y=c(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/qsfnz"),o=t("../common/msfnz"),s=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,o=t.x,s=t.y,a=n(o-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var l=r(this.e,Math.sin(s));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=s(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,o=n(e-this.long0),s=r(i-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*s,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=r(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/msfnz"),l=t("../common/mlfn"),h=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),d=1e-10;i.init=function(){Math.abs(this.lat1+this.lat2)<d||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=s(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<d?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=l(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var o=this.ns*h(i-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,r;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=h(this.long0+o/this.ns),n=c(this.g-i/this.a),t.x=r,t.y=n,t;var s=this.g-i/this.a;return n=u(s,this.e0,this.e1,this.e2,this.e3),r=h(this.long0+o/this.ns),t.x=r,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(t,e,i){var n=Math.PI/4,r=t("../common/srat"),o=Math.PI/2,s=20;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*r(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*r(this.e*Math.sin(i),this.ratexp))-o,t.x=this.C*e,t},i.inverse=function(t){for(var e=1e-14,i=t.x/this.C,a=t.y,l=Math.pow(Math.tan(.5*a+n)/this.K,1/this.C),h=s;h>0&&(a=2*Math.atan(l*r(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(a-t.y)<e));--h)t.y=a;return h?(t.x=i,t.y=a,t):null},i.names=["gauss"]},{"../common/srat":22}],47:[function(t,e,i){var n=t("../common/adjust_lon"),r=1e-10,o=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,o,s,a,l,h,c,u=t.x,d=t.y;return o=n(u-this.long0),e=Math.sin(d),i=Math.cos(d),s=Math.cos(o),l=this.sin_p14*e+this.cos_p14*i*s,a=1,l>0||Math.abs(l)<=r?(h=this.x0+this.a*a*i*Math.sin(o)/l,c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*s)/l):(h=this.x0+this.infinity_dist*i*Math.sin(o),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*s)),t.x=h,t.y=c,t},i.inverse=function(t){var e,i,r,s,a,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),i=Math.sin(s),r=Math.cos(s),l=o(r*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i),a=n(this.long0+a)):(l=this.phic0,a=0),t.x=a,t.y=l,t},i.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,r,o,s,a,l,h=t.x,c=t.y,u=n(h-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-u*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),s=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(o)),a=this.n*s,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=l*Math.cos(a)/1,t.x=l*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,r,o,s,a,l,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),r=o/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,a=e,l=0;var c=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,c+=1;while(0===l&&15>c);return c>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(t,e,i){var n=Math.PI/2,r=Math.PI/4,o=1e-10,s=t("../common/qsfnz"),a=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<o?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<o?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=s(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=s(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,l,h,c,u,d,p,f,m,g=t.x,y=t.y;if(g=a(g-this.long0),this.sphere){if(c=Math.sin(y),m=Math.cos(y),l=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+m*l:1+this.sinph0*c+this.cosph0*m*l,o>=i)return null;i=Math.sqrt(2/i),e=i*m*Math.sin(g),i*=this.mode===this.EQUIT?c:this.cosph0*c-this.sinph0*m*l}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),Math.abs(y+this.phi0)<o)return null;i=r-.5*y,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(g),i*=l}}else{switch(d=0,p=0,f=0,l=Math.cos(g),h=Math.sin(g),c=Math.sin(y),u=s(this.e,c),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(d=u/this.qp,p=Math.sqrt(1-d*d)),this.mode){case this.OBLIQ:f=1+this.sinb1*d+this.cosb1*p*l;break;case this.EQUIT:f=1+p*l;break;case this.N_POLE:f=n+y,u=this.qp-u;break;case this.S_POLE:f=y-n,u=this.qp+u}if(Math.abs(f)<o)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),i=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*d-this.sinb1*p*l):(f=Math.sqrt(2/(1+p*l)))*d*this.ymf,e=this.xmf*f*p*h;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(f=Math.sqrt(u))*h,i=l*(this.mode===this.S_POLE?f:-f)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,s,l,h,c,u=t.x/this.a,d=t.y/this.a;if(this.sphere){var p,f=0,m=0;if(p=Math.sqrt(u*u+d*d),i=.5*p,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=o?0:Math.asin(d*m/p),u*=m,d=f*p;break;case this.OBLIQ:i=Math.abs(p)<=o?this.phi0:Math.asin(f*this.sinph0+d*m*this.cosph0/p),u*=m*this.cosph0,d=(f-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:d=-d,i=n-i;break;case this.S_POLE:i-=n}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,d):0}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,d*=this.dd,h=Math.sqrt(u*u+d*d),o>h)return t.x=0,t.y=this.phi0,t;s=2*Math.asin(.5*h/this.rq),r=Math.cos(s),u*=s=Math.sin(s),this.mode===this.OBLIQ?(c=r*this.sinb1+d*s*this.cosb1/h,l=this.qp*c,d=h*this.cosb1*r-d*this.sinb1*s):(c=d*s/h,l=this.qp*c,d=h*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),l=u*u+d*d,!l)return t.x=0,t.y=this.phi0,t;c=1-l/this.qp,this.mode===this.S_POLE&&(c=-c)}e=Math.atan2(u,d),i=this.authlat(Math.asin(c),this.apa)}return t.x=a(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(t,e,i){var n=1e-10,r=t("../common/msfnz"),o=t("../common/tsfnz"),s=Math.PI/2,a=t("../common/sign"),l=t("../common/adjust_lon"),h=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<n)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),s=r(this.e,e,i),a=o(this.e,this.lat1,e),l=Math.sin(this.lat2),h=Math.cos(this.lat2),c=r(this.e,l,h),u=o(this.e,this.lat2,l),d=o(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>n?this.ns=Math.log(s/c)/Math.log(a/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=s/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=n&&(i=a(i)*(s-2*n));var r,h,c=Math.abs(Math.abs(i)-s);if(c>n)r=o(this.e,i,Math.sin(i)),h=this.a*this.f0*Math.pow(r,this.ns);else{if(c=i*this.ns,0>=c)return null;h=0}var u=this.ns*l(e-this.long0);return t.x=this.k0*(h*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-h*Math.cos(u))+this.y0,t},i.inverse=function(t){var e,i,n,r,o,a=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+c*c),i=1):(e=-Math.sqrt(a*a+c*c),i=-1);var u=0;if(0!==e&&(u=Math.atan2(i*a,i*c)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),r=h(this.e,n),-9999===r)return null}else r=-s;return o=l(u/this.ns+this.long0),t.x=o,t.y=r,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],52:[function(t,e,i){var n=t("../common/msfnz"),r=Math.PI/2,o=1e-10,s=57.29577951308232,a=t("../common/adjust_lon"),l=Math.PI/4,h=t("../common/tsfnz"),c=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*s>90&&-90>i*s&&e*s>180&&-180>e*s)return null;var n,c;if(Math.abs(Math.abs(i)-r)<=o)return null;if(this.sphere)n=this.x0+this.a*this.k0*a(e-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(l+.5*i));else{var u=Math.sin(i),d=h(this.e,i,u);n=this.x0+this.a*this.k0*a(e-this.long0),c=this.y0-this.a*this.k0*Math.log(d)}return t.x=n,t.y=c,t},i.inverse=function(t){var e,i,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)i=r-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var s=Math.exp(-o/(this.a*this.k0));if(i=c(this.e,s),-9999===i)return null}return e=a(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,r=n(e-this.long0),o=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=o,t.y=s,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(t,e,i){var n=t("../common/adjust_lon"),r=1e-10;i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,o=n(e-this.long0),s=i,a=Math.PI*Math.sin(i),l=0;!0;l++){var h=-(s+Math.sin(s)-a)/(1+Math.cos(s));if(s+=h,Math.abs(h)<r)break}s/=2,Math.PI/2-Math.abs(i)<r&&(o=0);var c=.900316316158*this.a*o*Math.cos(s)+this.x0,u=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=c,t.y=u,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var r=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var o=Math.asin(i);return t.x=r,t.y=o,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(t,e,i){var n=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,r=t.y,o=r-this.lat0,s=i-this.long0,a=o/n*1e-5,l=s,h=1,c=0;for(e=1;10>=e;e++)h*=a,c+=this.A[e]*h;var u,d,p=c,f=l,m=1,g=0,y=0,v=0;for(e=1;6>=e;e++)u=m*p-g*f,d=g*p+m*f,m=u,g=d,y=y+this.B_re[e]*m-this.B_im[e]*g,v=v+this.B_im[e]*m+this.B_re[e]*g;return t.x=v*this.a+this.x0,t.y=y*this.a+this.y0,t},i.inverse=function(t){var e,i,r,o=t.x,s=t.y,a=o-this.x0,l=s-this.y0,h=l/this.a,c=a/this.a,u=1,d=0,p=0,f=0;for(e=1;6>=e;e++)i=u*h-d*c,r=d*h+u*c,u=i,d=r,p=p+this.C_re[e]*u-this.C_im[e]*d,f=f+this.C_im[e]*u+this.C_re[e]*d;for(var m=0;m<this.iterations;m++){var g,y,v=p,b=f,x=h,w=c;for(e=2;6>=e;e++)g=v*p-b*f,y=b*p+v*f,v=g,b=y,x+=(e-1)*(this.B_re[e]*v-this.B_im[e]*b),w+=(e-1)*(this.B_im[e]*v+this.B_re[e]*b);v=1,b=0;var k=this.B_re[1],M=this.B_im[1];for(e=2;6>=e;e++)g=v*p-b*f,y=b*p+v*f,v=g,b=y,k+=e*(this.B_re[e]*v-this.B_im[e]*b),M+=e*(this.B_im[e]*v+this.B_re[e]*b);var _=k*k+M*M;p=(x*k+w*M)/_,f=(w*k-x*M)/_}var P=p,S=f,T=1,C=0;for(e=1;9>=e;e++)T*=P,C+=this.D[e]*T;var A=this.lat0+C*n*1e5,E=this.long0+S;return t.x=E,t.y=A,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(t,e,i){var n=t("../common/tsfnz"),r=t("../common/adjust_lon"),o=t("../common/phi2z"),s=Math.PI/2,a=Math.PI/4,l=1e-10;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var o=n(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));1>s*s&&(s=1);var a,l;if(isNaN(this.longc)){var h=n(this.e,this.lat1,Math.sin(this.lat1)),c=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var u=Math.pow(h,this.bl),d=Math.pow(c,this.bl);a=this.el/u,l=.5*(a-1/a);var p=(this.el*this.el-d*u)/(this.el*this.el+d*u),f=(d-u)/(d+u),m=r(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*m)/f)/this.bl,this.long0=r(this.long0);var g=r(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/l),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else a=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=a*Math.pow(o,this.bl),l=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,o,h=t.x,c=t.y,u=r(h-this.long0);if(Math.abs(Math.abs(c)-s)<=l)o=c>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(a+o*this.gamma0*.5)),e=-1*o*s*this.al/this.bl;else{var d=n(this.e,c,Math.sin(c)),p=this.el/Math.pow(d,this.bl),f=.5*(p-1/p),m=.5*(p+1/p),g=Math.sin(this.bl*u),y=(f*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/m;i=Math.abs(Math.abs(y)-1)<=l?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-y)/(1+y))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=l?this.al*this.bl*u:this.al*Math.atan2(f*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),a=.5*(n-1/n),h=.5*(n+1/n),c=Math.sin(this.bl*e/this.al),u=(c*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/h,d=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<l?(t.x=this.long0,t.y=s):Math.abs(u+1)<l?(t.x=this.long0,t.y=-1*s):(t.y=o(this.e,d),t.x=r(this.long0-Math.atan2(a*Math.cos(this.gamma0)-c*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/adjust_lon"),l=t("../common/adjust_lat"),h=t("../common/mlfn"),c=1e-10,u=t("../common/gN"),d=20;i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=s(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,r=t.x,o=t.y,s=a(r-this.long0);if(n=s*Math.sin(o),this.sphere)Math.abs(o)<=c?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),i=this.a*(l(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=c)e=this.a*s,
i=-1*this.ml0;else{var d=u(this.a,this.e,Math.sin(o))/Math.tan(o);e=d*Math.sin(n),i=this.a*h(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+d*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,r,o,s,l,u,p;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=c)e=a(n/this.a+this.long0),i=0;else{s=this.lat0+r/this.a,l=n*n/this.a/this.a+s*s,u=s;var f;for(o=d;o;--o)if(f=Math.tan(u),p=-1*(s*(u*f+1)-u-.5*(u*u+l)*f)/((u-s)/f-1),u+=p,Math.abs(p)<=c){i=u;break}e=a(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=c)i=0,e=a(this.long0+n/this.a);else{s=(this.ml0+r)/this.a,l=n*n/this.a/this.a+s*s,u=s;var m,g,y,v,b;for(o=d;o;--o)if(b=this.e*Math.sin(u),m=Math.sqrt(1-b*b)*Math.tan(u),g=this.a*h(this.e0,this.e1,this.e2,this.e3,u),y=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),v=g/this.a,p=(s*(m*v+1)-v-.5*m*(v*v+l))/(this.es*Math.sin(2*u)*(v*v+l-2*s*v)/(4*m)+(s-v)*(m*y-2/Math.sin(2*u))-y),u-=p,Math.abs(p)<=c){i=u;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=a(this.long0+Math.asin(n*m/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],58:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/adjust_lat"),o=t("../common/pj_enfn"),s=20,a=t("../common/pj_mlfn"),l=t("../common/pj_inv_mlfn"),h=Math.PI/2,c=1e-10,u=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},i.forward=function(t){var e,i,r=t.x,o=t.y;if(r=n(r-this.long0),this.sphere){if(this.m)for(var l=this.n*Math.sin(o),h=s;h;--h){var u=(this.m*o+Math.sin(o)-l)/(this.m+Math.cos(o));if(o-=u,Math.abs(u)<c)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*r*(this.m+Math.cos(o)),i=this.a*this.C_y*o}else{var d=Math.sin(o),p=Math.cos(o);i=this.a*a(o,d,p,this.en),e=this.a*r*p/Math.sqrt(1-this.es*d*d)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,o,s;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=u((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=u(Math.sin(e)/this.n)),o=n(o+this.long0),e=r(e)):(e=l(t.y/this.a,this.es,this.en),s=Math.abs(e),h>s?(s=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),o=n(i)):h>s-c&&(o=this.long0)),t.x=o,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],59:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,r=1/n,o=2*r-Math.pow(r,2),s=this.e=Math.sqrt(o);this.R=this.k0*i*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*l+this.alpha*s/2*h},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,l=0,h=o,c=-1e3,u=0;Math.abs(h-c)>1e-7;){if(++u>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),c=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=h,t},i.names=["somerc"]},{}],60:[function(t,e,i){var n=Math.PI/2,r=1e-10,o=t("../common/sign"),s=t("../common/msfnz"),a=t("../common/tsfnz"),l=t("../common/phi2z"),h=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*(1+o(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=r&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*this.cons*s(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/a(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=s(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,o,s,l,c,u=t.x,d=t.y,p=Math.sin(d),f=Math.cos(d),m=h(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=r&&Math.abs(d+this.lat0)<=r?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*f*Math.cos(m)),t.x=this.a*e*f*Math.sin(m)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*f*Math.cos(m))+this.y0,t):(i=2*Math.atan(this.ssfn_(d,p,this.e))-n,s=Math.cos(i),o=Math.sin(i),Math.abs(this.coslat0)<=r?(l=a(this.e,d*this.con,this.con*p),c=2*this.a*this.k0*l/this.cons,t.x=this.x0+c*Math.sin(u-this.long0),t.y=this.y0-this.con*c*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<r?(e=2*this.a*this.k0/(1+s*Math.cos(m)),t.y=e*o):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*s*Math.cos(m))),t.y=e*(this.cosX0*o-this.sinX0*s*Math.cos(m))+this.y0),t.x=e*s*Math.sin(m)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,s,a,c=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(c/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,r>=c?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/c),e=h(Math.abs(this.coslat0)<r?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(u),c*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=r){if(r>=c)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,o=c*this.cons/(2*this.a*this.k0),i=this.con*l(this.e,o),e=this.con*h(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,r>=c?a=this.X0:(a=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/c),e=h(this.long0+Math.atan2(t.x*Math.sin(s),c*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),i=-1*l(this.e,Math.tan(.5*(n+a)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],61:[function(t,e,i){var n=t("./gauss"),r=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,o,s;return t.x=r(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),o=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*o),t.x=s*i*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*i*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,o,s,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(a,this.R2);e=Math.sin(l),i=Math.cos(l),s=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),o=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else s=this.phic0,o=0;return t.x=o,t.y=s,n.inverse.apply(this,[t]),t.x=r(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],62:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/mlfn"),l=t("../common/adjust_lon"),h=Math.PI/2,c=1e-10,u=t("../common/sign"),d=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=s(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,r=t.x,o=t.y,s=l(r-this.long0),h=Math.sin(o),c=Math.cos(o);if(this.sphere){var u=c*Math.sin(s);if(Math.abs(Math.abs(u)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+u)/(1-u)),e=Math.acos(c*Math.cos(s)/Math.sqrt(1-u*u)),0>o&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var d=c*s,p=Math.pow(d,2),f=this.ep2*Math.pow(c,2),m=Math.tan(o),g=Math.pow(m,2);e=1-this.es*Math.pow(h,2);var y=this.a/Math.sqrt(e),v=this.a*a(this.e0,this.e1,this.e2,this.e3,o);i=this.k0*y*d*(1+p/6*(1-g+f+p/20*(5-18*g+Math.pow(g,2)+72*f-58*this.ep2)))+this.x0,n=this.k0*(v-this.ml0+y*m*(p*(.5+p/24*(5-g+9*f+4*Math.pow(f,2)+p/30*(61-58*g+Math.pow(g,2)+600*f-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,r,o,s,a=6;if(this.sphere){var p=Math.exp(t.x/(this.a*this.k0)),f=.5*(p-1/p),m=this.lat0+t.y/(this.a*this.k0),g=Math.cos(m);e=Math.sqrt((1-g*g)/(1+f*f)),o=d(e),0>m&&(o=-o),s=0===f&&0===g?this.long0:l(Math.atan2(f,g)+this.long0)}else{var y=t.x-this.x0,v=t.y-this.y0;for(e=(this.ml0+v/this.k0)/this.a,i=e,r=0;n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=c);r++)if(r>=a)return 95;if(Math.abs(i)<h){var b=Math.sin(i),x=Math.cos(i),w=Math.tan(i),k=this.ep2*Math.pow(x,2),M=Math.pow(k,2),_=Math.pow(w,2),P=Math.pow(_,2);e=1-this.es*Math.pow(b,2);var S=this.a/Math.sqrt(e),T=S*(1-this.es)/e,C=y/(S*this.k0),A=Math.pow(C,2);o=i-S*w*A/T*(.5-A/24*(5+3*_+10*k-4*M-9*this.ep2-A/30*(61+90*_+298*k+45*P-252*this.ep2-3*M))),s=l(this.long0+C*(1-A/6*(1+2*_+k-A/20*(5-2*k+28*_-3*M+8*this.ep2+24*P)))/x)}else o=h*u(v),s=this.long0}return t.x=s,t.y=o,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],63:[function(t,e,i){var n=.017453292519943295,r=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,r.init.apply(this),this.forward=r.forward,this.inverse=r.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":62}],64:[function(t,e,i){var n=t("../common/adjust_lon"),r=Math.PI/2,o=1e-10,s=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,a=t.x,l=t.y,h=n(a-this.long0);Math.abs(l)<=o&&(e=this.x0+this.R*h,i=this.y0);var c=s(2*Math.abs(l/Math.PI));(Math.abs(h)<=o||Math.abs(Math.abs(l)-r)<=o)&&(e=this.x0,i=l>=0?this.y0+Math.PI*this.R*Math.tan(.5*c):this.y0+Math.PI*this.R*-Math.tan(.5*c));var u=.5*Math.abs(Math.PI/h-h/Math.PI),d=u*u,p=Math.sin(c),f=Math.cos(c),m=f/(p+f-1),g=m*m,y=m*(2/p-1),v=y*y,b=Math.PI*this.R*(u*(m-v)+Math.sqrt(d*(m-v)*(m-v)-(v+d)*(g-v)))/(v+d);0>h&&(b=-b),e=this.x0+b;var x=d+m;return b=Math.PI*this.R*(y*x-u*Math.sqrt((v+d)*(d+1)-x*x))/(v+d),i=l>=0?this.y0+b:this.y0-b,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,r,s,a,l,h,c,u,d,p,f,m;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,r=t.x/p,s=t.y/p,a=r*r+s*s,l=-Math.abs(s)*(1+a),h=l-2*s*s+r*r,c=-2*l+1+2*s*s+a*a,m=s*s/c+(2*h*h*h/c/c/c-9*l*h/c/c)/27,u=(l-h*h/3/c)/c,d=2*Math.sqrt(-u/3),p=3*m/u/d,Math.abs(p)>1&&(p=p>=0?1:-1),f=Math.acos(p)/3,i=t.y>=0?(-d*Math.cos(f+Math.PI/3)-h/3/c)*Math.PI:-(-d*Math.cos(f+Math.PI/3)-h/3/c)*Math.PI,e=Math.abs(r)<o?this.long0:n(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-s*s)+a*a))/2/r),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],65:[function(t,e,i){var n=.017453292519943295,r=57.29577951308232,o=1,s=2,a=t("./datum_transform"),l=t("./adjust_axis"),h=t("./Proj"),c=t("./common/toPoint");e.exports=function u(t,e,i){function d(t,e){return(t.datum.datum_type===o||t.datum.datum_type===s)&&"WGS84"!==e.datumCode}var p;return Array.isArray(i)&&(i=c(i)),t.datum&&e.datum&&(d(t,e)||d(e,t))&&(p=new h("WGS84"),u(t,p,i),t=p),"enu"!==t.axis&&l(t,!1,i),"longlat"===t.projName?(i.x*=n,i.y*=n):(t.to_meter&&(i.x*=t.to_meter,i.y*=t.to_meter),t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=a(t.datum,e.datum,i),e.from_greenwich&&(i.x-=e.from_greenwich),"longlat"===e.projName?(i.x*=r,i.y*=r):(e.forward(i),e.to_meter&&(i.x/=e.to_meter,i.y/=e.to_meter)),"enu"!==e.axis&&l(e,!0,i),i}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],66:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return r(t,e),e}).reduce(function(t,e){return h(t,e)},{})}function r(t,e){var i;return Array.isArray(t)?(i=t.shift(),"PARAMETER"===i&&(i=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[i]={},r(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):r(t,e[i])):e[i]=!0)):void(e[t]=!0)}function o(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function s(t){return t*l}function a(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===t.datumCode||"new_zealand_1949"===t.datumCode)&&(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var i=function(e){return o(t,e)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]];n.forEach(i),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=s(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var l=.017453292519943295,h=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),o=i.shift();i.unshift(["name",o]),i.unshift(["type",n]),i.unshift("output");var s={};return r(i,s),a(s.output),h(e,s.output)}},{"./extend":34}],67:[function(t,e,i){function n(t){return t*(Math.PI/180)}function r(t){return 180*(t/Math.PI)}function o(t){var e,i,r,o,s,l,h,c,u,d=t.lat,p=t.lon,f=6378137,m=.00669438,g=.9996,y=n(d),v=n(p);u=Math.floor((p+180)/6)+1,180===p&&(u=60),d>=56&&64>d&&p>=3&&12>p&&(u=32),d>=72&&84>d&&(p>=0&&9>p?u=31:p>=9&&21>p?u=33:p>=21&&33>p?u=35:p>=33&&42>p&&(u=37)),e=6*(u-1)-180+3,c=n(e),i=m/(1-m),r=f/Math.sqrt(1-m*Math.sin(y)*Math.sin(y)),o=Math.tan(y)*Math.tan(y),s=i*Math.cos(y)*Math.cos(y),l=Math.cos(y)*(v-c),h=f*((1-m/4-3*m*m/64-5*m*m*m/256)*y-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*y)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*y)-35*m*m*m/3072*Math.sin(6*y));var b=g*r*(l+(1-o+s)*l*l*l/6+(5-18*o+o*o+72*s-58*i)*l*l*l*l*l/120)+5e5,x=g*(h+r*Math.tan(y)*(l*l/2+(5-o+9*s+4*s*s)*l*l*l*l/24+(61-58*o+o*o+600*s-330*i)*l*l*l*l*l*l/720));return 0>d&&(x+=1e7),{northing:Math.round(x),easting:Math.round(b),zoneNumber:u,zoneLetter:a(d)}}function s(t){var e=t.northing,i=t.easting,n=t.zoneLetter,o=t.zoneNumber;if(0>o||o>60)return null;var a,l,h,c,u,d,p,f,m,g,y=.9996,v=6378137,b=.00669438,x=(1-Math.sqrt(1-b))/(1+Math.sqrt(1-b)),w=i-5e5,k=e;"N">n&&(k-=1e7),f=6*(o-1)-180+3,a=b/(1-b),p=k/y,m=p/(v*(1-b/4-3*b*b/64-5*b*b*b/256)),g=m+(3*x/2-27*x*x*x/32)*Math.sin(2*m)+(21*x*x/16-55*x*x*x*x/32)*Math.sin(4*m)+151*x*x*x/96*Math.sin(6*m),l=v/Math.sqrt(1-b*Math.sin(g)*Math.sin(g)),h=Math.tan(g)*Math.tan(g),c=a*Math.cos(g)*Math.cos(g),u=v*(1-b)/Math.pow(1-b*Math.sin(g)*Math.sin(g),1.5),d=w/(l*y);var M=g-l*Math.tan(g)/u*(d*d/2-(5+3*h+10*c-4*c*c-9*a)*d*d*d*d/24+(61+90*h+298*c+45*h*h-252*a-3*c*c)*d*d*d*d*d*d/720);M=r(M);var _=(d-(1+2*h+c)*d*d*d/6+(5-2*c+28*h-3*c*c+8*a+24*h*h)*d*d*d*d*d/120)/Math.cos(g);_=f+r(_);var P;if(t.accuracy){var S=s({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});P={top:S.lat,right:S.lon,bottom:M,left:_}}else P={lat:M,lon:_};return P}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function l(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+h(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function h(t,e,i){var n=c(i),r=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return u(r,o,n)}function c(t){var e=t%g;return 0===e&&(e=g),e}function u(t,e,i){var n=i-1,r=y.charCodeAt(n),o=v.charCodeAt(n),s=r+t-1,a=o+e,l=!1;s>M&&(s=s-M+b-1,l=!0),(s===x||x>r&&s>x||(s>x||x>r)&&l)&&s++,(s===w||w>r&&s>w||(s>w||w>r)&&l)&&(s++,s===x&&s++),s>M&&(s=s-M+b-1),a>k?(a=a-k+b-1,l=!0):l=!1,(a===x||x>o&&a>x||(a>x||x>o)&&l)&&a++,(a===w||w>o&&a>w||(a>w||w>o)&&l)&&(a++,a===x&&a++),a>k&&(a=a-k+b-1);var h=String.fromCharCode(s)+String.fromCharCode(a);return h}function d(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if("A">=a||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(o,o+=2);for(var l=c(s),h=p(n.charAt(0),l),u=f(n.charAt(1),l);u<m(a);)u+=2e6;var d=i-o;if(d%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,y,v,b,x,w=d/2,k=0,M=0;return w>0&&(g=1e5/Math.pow(10,w),y=t.substring(o,o+w),k=parseFloat(y)*g,v=t.substring(o+w),M=parseFloat(v)*g),b=k+h,x=M+u,{easting:b,northing:x,zoneLetter:a,zoneNumber:s,accuracy:g}}function p(t,e){for(var i=y.charCodeAt(e-1),n=1e5,r=!1;i!==t.charCodeAt(0);){if(i++,i===x&&i++,i===w&&i++,i>M){if(r)throw"Bad character: "+t;i=b,r=!0}n+=1e5}return n}function f(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=v.charCodeAt(e-1),n=0,r=!1;i!==t.charCodeAt(0);){if(i++,i===x&&i++,i===w&&i++,i>k){if(r)throw"Bad character: "+t;i=b,r=!0}n+=1e5}return n}function m(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var g=6,y="AJSAJS",v="AFAFAF",b=65,x=73,w=79,k=86,M=90;i.forward=function(t,e){return e=e||5,l(o({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=s(d(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=s(d(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],68:[function(t,e,i){e.exports={name:"proj4",version:"2.3.14",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~12.0.1","grunt-browserify":"~4.0.1","grunt-contrib-uglify":"~0.11.1",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"}}},{}],"./includedProjections":[function(t,e,i){e.exports=t("hTEDpn")},{}],hTEDpn:[function(t,e,i){var n=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/poly":57,"./lib/projections/sinu":58,"./lib/projections/somerc":59,"./lib/projections/stere":60,"./lib/projections/sterea":61,"./lib/projections/tmerc":62,"./lib/projections/utm":63,"./lib/projections/vandg":64}]},{},[36])(36)})},1067:function(t,e){!function(e,i){"object"==typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)}("undefined"!=typeof window?window:this,function(t){function e(e,i){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(i)throw Error(n);t.console&&console.log(n)}function i(t,e,i){this.options=e,this.elem=t,this.prop=i}function n(){var t,e,i=arguments,n={},r=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?r(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=r(n,i[t]);return n}function r(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function s(t){return t&&"object"==typeof t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function h(t){return t!==D&&null!==t}function c(t,e,i){var n,r;if(o(e))h(i)?t.setAttribute(e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(h(e)&&s(e))for(n in e)t.setAttribute(n,e[n]);return r}function u(t){return a(t)?t:[t]}function d(t,e,i){return e?setTimeout(t,e,i):void t.call(0,i)}function p(t,e){bt&&!Pt&&e&&e.opacity!==D&&(e.filter="alpha(opacity="+100*e.opacity+")"),Kt(t.style,e)}function f(t,e,i,n,r){return t=ot.createElement(t),e&&Kt(t,e),r&&p(t,{padding:0,border:"none",margin:0}),i&&p(t,i),n&&n.appendChild(t),t}function m(t,e){var i=function(){};return i.prototype=new t,Kt(i.prototype,e),i}function g(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t}function y(t){return 6e4*(X&&X(t)||H||0)}function v(t,e){for(var i,n,r,o,s,a="{",l=!1,h=[];(a=t.indexOf(a))!==-1;){if(i=t.slice(0,a),l){for(n=i.split(":"),r=n.shift().split("."),s=r.length,i=e,o=0;o<s;o++)i=i[r[o]];n.length&&(n=n.join(":"),r=/\.([0-9])/,o=j.lang,s=void 0,/f$/.test(n)?(s=(s=n.match(r))?s[1]:-1,null!==i&&(i=rt.numberFormat(i,s,o.decimalPoint,n.indexOf(",")>-1?o.thousandsSep:""))):i=B(n,i))}h.push(i),t=t.slice(a+1),a=(l=!l)?"}":"{"}return h.push(t),h.join("")}function b(t){return st.pow(10,lt(st.log(t)/st.LN10))}function x(t,e,i,n,r){var o,s=t,i=$t(i,1);for(o=t/i,e||(e=[1,2,2.5,5,10],n===!1&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),n=0;n<e.length&&(s=e[n],!(r&&s*i>=t||!r&&o<=(e[n]+(e[n+1]||e[n]))/2));n++);return s*=i}function w(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;n<r;n++)delete t[n].safeI}function k(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function M(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function _(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function P(t){z||(z=f(It)),t&&z.appendChild(t),z.innerHTML=""}function S(t,e){return parseFloat(t.toPrecision(e||14))}function T(t,e){e.renderer.globalAnimation=$t(t,e.animation)}function C(t){return s(t)?n(t):{duration:t?500:0}}function A(){var e=j.global,i=e.useUTC,n=i?"getUTC":"get",r=i?"setUTC":"set";G=e.Date||t.Date,H=i&&e.timezoneOffset,X=i&&e.getTimezoneOffset,W=function(t,e,n,r,o,s){var a;return i?(a=G.UTC.apply(0,arguments),a+=y(a)):a=new G(t,e,$t(n,1),$t(r,0),$t(o,0),$t(s,0)).getTime(),a},Y=n+"Minutes",U=n+"Hours",q=n+"Day",V=n+"Date",K=n+"Month",Z=n+"FullYear",$=r+"Milliseconds",Q=r+"Seconds",J=r+"Minutes",tt=r+"Hours",et=r+"Date",it=r+"Month",nt=r+"FullYear"}function E(t){return this instanceof E?void this.init(t):new E(t)}function O(){}function L(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function I(t,e,i,n,r){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:$t(e.y,o?4:i?14:-6),x:$t(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}var D,R,N,z,j,B,F,G,W,H,X,Y,U,q,V,K,Z,$,Q,J,tt,et,it,nt,rt,ot=t.document,st=Math,at=st.round,lt=st.floor,ht=st.ceil,ct=st.max,ut=st.min,dt=st.abs,pt=st.cos,ft=st.sin,mt=st.PI,gt=2*mt/360,yt=t.navigator&&t.navigator.userAgent||"",vt=t.opera,bt=/(msie|trident|edge)/i.test(yt)&&!vt,xt=ot&&8===ot.documentMode,wt=!bt&&/AppleWebKit/.test(yt),kt=/Firefox/.test(yt),Mt=/(Mobile|Android|Windows Phone)/.test(yt),_t="http://www.w3.org/2000/svg",Pt=ot&&ot.createElementNS&&!!ot.createElementNS(_t,"svg").createSVGRect,St=kt&&parseInt(yt.split("Firefox/")[1],10)<4,Tt=ot&&!Pt&&!bt&&!!ot.createElement("canvas").getContext,Ct={},At=0,Et=function(){},Ot=[],Lt=0,It="div",Dt=/^[0-9]+$/,Rt=["plotTop","marginRight","marginBottom","plotLeft"],Nt={};rt=t.Highcharts?e(16,!0):{win:t},rt.seriesTypes=Nt;var zt,jt,Bt,Ft,Gt,Wt,Ht,Xt,Yt,Ut,qt,Vt=[];i.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],r=this.now,o=e.length;if(1===r)n=this.toD;else if(o===i.length&&r<1)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?e[o]:r*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(t,e,i){var n,r=this,o=function(t){return!o.stopped&&r.step(t)};this.startTime=+new G,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===Vt.push(o)&&(o.timerId=setInterval(function(){for(n=0;n<Vt.length;n++)Vt[n]()||Vt.splice(n--,1);Vt.length||clearInterval(o.timerId)},13))},step:function(t){var e,i=+new G,n=this.options;e=this.elem;var r,o=n.complete,s=n.duration,a=n.curAnim;if(e.attr&&!e.element)e=!1;else if(t||i>=s+this.startTime){this.now=this.end,this.pos=1,this.update(),t=a[this.prop]=!0;for(r in a)a[r]!==!0&&(t=!1);t&&o&&o.call(e),e=!1}else this.pos=n.easing((i-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,i){var n,e=e||"",r=t.shift,o=e.indexOf("C")>-1,s=o?7:3,e=e.split(" "),i=[].concat(i),a=t.isArea,l=a?2:1,h=function(t){for(n=t.length;n--;)("M"===t[n]||"L"===t[n])&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])};if(o&&(h(e),h(i)),r<=i.length/s&&e.length===i.length)for(;r--;)i=i.slice(0,s).concat(i),a&&(i=i.concat(i.slice(i.length-s)));if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=e.slice().splice(e.length/l-s,s*l),o&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),[].splice.apply(e,[e.length/l,0].concat(r));return[e,i]}};var Kt=rt.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},Zt=rt.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},$t=rt.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(e=i[t],e!==D&&null!==e)return e},Qt=rt.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};B=function(t,e,i){if(!Zt(e))return j.lang.invalidDate||"";var n,t=$t(t,"%Y-%m-%d %H:%M:%S"),r=new G(e-y(e)),o=r[U](),s=r[q](),a=r[V](),l=r[K](),h=r[Z](),c=j.lang,u=c.weekdays,d=c.shortWeekdays,r=Kt({a:d?d[s]:u[s].substr(0,3),A:u[s],d:g(a),e:g(a,2," "),w:s,b:c.shortMonths[l],B:c.months[l],m:g(l+1),y:h.toString().substr(2,2),Y:h,H:g(o),k:o,I:g(o%12||12),l:o%12||12,M:g(r[Y]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:g(r.getSeconds()),L:g(at(e%1e3),3)},rt.dateFormats);
for(n in r)for(;t.indexOf("%"+n)!==-1;)t=t.replace("%"+n,"function"==typeof r[n]?r[n](e):r[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},F={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},rt.numberFormat=function(t,e,i,n){var o,s,t=+t||0,e=+e,a=j.lang,l=(t.toString().split(".")[1]||"").length,h=Math.abs(t);return e===-1?e=Math.min(l,20):Zt(e)||(e=2),o=String(r(h.toFixed(e))),s=o.length>3?o.length%3:0,i=$t(i,a.decimalPoint),n=$t(n,a.thousandsSep),t=t<0?"-":"",t+=s?o.substr(0,s)+n:"",t+=o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n),e&&(n=Math.abs(h-o+Math.pow(10,-Math.max(e,l)-1)),t+=i+n.toFixed(e).slice(2)),t},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},zt=function(e,i){var n;return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-zt(e,"padding-left")-zt(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-zt(e,"padding-top")-zt(e,"padding-bottom"):(n=t.getComputedStyle(e,void 0))&&r(n.getPropertyValue(i))},jt=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},Ft=function(t,e){return[].filter.call(t,e)},Wt=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},Gt=function(e){var i=ot.documentElement,e=e.getBoundingClientRect();return{top:e.top+(t.pageYOffset||i.scrollTop)-(i.clientTop||0),left:e.left+(t.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},qt=function(t){for(var e=Vt.length;e--;)Vt[e].elem===t&&(Vt[e].stopped=!0)},Bt=function(t,e){return Array.prototype.forEach.call(t,e)},Ht=function(e,i,n){function r(i){i.target=i.srcElement||t,n.call(e,i)}var o=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=r,e.attachEvent("on"+i,r)),o[i]||(o[i]=[]),o[i].push(n)},Xt=function(t,e,i){function n(e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.attachEvent&&(i=t.hcEventsIE[i.toString()],t.detachEvent("on"+e,i))}function r(){var i,r,o;if(t.nodeName)for(o in e?(i={},i[e]=!0):i=a,i)if(a[o])for(r=a[o].length;r--;)n(o,a[o][r])}var o,s,a=t.hcEvents;a&&(e?(o=a[e]||[],i?(s=jt(i,o),s>-1&&(o.splice(s,1),a[e]=o),n(e,i)):(r(),a[e]=[])):(r(),t.hcEvents={}))},Yt=function(t,e,i,n){var r;r=t.hcEvents;var o,s,i=i||{};if(ot.createEvent&&(t.dispatchEvent||t.fireEvent))r=ot.createEvent("Events"),r.initEvent(e,!0,!0),r.target=t,Kt(r,i),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(e,r);else if(r)for(r=r[e]||[],o=r.length,i.preventDefault||(i.preventDefault=function(){i.defaultPrevented=!0}),i.target=t,i.type||(i.type=e),e=0;e<o;e++)s=r[e],s.call(t,i)===!1&&i.preventDefault();n&&!i.defaultPrevented&&n(i)},Ut=function(t,e,r){var o,a,l,h,c="";s(r)||(o=arguments,r={duration:o[2],easing:o[3],complete:o[4]}),Zt(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=n(e);for(h in e)l=new i(t,r,h),a=null,"d"===h?(l.paths=l.initPath(t,t.d,e.d),l.toD=e.d,o=0,a=1):t.attr?o=t.attr(h):(o=parseFloat(zt(t,h))||0,"opacity"!==h&&(c="px")),a||(a=e[h]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),l.run(o,a,c)},t.jQuery&&(t.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(rt[o(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):Ot[c(this[0],"data-highcharts-chart")]}),ot&&!ot.defaultView&&(zt=function(t,e){var i;return i={width:"clientWidth",height:"clientHeight"}[e],t.style[e]?r(t.style[e]):("opacity"===e&&(e="filter"),i?(t.style.zoom=1,Math.max(t[i]-2*zt(t,"padding"),0)):(i=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===i?1:r(i)))}),Array.prototype.forEach||(Bt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(e.call(t[i],t[i],i,t)===!1)return i}),Array.prototype.indexOf||(jt=function(t,e){var i,n=0;if(e)for(i=e.length;n<i;n++)if(e[n]===t)return n;return-1}),Array.prototype.filter||(Ft=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)e(t[n],n)&&i.push(t[n]);return i}),rt.Fx=i,rt.inArray=jt,rt.each=Bt,rt.grep=Ft,rt.offset=Gt,rt.map=Wt,rt.addEvent=Ht,rt.removeEvent=Xt,rt.fireEvent=Yt,rt.animate=Ut,rt.animObject=C,rt.stop=qt,j={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":rt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Pt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Mt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Jt=j.plotOptions,te=Jt.line;A(),E.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[r(t[1],16),r(t[2],16),r(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],init:function(t){var e,i,n,r;if((this.input=t)&&t.stops)this.stops=Wt(t.stops,function(t){return new E(t[1])});else for(n=this.parsers.length;n--&&!i;)r=this.parsers[n],(e=r.regex.exec(t))&&(i=r.parse(e));this.rgba=i||[]},get:function(t){var e,i=this.input,r=this.rgba;return this.stops?(e=n(i),e.stops=[].concat(e.stops),Bt(this.stops,function(i,n){e.stops[n]=[e.stops[n][0],i.get(t)]})):e=r&&Zt(r[0])?"rgb"===t||!t&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===t?r[3]:"rgba("+r.join(",")+")":i,e},brighten:function(t){var e,i=this.rgba;if(this.stops)Bt(this.stops,function(e){e.brighten(t)});else if(Zt(t)&&0!==t)for(e=0;e<3;e++)i[e]+=r(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},O.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(t,e){this.element="span"===e?f(e):ot.createElementNS(_t,e),this.renderer=t},animate:function(t,e,i){return e=$t(e,this.renderer.globalAnimation,!0),qt(this),e?(i&&(e.complete=i),Ut(this,t,e)):this.attr(t,null,i),this},colorGradient:function(t,e,i){var r,o,s,l,c,u,d,p,f,m,g,y,v=this.renderer,b=[];if(t.linearGradient?o="linearGradient":t.radialGradient&&(o="radialGradient"),o){s=t[o],c=v.gradients,d=t.stops,m=i.radialReference,a(s)&&(t[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!h(s.gradientUnits)&&(l=s,s=n(s,v.getRadialAttr(m,l),{gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&b.push(g,s[g]);for(g in d)b.push(d[g]);b=b.join(","),c[b]?m=c[b].attr("id"):(s.id=m="highcharts-"+At++,c[b]=u=v.createElement(o).attr(s).add(v.defs),u.radAttr=l,u.stops=[],Bt(d,function(t){0===t[1].indexOf("rgba")?(r=E(t[1]),p=r.get("rgb"),f=r.get("a")):(p=t[1],f=1),t=v.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(u),u.stops.push(t)})),y="url("+v.url+"#"+m+")",i.setAttribute(e,y),i.gradient=b,t.toString=function(){return y}}},applyTextShadow:function(t){var e,i=this.element,n=t.indexOf("contrast")!==-1,o={},s=this.renderer.forExport,a=s||i.style.textShadow!==D&&!bt;n&&(o.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(wt||s)&&(o.textRendering="geometricPrecision"),a?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(i.getElementsByTagName("tspan")),Bt(t.split(/\s?,\s?/g),function(t){var n,o,s=i.firstChild,t=t.split(" ");n=t[t.length-1],(o=t[t.length-2])&&Bt(e,function(t,e){var a;0===e&&(t.setAttribute("x",i.getAttribute("x")),e=i.getAttribute("y"),t.setAttribute("y",e||0),null===e&&i.setAttribute("y",0)),a=t.cloneNode(1),c(a,{"class":"highcharts-text-shadow",fill:n,stroke:n,"stroke-opacity":1/ct(r(o),3),"stroke-width":o,"stroke-linejoin":"round"}),i.insertBefore(a,s)})}))},attr:function(t,e,i){var n,r,o,s=this.element,a=this;if("string"==typeof t&&e!==D&&(n=t,t={},t[n]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(n in t)e=t[n],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(r||(this.symbolAttr(t),r=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||(o=this[n+"Setter"]||this._defaultSetter,o.call(this,e,n,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),a},updateShadows:function(t,e,i){for(var n=this.shadows,r=n.length;r--;)i.call(n[r],"height"===t?Math.max(e-(n[r].cutHeight||0),0):"d"===t?this.d:e,t,n[r])},addClass:function(t){var e=this.element,i=c(e,"class")||"";return i.indexOf(t)===-1&&c(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Bt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=$t(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t){var e,i,n={},r=this.strokeWidth||0;i=at(r)%2/2,t.x=lt(t.x||this.x||0)+i,t.y=lt(t.y||this.y||0)+i,t.width=lt((t.width||this.width||0)-2*i),t.height=lt((t.height||this.height||0)-2*i),t.strokeWidth=r;for(e in t)this[e]!==t[e]&&(this[e]=n[e]=t[e]);return n},css:function(t){var e,i,n=this.styles,o={},s=this.element,a="";if(e=!n,t&&t.color&&(t.fill=t.color),n)for(i in t)t[i]!==n[i]&&(o[i]=t[i],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&r(t.width)||this.textWidth,n&&(t=Kt(n,o)),this.styles=t,e&&(Tt||!Pt&&this.renderer.forExport)&&delete t.width,bt&&!Pt)p(this.element,t);else{n=function(t,e){return"-"+e.toLowerCase()};for(i in t)a+=i.replace(/([A-Z])/g,n)+":"+t[i]+";";c(s,"style",a)}e&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;return N&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=G.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(yt.indexOf("Android")===-1||G.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(h(i)||h(n))&&t.push("scale("+$t(i,1)+" "+$t(n,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,r,s,a,h={};return r=this.renderer,s=r.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||o(i))&&(this.alignTo=n=i||"renderer",l(s,this),s.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=$t(i,r[n],r),n=t.align,r=t.verticalAlign,s=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),"right"!==n&&"center"!==n||(s+=(i.width-(t.width||0))/{right:1,center:2}[n]),h[e?"translateX":"x"]=at(s),"bottom"!==r&&"middle"!==r||(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),h[e?"translateY":"y"]=at(a),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(t,e){var i,n,r,o,s=this.renderer,a=this.element,l=this.styles;n=this.textStr;var h,c,u,d=a.style,p=s.cache,f=s.cacheKeys;if(r=$t(e,this.rotation),o=r*gt,n!==D&&(u=["",r||0,l&&l.fontSize,a.style.width].join(","),u=""===n||Dt.test(n)?"num:"+n.toString().length+u:n+u),u&&!t&&(i=p[u]),!i){if(a.namespaceURI===_t||s.forExport){try{c=this.fakeTS&&function(t){Bt(a.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},kt&&d.textShadow?(h=d.textShadow,d.textShadow=""):c&&c("none"),i=a.getBBox?Kt({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},h?d.textShadow=h:c&&c("")}catch(m){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(s.isSVG&&(s=i.width,n=i.height,bt&&l&&"11px"===l.fontSize&&"16.9"===n.toPrecision(3)&&(i.height=n=14),r&&(i.width=dt(n*ft(o))+dt(s*pt(o)),i.height=dt(n*pt(o))+dt(s*ft(o)))),u){for(;f.length>250;)delete p[f.shift()];p[u]||f.push(u),p[u]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},r=i.shadows,o=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,qt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),r&&Bt(r,function(t){i.safeRemoveChild(t)});o&&o.div&&0===o.div.childNodes.length;)n=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=n;i.alignTo&&l(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,r,o,s,a,l,h=[],u=this.element;if(t){for(s=$t(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+$t(t.offsetX,1)+", "+$t(t.offsetY,1)+")",n=1;n<=s;n++)r=u.cloneNode(0),o=2*s+1-2*n,c(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":o,transform:"translate"+l,fill:"none"}),i&&(c(r,"height",ct(c(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):u.parentNode.insertBefore(r,u),h.push(r);this.shadows=h}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=$t(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=r(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=ot.createElementNS(_t,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(ot.createTextNode(String($t(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,n,o,s=this.renderer,a=this.parentGroup,s=(a||s).element||s.box,l=this.element;i=this.added;var c;if(h(t)&&(l.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&a&&(a.handleZ=!0),a=s.childNodes,c=0;c<a.length&&!o;c++)i=a[c],n=i.zIndex,i!==l&&(r(n)>t||!h(t)&&h(n))&&(s.insertBefore(l,i),o=!0);o||s.appendChild(l)}return o},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},O.prototype.yGetter=O.prototype.xGetter,O.prototype.translateXSetter=O.prototype.translateYSetter=O.prototype.rotationSetter=O.prototype.verticalAlignSetter=O.prototype.scaleXSetter=O.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},O.prototype["stroke-widthSetter"]=O.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],O.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var ee=function(){this.init.apply(this,arguments)};ee.prototype={Element:O,init:function(e,i,n,r,o,s){var a,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));a=r.element,e.appendChild(a),e.innerHTML.indexOf("xmlns")===-1&&c(a,"xmlns",_t),this.isSVG=!0,this.box=a,this.boxWrapper=r,this.alignedObjects=[],this.url=(kt||wt)&&ot.getElementsByTagName("base").length?t.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ot.createTextNode("Created with Highcharts 4.2.5")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(i,n,!1);var l;kt&&e.getBoundingClientRect&&(this.subPixelFix=i=function(){p(e,{left:0,top:0}),l=e.getBoundingClientRect(),p(e,{left:ht(l.left)-l.left+"px",top:ht(l.top)-l.top+"px"})},i(),Ht(t,"resize",i))},getStyle:function(t){return this.style=Kt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),_(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Xt(t,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,i,n,o=t.element,s=this,a=s.forExport,l=$t(t.textStr,"").toString(),h=l.indexOf("<")!==-1,u=o.childNodes,d=c(o,"x"),f=t.styles,m=t.textWidth,g=f&&f.lineHeight,y=f&&f.textShadow,v=f&&"ellipsis"===f.textOverflow,b=u.length,x=m&&!t.added&&this.box,w=function(t){return g?r(g):s.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:f&&f.fontSize||s.style.fontSize||12,t).h},k=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};b--;)o.removeChild(u[b]);h||y||v||l.indexOf(" ")!==-1?(e=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,x&&x.appendChild(o),l=h?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],l=Ft(l,function(t){return""!==t}),Bt(l,function(r,l){var h,u=0,r=r.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");h=r.split("|||"),Bt(h,function(r){if(""!==r||1===h.length){var g,y={},b=ot.createElementNS(_t,"tspan");if(e.test(r)&&(g=r.match(e)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(b,"style",g)),i.test(r)&&!a&&(c(b,"onclick",'location.href="'+r.match(i)[1]+'"'),p(b,{cursor:"pointer"})),r=k(r.replace(/<(.|\n)*?>/g,"")||" ")," "!==r){if(b.appendChild(ot.createTextNode(r)),u?y.dx=0:l&&null!==d&&(y.x=d),c(b,y),o.appendChild(b),!u&&l&&(!Pt&&a&&p(b,{display:"block"}),c(b,"dy",w(b))),m){for(var x,M,y=r.replace(/([^\^])-/g,"$1- ").split(" "),_=h.length>1||l||y.length>1&&"nowrap"!==f.whiteSpace,P=[],S=w(b),T=1,C=t.rotation,A=r,E=A.length;(_||v)&&(y.length||P.length);)t.rotation=0,x=t.getBBox(!0),M=x.width,!Pt&&s.forExport&&(M=s.measureSpanWidth(b.firstChild.data,t.styles)),x=M>m,void 0===n&&(n=x),v&&n?(E/=2,""===A||!x&&E<.5?y=[]:(A=r.substring(0,A.length+(x?-1:1)*ht(E)),y=[A+(m>3?"…":"")],b.removeChild(b.firstChild))):x&&1!==y.length?(b.removeChild(b.firstChild),P.unshift(y.pop())):(y=P,P=[],y.length&&(T++,b=ot.createElementNS(_t,"tspan"),c(b,{dy:S,x:d}),g&&c(b,"style",g),o.appendChild(b)),M>m&&(m=M)),y.length&&b.appendChild(ot.createTextNode(y.join(" ").replace(/- /g,"-")));t.rotation=C}u++}}})}),n&&t.attr("title",t.textStr),x&&x.removeChild(o),y&&t.applyTextShadow&&t.applyTextShadow(y)):o.appendChild(ot.createTextNode(k(l)))},getContrast:function(t){return t=E(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(t,e,i,r,o,s,a,l,h){var c,u,d,p,f,m,g=this.label(t,e,i,h,null,null,null,null,"button"),y=0,t={x1:0,y1:0,x2:0,y2:1},o=n({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return d=o.style,delete o.style,s=n(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),p=s.style,delete s.style,a=n(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=n(o,{style:{color:"#CCC"}},l),m=l.style,delete l.style,Ht(g.element,bt?"mouseover":"mouseenter",function(){3!==y&&g.attr(s).css(p)}),Ht(g.element,bt?"mouseout":"mouseleave",function(){3!==y&&(c=[o,s,a][y],u=[d,p,f][y],g.attr(c).css(u))}),g.setState=function(t){(g.state=y=t)?2===t?g.attr(a).css(f):3===t&&g.attr(l).css(m):g.attr(o).css(d)},g.on("click",function(t){3!==y&&r.call(g,t)}).attr(o).css(Kt({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=at(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=at(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return a(t)?e.d=t:s(t)&&Kt(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=s(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,n,r,o){return s(t)&&(e=t.y,i=t.r,n=t.innerR,r=t.start,o=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:r||0,end:o||0}),t.r=i,t},rect:function(t,e,i,n,r,o){var r=s(t)?t.r:r,a=this.createElement("rect"),t=s(t)?t:t===D?{}:{x:t,y:e,width:ct(i,0),height:ct(n,0)};return o!==D&&(a.strokeWidth=o,t=a.crisp(t)),r&&(t.r=r),a.rSetter=function(t,e,i){c(i,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,r=n.length;for(this.width=t,this.height=e,this.boxWrapper[$t(i,!0)?"animate":"attr"]({width:t,height:e});r--;)n[r].align()},g:function(t){var e=this.createElement("g");return h(t)?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,i,n,r){var o={preserveAspectRatio:"none"};return arguments.length>1&&Kt(o,{x:e,y:i,width:n,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,r,o){var s,a,l,h=this,c=this.symbols[t],c=c&&c(at(e),at(i),n,r,o),u=/^url\((.*?)\)$/;return c?(s=this.path(c),Kt(s,{symbolName:t,x:e,y:i,width:n,height:r}),o&&Kt(s,o)):u.test(t)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(at((n-e[0])/2),at((r-e[1])/2)))},a=t.match(u)[1],t=Ct[a]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(a).attr({x:e,y:i}),s.isImg=!0,t?l(s,t):(s.attr({width:0,height:0}),f("img",{onload:function(){0===this.width&&(p(this,{position:"absolute",top:"-999em"}),ot.body.appendChild(this)),l(s,Ct[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),h.imgCount--,!h.imgCount&&Ot[h.chartIndex].onload&&Ot[h.chartIndex].onload()},src:a}),this.imgCount++)),s},symbols:{circle:function(t,e,i,n){var r=.166*i;return["M",t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,i=r.r||i||n,s=r.end-.001,n=r.innerR,a=r.open,l=pt(o),h=ft(o),c=pt(s),s=ft(s),r=r.end-o<mt?0:1;return["M",t+i*l,e+i*h,"A",i,i,0,r,1,t+i*c,e+i*s,a?"M":"L",t+n*c,e+n*s,"A",n,n,0,r,0,t+n*l,e+n*h,a?"":"Z"]},callout:function(t,e,i,n,r){var o,s=ut(r&&r.r||0,i,n),a=s+6,l=r&&r.anchorX,r=r&&r.anchorY;return o=["M",t+s,e,"L",t+i-s,e,"C",t+i,e,t+i,e,t+i,e+s,"L",t+i,e+n-s,"C",t+i,e+n,t+i,e+n,t+i-s,e+n,"L",t+s,e+n,"C",t,e+n,t,e+n,t,e+n-s,"L",t,e+s,"C",t,e,t,e,t+s,e],l&&l>i&&r>e+a&&r<e+n-a?o.splice(13,3,"L",t+i,r-6,t+i+6,r,t+i,r+6,t+i,e+n-s):l&&l<0&&r>e+a&&r<e+n-a?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+s):r&&r>n&&l>t+a&&l<t+i-a?o.splice(23,3,"L",l+6,e+n,l,e+n+6,l-6,e+n,t+s,e+n):r&&r<0&&l>t+a&&l<t+i-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-s,e),o}},clipRect:function(t,e,i,n){var r="highcharts-"+At++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),t=this.rect(t,e,i,n,0).add(o);return t.id=r,t.clipPath=o,t.count=0,t},text:function(t,e,i,n){var r=Tt||!Pt&&this.forExport,o={};return!n||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),i&&(o.y=Math.round(i)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,r,o=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(r=0;r<o.length;r++)n=o[r],n.getAttribute(e)===s&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(e,i){var n,o,e=e||this.style.fontSize;return!e&&i&&t.getComputedStyle&&(i=i.element||i,e=(n=t.getComputedStyle(i,""))&&n.fontSize),e=/px/.test(e)?r(e):/em/.test(e)?12*parseFloat(e):12,n=e<24?e+3:at(1.2*e),o=at(.8*n),{h:n,b:o,f:e}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=ct(n*pt(e*gt),4)),{x:-t/3*ft(e*gt),y:n}},label:function(t,e,i,r,o,s,a,l,c){var u,d,p,f,m,g,y,v,b,x,w,k=this,M=k.g(c),_=k.text("",0,0,a).attr({zIndex:1}),P=0,S=3,T=0,C=0,A={};b=function(){var t,e;t=_.element.style,d=(void 0===p||void 0===f||M.styles.textAlign)&&h(_.textStr)&&_.getBBox(),M.width=(p||d.width||0)+2*S+T,M.height=(f||d.height||0)+2*S,y=S+k.fontMetrics(t&&t.fontSize,_).b,v&&(u||(t=C,e=(l?-y:0)+C,M.box=u=r?k.symbol(r,t,e,M.width,M.height,A):k.rect(t,e,M.width,M.height,0,A["stroke-width"]),u.isImg||u.attr("fill","none"),u.add(M)),u.isImg||u.attr(Kt({width:at(M.width),height:at(M.height)},A)),A=null)},x=function(){var t,e=M.styles,e=e&&e.textAlign,i=T+S;t=l?0:y,h(p)&&d&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(p-d.width)),i===_.x&&t===_.y||(_.attr("x",i),t!==D&&_.attr("y",t)),_.x=i,_.y=t},w=function(t,e){u?u.attr(t,e):A[t]=e},M.onAdd=function(){_.add(M),M.attr({text:t||0===t?t:"",x:e,y:i}),u&&h(o)&&M.attr({anchorX:o,anchorY:s})},M.widthSetter=function(t){p=t},M.heightSetter=function(t){f=t},M.paddingSetter=function(t){h(t)&&t!==S&&(S=M.padding=t,x())},M.paddingLeftSetter=function(t){h(t)&&t!==T&&(T=t,x())},M.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==P&&(P=t,d&&M.attr({x:m}))},M.textSetter=function(t){t!==D&&_.textSetter(t),b(),x()},M["stroke-widthSetter"]=function(t,e){t&&(v=!0),C=t%2/2,w(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"fill"===e&&t&&(v=!0),w(e,t)},M.anchorXSetter=function(t,e){o=t,w(e,at(t)-C-m)},M.anchorYSetter=function(t,e){s=t,w(e,t-g)},M.xSetter=function(t){M.x=t,P&&(t-=P*((p||d.width)+2*S)),m=at(t),M.attr("translateX",m)},M.ySetter=function(t){g=M.y=at(t),M.attr("translateY",g)};var E=M.css;return Kt(M,{css:function(t){if(t){var e={},t=n(t);Bt(M.textProps,function(i){t[i]!==D&&(e[i]=t[i],delete t[i])}),_.css(e)}return E.call(M,t)},getBBox:function(){return{width:d.width+2*S,height:d.height+2*S,x:d.x-S,y:d.y-S}},shadow:function(t){return u&&u.shadow(t),M},destroy:function(){Xt(M.element,"mouseenter"),Xt(M.element,"mouseleave"),_&&(_=_.destroy()),u&&(u=u.destroy()),O.prototype.destroy.call(M),M=k=b=x=w=null}})}},R=ee,Kt(O.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=Kt(this.styles,t),p(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,n=this.translateY||0,o=this.x||0,s=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=this.shadows,u=this.styles;if(p(e,{marginLeft:i,marginTop:n}),c&&Bt(c,function(t){
p(t,{marginLeft:i+1,marginTop:n+1})}),this.inverted&&Bt(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var c=this.rotation,d=r(this.textWidth),f=u&&u.whiteSpace,m=[c,a,e.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(u=t.fontMetrics(e.style.fontSize).b,h(c)&&this.setSpanRotation(c,l,u),e.offsetWidth>d&&/[ \-]/.test(e.textContent||e.innerText)?(p(e,{width:d+"px",display:"block",whiteSpace:f||"normal"}),this.hasTextWidth=!0):this.hasTextWidth&&(p(e,{width:"",display:"",whiteSpace:f||"nowrap"}),this.hasTextWidth=!1),this.getSpanCorrection(this.hasTextWidth?d:e.offsetWidth,u,l,c,a)),p(e,{left:o+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),wt&&(u=e.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},r=bt?"-ms-transform":wt?"-webkit-transform":kt?"MozTransform":vt?"-o-transform":"";n[r]=n.transform="rotate("+t+"deg)",n[r+(kt?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",p(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),Kt(ee.prototype,{html:function(t,e,i){var n=this.createElement("span"),r=n.element,o=n.renderer,s=o.isSVG,a=function(t,e){Bt(["opacity","visibility"],function(i){Qt(t,i+"Setter",function(t,i,n,r){t.call(this,i,n,r),e[n]=i})})};return n.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t,n.htmlUpdateTransform()},s&&a(n,n.element.style),n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:at(e),y:at(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",n.css=n.htmlCss,s&&(n.add=function(t){var e,i=o.box.parentNode,s=[];if(this.parentGroup=t){if(e=t.div,!e){for(;t;)s.push(t),t=t.parentGroup;Bt(s.reverse(),function(t){var n,r=c(t.element,"class");r&&(r={className:r}),e=t.div=t.div||f(It,r,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",opacity:t.opacity},e||i),n=e.style,Kt(t,{translateXSetter:function(e,i){n.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+"px",t[i]=e,t.doTransform=!0}}),a(t,n)})}}else e=i;return e.appendChild(r),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var ie;if(!Pt&&!Tt){ie={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],r=e===It;("shape"===e||r)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",r?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=r||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=f(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,r=t&&t.inverted,n=t?t.element||t:n;return t&&(this.parentGroup=t),r&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:O.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=pt(t*gt),i=ft(t*gt);p(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,n,r){var o,s=n?pt(n*gt):1,a=n?ft(n*gt):0,l=$t(this.elemHeight,this.element.offsetHeight);this.xCorr=s<0&&-t,this.yCorr=a<0&&-l,o=s*a<0,this.xCorr+=a*e*(o?1-i:i),this.yCorr-=s*e*(n?o?i:1-i:1),r&&"left"!==r&&(this.xCorr-=t*i*(s<0?-1:1),n&&(this.yCorr-=l*i*(a<0?-1:1)),p(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)Zt(t[e])?i[e]=at(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,l(e,i),e.push(i),i.destroyClip=function(){l(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:xt?"inherit":"rect(auto)"}),i.css(t)},css:O.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&P(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),O.prototype.destroy.apply(this)},on:function(e,i){return this.element["on"+e]=function(){var e=t.event;e.target=e.srcElement,i(e)},this},cutOffPath:function(t,e){var i,t=t.split(/[ ,]/);return i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=r(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var n,o,s,a,l,h,c,u=[],d=this.element,p=this.renderer,m=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(h=$t(t.width,3),c=(t.opacity||.15)/h,n=1;n<=3;n++)a=2*h+1-2*n,i&&(l=this.cutOffPath(g.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=f(p.prepVML(s),null,{left:r(m.left)+$t(t.offsetX,1),top:r(m.top)+$t(t.offsetY,1)}),i&&(o.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',c*n,'"/>'],f(p.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),u.push(o);this.shadows=u}return this},updateShadows:Et,setAttr:function(t,e){xt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||f(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows,t=t||[];if(this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){f(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:Et,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-at(ft(t*gt)+1)+"px",i.top=at(pt(t*gt))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,Zt(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&Bt(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,xt||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},ie["stroke-opacitySetter"]=ie["fill-opacitySetter"],rt.VMLElement=ie=m(O,ie),ie.prototype.ySetter=ie.prototype.widthSetter=ie.prototype.heightSetter=ie.prototype.xSetter;var ne={Element:ie,isIE8:yt.indexOf("MSIE 8.0")>-1,init:function(t,e,i,n){var r;if(this.alignedObjects=[],n=this.createElement(It).css(Kt(this.getStyle(n),{position:"relative"})),r=n.element,t.appendChild(n.element),this.isVML=!0,this.box=r,this.boxWrapper=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),!ot.namespaces.hcv){ot.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{ot.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){ot.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var r=this.createElement(),o=s(t);return Kt(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:i)-1,height:(o?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,t=t.inverted,n=this.top-("shape"===i?e.offsetTop:0),r=this.left,e=r+this.width,o=n+this.height,n={clip:"rect("+at(t?r:n)+"px,"+at(t?o:e)+"px,"+at(t?e:o)+"px,"+at(t?n:r)+"px)"};return!t&&xt&&"DIV"===i&&Kt(n,{width:e+"px",height:o+"px"}),n},updateClipping:function(){Bt(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(t,e,i,n){var r,o,s,a=this,l=/^rgba/,h="none";if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var c,u,d,p,m,g,y,v,b=t.linearGradient||t.radialGradient,x="",t=t.stops,w=[],k=function(){o=['<fill colors="'+w.join(",")+'" opacity="',m,'" o:opacity2="',p,'" type="',s,'" ',x,'focus="100%" method="any" />'],f(a.prepVML(o),null,null,e)};if(d=t[0],v=t[t.length-1],d[0]>0&&t.unshift([0,d[1]]),v[0]<1&&t.push([1,v[1]]),Bt(t,function(t,e){l.test(t[1])?(r=E(t[1]),c=r.get("rgb"),u=r.get("a")):(c=t[1],u=1),w.push(100*t[0]+"% "+c),e?(m=u,g=c):(p=u,y=c)}),"fill"===i)if("gradient"===s)i=b.x1||b[0]||0,t=b.y1||b[1]||0,d=b.x2||b[2]||0,b=b.y2||b[3]||0,x='angle="'+(90-180*st.atan((b-t)/(d-i))/mt)+'"',k();else{var M,h=b.r,_=2*h,P=2*h,S=b.cx,T=b.cy,C=e.radialReference,h=function(){C&&(M=n.getBBox(),S+=(C[0]-M.x)/M.width-.5,T+=(C[1]-M.y)/M.height-.5,_*=C[2]/M.width,P*=C[2]/M.height),x='src="'+j.global.VMLRadialGradientURL+'" size="'+_+","+P+'" origin="0.5,0.5" position="'+S+","+T+'" color2="'+y+'" ',k()};n.added?h():n.onAdd=h,h=g}else h=c}else l.test(t)&&"IMG"!==e.tagName?(r=E(t),n[i+"-opacitySetter"](r.get("a"),i,e),h=r.get("rgb")):(h=e.getElementsByTagName(i),h.length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:ee.prototype.html,path:function(t){var e={coordsize:"10 10"};return a(t)?e.d=t:s(t)&&Kt(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");return s(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(It).attr(e)},image:function(t,e,i,n,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):ee.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this,n=e.style,o="IMG"===t.tagName&&t.style;p(t,{flip:"x",left:r(n.width)-(o?r(o.top):1),top:r(n.height)-(o?r(o.left):1),rotation:-90}),Bt(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,r){var o=r.start,s=r.end,a=r.r||i||n,i=r.innerR,n=pt(o),l=ft(o),h=pt(s),c=ft(s);return s-o===0?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*h,e+a*c],r.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*c,t+i*n,e+i*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,r){return r&&(i=n=2*r.r),r&&r.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){return ee.prototype.symbols[h(r)&&r.r?"callout":"square"].call(0,t,e,i,n,r)}}};rt.VMLRenderer=ie=function(){this.init.apply(this,arguments)},ie.prototype=n(ee.prototype,ne),R=ie}ee.prototype.measureSpanWidth=function(t,e){var i,n=ot.createElement("span");return i=ot.createTextNode(t),n.appendChild(i),p(n,e),this.box.appendChild(n),i=n.offsetWidth,P(n),i};var re;Tt&&(rt.CanVGRenderer=ie=function(){_t="http://www.w3.org/1999/xhtml"},ie.prototype.symbols={},re=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){if(0===e.length){var r=ot.getElementsByTagName("head")[0],o=ot.createElement("script");o.type="text/javascript",o.src=n,o.onload=t,r.appendChild(o)}e.push(i)}}}(),R=ie),L.prototype={addLabel:function(){var t,e=this.axis,i=e.options,r=e.chart,o=e.categories,s=e.names,a=this.pos,l=i.labels,c=e.tickPositions,u=a===c[0],d=a===c[c.length-1],s=o?$t(o[a],s[a],a):a,o=this.label,c=c.info;e.isDatetimeAxis&&c&&(t=i.dateTimeLabelFormats[c.higherRanks[a]||c.unitName]),this.isFirst=u,this.isLast=d,i=e.labelFormatter.call({axis:e,chart:r,isFirst:u,isLast:d,dateTimeLabelFormat:t,value:e.isLog?S(e.lin2log(s)):s}),h(o)?o&&o.attr({text:i}):(this.labelLength=(this.label=o=h(i)&&l.enabled?r.renderer.text(i,0,0,l.useHTML).css(n(l.style)).add(e.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,r=i.chart.chartWidth,o=i.chart.spacing,s=$t(i.labelLeft,ut(i.pos,o[3])),o=$t(i.labelRight,ct(i.pos+i.len,r-o[1])),a=this.label,l=this.rotation,h={left:0,center:.5,right:1}[i.labelAlign],c=a.getBBox().width,u=i.getSlotWidth(),d=u,p=1,f={};l?l<0&&n-h*c<s?e=at(n/pt(l*gt)-s):l>0&&n+h*c>o&&(e=at((r-n)/pt(l*gt))):(r=n+(1-h)*c,n-h*c<s?d=t.x+d*(1-h)-s:r>o&&(d=o-t.x+d*h,p=-1),d=ut(u,d),d<u&&"center"===i.labelAlign&&(t.x+=p*(u-d-h*(u-ut(c,d)))),(c>d||i.autoRotation&&a.styles.width)&&(e=d)),e&&(f.width=e,i.options.labels.style.textOverflow||(f.textOverflow="ellipsis"),a.css(f))},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,i,n,r,o,s,a){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,p=l.tickRotCorr||{x:0,y:0},f=r.y;return h(f)||(f=0===l.side?i.rotation?-8:-i.getBBox().height:2===l.side?p.y+8:pt(i.rotation*gt)*(p.y-i.getBBox(!1,0).height/2)),t=t+r.x+p.x-(o&&n?o*c*(u?-1:1):0),e=e+f-(o&&!n?o*c*(u?1:-1):0),d&&(i=s/(a||1)%d,l.opposite&&(i=d-i-1),e+=i*(l.labelOffset/d)),{x:t,y:at(e)}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e,i){var n=this.axis,r=n.options,o=n.chart.renderer,s=n.horiz,a=this.type,l=this.label,h=this.pos,c=r.labels,u=this.gridLine,d=a?a+"Grid":"grid",p=a?a+"Tick":"tick",f=r[d+"LineWidth"],m=r[d+"LineColor"],g=r[d+"LineDashStyle"],d=n.tickSize(p),p=r[p+"Color"],y=this.mark,v=c.step,b=!0,x=n.tickmarkOffset,w=this.getPosition(s,h,x,e),k=w.x,w=w.y,M=s&&k===n.pos+n.len||!s&&w===n.pos?-1:1,i=$t(i,1);this.isActive=!0,f&&(h=n.getPlotLinePath(h+x,f*M,e,!0),u===D&&(u={stroke:m,"stroke-width":f},g&&(u.dashstyle=g),a||(u.zIndex=1),e&&(u.opacity=0),this.gridLine=u=f?o.path(h).attr(u).add(n.gridGroup):null),!e&&u&&h&&u[this.isNew?"attr":"animate"]({d:h,opacity:i})),d&&(n.opposite&&(d[0]=-d[0]),a=this.getMarkPath(k,w,d[0],d[1]*M,s,o),y?y.animate({d:a,opacity:i}):this.mark=o.path(a).attr({stroke:p,"stroke-width":d[1],opacity:i}).add(n.axisGroup)),l&&Zt(k)&&(l.xy=w=this.getLabelPosition(k,w,l,s,c,x,t,v),this.isFirst&&!this.isLast&&!$t(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!$t(r.showLastLabel,1)?b=!1:s&&!n.isRadial&&!c.step&&!c.rotation&&!e&&0!==i&&this.handleOverflow(w),v&&t%v&&(b=!1),b&&Zt(w.y)?(w.opacity=i,l[this.isNew?"attr":"animate"](w),this.isNew=!1):l.attr("y",-9999))},destroy:function(){_(this,this.axis)}},rt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},rt.PlotLineOrBand.prototype={render:function(){var t,e=this,i=e.axis,r=i.horiz,o=e.options,s=o.label,a=e.label,l=o.width,c=o.to,u=o.from,d=h(u)&&h(c),p=o.value,f=o.dashStyle,m=e.svgElem,g=[],y=o.color,v=$t(o.zIndex,0),b=o.events,x={},w=i.chart.renderer,g=i.log2lin;if(i.isLog&&(u=g(u),c=g(c),p=g(p)),l)g=i.getPlotLinePath(p,l),x={stroke:y,"stroke-width":l},f&&(x.dashstyle=f);else{if(!d)return;g=i.getPlotBandPath(u,c,o),y&&(x.fill=y),o.borderWidth&&(x.stroke=o.borderColor,x["stroke-width"]=o.borderWidth)}if(x.zIndex=v,m)g?(m.show(),m.animate({d:g})):(m.hide(),a&&(e.label=a=a.destroy()));else if(g&&g.length&&(e.svgElem=m=w.path(g).attr(x).add(),b))for(t in o=function(t){m.on(t,function(i){b[t].apply(e,[i])})},b)o(t);return s&&h(s.text)&&g&&g.length&&i.width>0&&i.height>0&&!g.flat?(s=n({align:r&&d&&"center",x:r?!d&&4:10,verticalAlign:!r&&d&&"middle",y:r?d?16:10:d?6:-4,rotation:r&&!d&&90},s),this.renderLabel(s,g,d,v)):a&&a.hide(),e},renderLabel:function(t,e,i,n){var r=this.label,o=this.axis.chart.renderer;r||(r={align:t.textAlign||t.align,rotation:t.rotation},r.zIndex=n,this.label=r=o.text(t.text,0,0,t.useHTML).attr(r).css(t.style).add()),n=[e[1],e[4],i?e[6]:e[1]],e=[e[2],e[5],i?e[7]:e[2]],i=k(n),o=k(e),r.align(t,!1,{x:i,y:o,width:M(n)-i,height:M(e)-o}),r.show()},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,_(this)}};var oe=rt.Axis=function(){this.init.apply(this,arguments)};oe.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return rt.numberFormat(this.total,-1)},style:n(Jt.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var i=e.isX;this.chart=t,this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=this.options,r=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=n.reversed,this.visible=n.visible!==!1,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===r,this.names=this.names||[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=h(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=$t(n.crosshair,u(t.options.tooltip.crosshairs)[i?0:1],!1);var o,n=this.options.events;jt(this,t.axes)===-1&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===D&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in n)Ht(this,o,n[o]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(t){this.options=n(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],n(j[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,r=this.dateTimeLabelFormat,o=j.lang.numericSymbols,s=o&&o.length,a=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(a)t=v(a,this);else if(n)t=i;else if(r)t=B(r,i);else if(s&&e>=1e3)for(;s--&&t===D;)n=Math.pow(1e3,s+1),e>=n&&10*i%n===0&&null!==o[s]&&(t=rt.numberFormat(i/n,-1)+o[s]);return t===D&&(t=dt(i)>=1e4?rt.numberFormat(i,-1):rt.numberFormat(i,-1,D,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),Bt(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,r=i.options,o=r.threshold;t.hasVisibleSeries=!0,t.isLog&&o<=0&&(o=null),t.isXAxis?(r=i.xData,r.length&&(i=k(r),!Zt(i)&&!(i instanceof G)&&(r=Ft(r,function(t){return Zt(t)}),i=k(r)),t.dataMin=ut($t(t.dataMin,r[0]),i),t.dataMax=ct($t(t.dataMax,r[0]),M(r)))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,h(i)&&h(n)&&(t.dataMin=ut($t(t.dataMin,i),i),t.dataMax=ct($t(t.dataMax,n),n)),h(o)&&(t.threshold=o),r.softThreshold&&!t.isLog||(t.softThreshold=!1))}})},translate:function(t,e,i,n,r,o){var s=this.linkedParent||this,a=1,l=0,h=n?s.oldTransA:s.transA,n=n?s.oldMin:s.min,c=s.minPixelPadding,r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val;return h||(h=s.transA),i&&(a*=-1,l=s.len),s.reversed&&(a*=-1,l-=a*(s.sector||s.len)),e?(t=t*a+l,t-=c,t=t/h+n,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),"between"===o&&(o=.5),t=a*(t-n)*h+l+a*c+(Zt(o)?h*o*s.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var o,s,a,l=this.chart,h=this.left,c=this.top,u=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(n?t=ut(ct(e,t),i):a=!0),t},r=$t(r,this.translate(t,null,null,i)),t=i=at(r+o);return o=s=at(u-r-o),Zt(r)?this.horiz?(o=c,s=u-this.bottom,t=i=p(t,h,h+this.width)):(t=h,i=d-this.right,o=s=p(o,c,c+this.height)):a=!0,a&&!n?null:l.renderer.crispLine(["M",t,o,"L",i,s],e||1)},getLinearTickPositions:function(t,e,i){var n,r=S(lt(e/t)*t),o=S(ht(i/t)*t),s=[];if(e===i&&Zt(e))return[e];for(e=r;e<=o&&(s.push(e),e=S(e+t),e!==n);)n=e;return s},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,r=[],o=this.pointRangePadding||0;t=this.min-o;var o=this.max+o,s=o-t;if(s&&s/n<this.len/3)if(this.isLog)for(o=i.length,t=1;t<o;t++)r=r.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),t,o,e.startOfWeek));else for(i=t+(i[0]-t)%n;i<=o;i+=n)r.push(i);return 0!==r.length&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var t,e,i,n,r,o,s,a=this.options,l=this.min,c=this.max,u=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===D&&!this.isLog&&(h(a.min)||h(a.max)?this.minRange=null:(Bt(this.series,function(t){for(r=t.xData,i=o=t.xIncrement?1:r.length-1;i>0;i--)n=r[i]-r[i-1],(e===D||n<e)&&(e=n)}),this.minRange=ut(5*e,this.dataMax-this.dataMin))),c-l<this.minRange&&(s=this.minRange,t=(s-c+l)/2,t=[l-t,$t(a.min,l-t)],u&&(t[2]=this.dataMin),l=M(t),c=[l+s,$t(a.max,l+s)],u&&(c[2]=this.dataMax),c=k(c),c-l<s&&(t[0]=c-s,t[1]=$t(a.min,c-s),l=M(t))),this.min=l,this.max=c},getClosest:function(){var t;return Bt(this.series,function(e){var i=e.closestPointRange;!e.noSharedTooltip&&h(i)&&(t=h(t)?ut(t,i):i)}),t},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,r=i.axisPointRange||0,s=0,a=0,l=i.linkedParent,h=!!i.categories,c=i.transA,u=i.isXAxis;(u||h||r)&&(l?(s=l.minPointOffset,a=l.pointRangePadding):(e=i.getClosest(),Bt(i.series,function(t){var n=h?1:u?$t(t.options.pointRange,e,0):i.axisPointRange||0,t=t.options.pointPlacement;r=ct(r,n),i.single||(s=ct(s,o(t)?0:n/2),a=ct(a,"on"===t?0:n))})),l=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=s*=l,i.pointRangePadding=a*=l,i.pointRange=ut(r,n),u&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.len/(n+a||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var i,n,r,o,s=this,a=s.chart,l=s.options,c=s.isLog,u=s.log2lin,d=s.isDatetimeAxis,p=s.isXAxis,f=s.isLinked,m=l.maxPadding,g=l.minPadding,y=l.tickInterval,v=l.tickPixelInterval,w=s.categories,k=s.threshold,M=s.softThreshold;!d&&!w&&!f&&this.getTickAmount(),r=$t(s.userMin,l.min),o=$t(s.userMax,l.max),f?(s.linkedParent=a[s.coll][l.linkedTo],a=s.linkedParent.getExtremes(),s.min=$t(a.min,a.dataMin),s.max=$t(a.max,a.dataMax),l.type!==s.linkedParent.options.type&&e(11,1)):(!M&&h(k)&&(s.dataMin>=k?(i=k,g=0):s.dataMax<=k&&(n=k,m=0)),s.min=$t(r,i,s.dataMin),s.max=$t(o,n,s.dataMax)),c&&(!t&&ut(s.min,$t(s.dataMin,s.min))<=0&&e(10,1),s.min=S(u(s.min),15),s.max=S(u(s.max),15)),s.range&&h(s.max)&&(s.userMin=s.min=r=ct(s.min,s.minFromRange()),s.userMax=o=s.max,s.range=null),Yt(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),w||s.axisPointRange||s.usePercentage||f||!h(s.min)||!h(s.max)||!(u=s.max-s.min)||(!h(r)&&g&&(s.min-=u*g),!h(o)&&m&&(s.max+=u*m)),Zt(l.floor)&&(s.min=ct(s.min,l.floor)),Zt(l.ceiling)&&(s.max=ut(s.max,l.ceiling)),M&&h(s.dataMin)&&(k=k||0,!h(r)&&s.min<k&&s.dataMin>=k?s.min=k:!h(o)&&s.max>k&&s.dataMax<=k&&(s.max=k)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:f&&!y&&v===s.linkedParent.options.tickPixelInterval?y=s.linkedParent.tickInterval:$t(y,this.tickAmount?(s.max-s.min)/ct(this.tickAmount-1,1):void 0,w?1:(s.max-s.min)*v/ct(s.len,v)),p&&!t&&Bt(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!y&&(s.tickInterval=ct(s.pointRange,s.tickInterval)),t=$t(l.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!y&&s.tickInterval<t&&(s.tickInterval=t),d||c||y||(s.tickInterval=x(s.tickInterval,null,b(s.tickInterval),$t(l.allowDecimals,!(s.tickInterval>.5&&s.tickInterval<5&&s.max>1e3&&s.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,r=i.tickPositioner,o=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&h(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!n&&!r&&this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&h(n)&&t.push((r+n)/2)},alignToOthers:function(){var t,e={},i=this.options;return this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&Bt(this.chart[this.coll],function(i){var n=i.options,n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!h(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=ht(this.len/i)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,r=e&&e.length;if(r<i){for(;e.length<i;)e.push(S(e[e.length-1]+t));this.transA*=(r-1)/(i-1),this.max=e[e.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(h(n)){for(t=i=e.length;t--;)(3===n&&t%2===1||n<=2&&t>0&&t<i-1)&&e.splice(t,1);this.finalTickAmt=D}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,Bt(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,n,r){var o=this,s=o.chart,i=$t(i,!0);Bt(o.series,function(t){delete t.kdTree}),r=Kt(r,{min:t,max:e}),Yt(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,i&&s.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,r=this.options,o=ut(i,$t(r.min,i)),r=ct(n,$t(r.max,n));return this.allowZoomOutside||(h(i)&&t<=o&&(t=o),h(n)&&e>=r&&(e=r)),this.displayBtn=t!==D||e!==D,this.setExtremes(t,e,!1,D,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=this.horiz,r=$t(e.width,t.plotWidth-i+(e.offsetRight||0)),o=$t(e.height,t.plotHeight),s=$t(e.top,t.plotTop),e=$t(e.left,t.plotLeft+i),i=/%$/;i.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight)),i.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=s,this.width=r,this.height=o,this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-r-e,this.len=ct(n?r:o,0),this.pos=n?e:s},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?S(e(this.min)):this.min,max:t?S(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,n=e?i(this.min):this.min,e=e?i(this.max):this.max;return null===t?t=e<0?e:n:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=($t(t,0)-90*this.side+720)%360,t>15&&t<165?"right":t>195&&t<345?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=$t(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,i,n=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=n.rotation,c=this.labelMetrics(),u=Number.MAX_VALUE,d=function(t){return t/=a||1,t=t>1?ht(t):1,t*o};return r?(i=!n.staggerLines&&!n.step&&(h(l)?[l]:a<$t(n.autoRotationLimit,80)&&n.autoRotation))&&Bt(i,function(i){var n;(i===l||i&&i>=-90&&i<=90)&&(e=d(dt(c.h/ft(gt*i))),n=e+dt(i/360),n<u&&(u=n,t=i,s=e))}):n.step||(s=d(c.h)),this.autoRotation=i,this.labelRotation=$t(t,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(i.step||0)<2&&!i.rotation&&(this.staggerLines||1)*t.plotWidth/n||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,r=this.chart,s=r.renderer,a=this.tickPositions,l=this.ticks,h=this.options.labels,c=this.horiz,u=this.getSlotWidth(),d=ct(1,at(u-2*(h.padding||5))),p={},f=this.labelMetrics(),m=h.style.textOverflow,g=0;if(o(h.rotation)||(p.rotation=h.rotation||0),this.autoRotation)Bt(a,function(t){(t=l[t])&&t.labelLength>g&&(g=t.labelLength)}),g>d&&g>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t={width:d+"px"},!m))for(t.textOverflow="clip",e=a.length;!c&&e--;)i=a[e],(d=l[i].label)&&("ellipsis"===d.styles.textOverflow?d.css({textOverflow:"clip"}):l[i].labelLength>u&&d.css({width:u+"px"}),d.getBBox().height>this.len/a.length-(f.h-f.f)&&(d.specCss={textOverflow:"ellipsis"}));p.rotation&&(t={width:(g>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+"px"
},!m)&&(t.textOverflow="ellipsis"),(this.labelAlign=h.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),Bt(a,function(e){var i=(e=l[e])&&e.label;i&&(i.attr(p),t&&i.css(n(t,i.specCss)),delete i.specCss,e.rotation=p.rotation)}),this.tickRotCorr=s.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,r=this,o=r.chart,s=o.renderer,a=r.options,l=r.tickPositions,c=r.ticks,u=r.horiz,d=r.side,p=o.inverted?[1,0,3,2][d]:d,f=0,m=0,g=a.title,y=a.labels,v=0,b=r.opposite,x=o.axisOffset,o=o.clipOffset,w=[-1,1,1,-1][d],k=r.axisParent,M=this.tickSize("tick");if(t=r.hasData(),r.showAxis=e=t||$t(a.showEmpty,!0),r.staggerLines=r.horiz&&y.staggerLines,r.axisGroup||(r.gridGroup=s.g("grid").attr({zIndex:a.gridZIndex||1}).add(k),r.axisGroup=s.g("axis").attr({zIndex:a.zIndex||2}).add(k),r.labelGroup=s.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add(k)),t||r.isLinked)Bt(l,function(t){c[t]?c[t].addLabel():c[t]=new L(r,t)}),r.renderUnsquish(),y.reserveSpace!==!1&&(0===d||2===d||{1:"left",3:"right"}[d]===r.labelAlign||"center"===r.labelAlign)&&Bt(l,function(t){v=ct(c[t].getLabelSize(),v)}),r.staggerLines&&(v*=r.staggerLines,r.labelOffset=v*(r.opposite?-1:1));else for(n in c)c[n].destroy(),delete c[n];g&&g.text&&g.enabled!==!1&&(r.axisTitle||((n=g.textAlign)||(n=(u?{low:"left",middle:"center",high:"right"}:{low:b?"right":"left",middle:"center",high:b?"left":"right"})[g.align]),r.axisTitle=s.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:n}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(g.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(f=r.axisTitle.getBBox()[u?"height":"width"],i=g.offset,m=h(i)?0:$t(g.margin,u?5:10)),r.axisTitle[e?"show":"hide"](!0)),r.offset=w*$t(a.offset,x[d]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},s=0===d?-r.labelMetrics().h:2===d?r.tickRotCorr.y:0,m=Math.abs(v)+m,v&&(m-=s,m+=w*(u?$t(y.y,r.tickRotCorr.y+8*w):y.x)),r.axisTitleMargin=$t(i,m),x[d]=ct(x[d],r.axisTitleMargin+f+w*r.offset,m,t&&l.length&&M?M[0]:0),a=a.offset?0:2*lt(a.lineWidth/2),o[p]=ct(o[p],a)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?n:this.top,"L",r?e.chartWidth-this.right:o,r?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,o=this.options.title,s=t?e:i,a=this.opposite,l=this.offset,h=o.x||0,c=o.y||0,u=r(o.style.fontSize||12),n={low:s+(t?0:n),middle:s+n/2,high:s+(t?n:0)}[o.align],e=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:t?n+h:e+(a?this.width:0)+l+h,y:t?e+c-(a?this.height:0)+l:n+c}},render:function(){var t,e,i,n=this,r=n.chart,o=r.renderer,s=n.options,a=n.isLog,l=n.lin2log,h=n.isLinked,c=n.tickPositions,u=n.axisTitle,p=n.ticks,f=n.minorTicks,m=n.alternateBands,g=s.stackLabels,y=s.alternateGridColor,v=n.tickmarkOffset,b=s.lineWidth,x=r.hasRendered&&Zt(n.oldMin),w=n.showAxis,k=C(o.globalAnimation);n.labelEdge.length=0,n.overlap=!1,Bt([p,f,m],function(t){for(var e in t)t[e].isActive=!1}),(n.hasData()||h)&&(n.minorTickInterval&&!n.categories&&Bt(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new L(n,t,"minor")),x&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),c.length&&(Bt(c,function(t,e){(!h||t>=n.min&&t<=n.max)&&(p[t]||(p[t]=new L(n,t)),x&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e))}),v&&(0===n.min||n.single))&&(p[-1]||(p[-1]=new L(n,(-1),null,(!0))),p[-1].render(-1)),y&&Bt(c,function(t,o){i=c[o+1]!==D?c[o+1]+v:n.max-v,o%2===0&&t<n.max&&i<=n.max+(r.polar?-v:v)&&(m[t]||(m[t]=new rt.PlotLineOrBand(n)),e=t+v,m[t].options={from:a?l(e):e,to:a?l(i):i,color:y},m[t].render(),m[t].isActive=!0)}),n._addedPlotLB||(Bt((s.plotLines||[]).concat(s.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),Bt([p,f,m],function(t){var e,i,n=[],o=k.duration;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));d(function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])},t!==m&&r.hasRendered&&o?o:0)}),b&&(t=n.getLinePath(b),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=o.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(n.axisGroup),n.axisLine[w?"show":"hide"](!0)),u&&w&&(u[u.isNew?"attr":"animate"](n.getTitlePosition()),u.isNew=!1),g&&g.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),Bt(this.plotLinesAndBands,function(t){t.render()})),Bt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i=this,n=i.stacks,r=i.plotLinesAndBands;t||Xt(i);for(e in n)_(n[e]),n[e]=null;for(Bt([i.ticks,i.minorTicks,i.alternateBands],function(t){_(t)}),t=r.length;t--;)r[t].destroy();Bt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n,r,o=this.crosshair;this.crosshair&&(h(e)||!$t(o.snap,!0))!==!1?($t(o.snap,!0)?h(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:$t(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():(n=this.categories&&!this.isRadial,r=$t(o.width,n?this.transA:1),this.cross?this.cross.attr({d:i,visibility:"visible","stroke-width":r}):(n={"pointer-events":"none","stroke-width":r,stroke:o.color||(n?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:$t(o.zIndex,2)},o.dashStyle&&(n.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(i).attr(n).add()))):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},Kt(oe.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i?(n.flat=n.toString()===i.toString(),n.push(i[4],i[5],i[1],i[2])):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new rt.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();Bt([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&l(e,e[r])})}}),oe.prototype.getTimeTicks=function(t,e,i,n){var r,o=[],s={},a=j.global.useUTC,l=new G(e-y(e)),c=t.unitRange,u=t.count;if(h(e)){l[$](c>=F.second?0:u*lt(l.getMilliseconds()/u)),c>=F.second&&l[Q](c>=F.minute?0:u*lt(l.getSeconds()/u)),c>=F.minute&&l[J](c>=F.hour?0:u*lt(l[Y]()/u)),c>=F.hour&&l[tt](c>=F.day?0:u*lt(l[U]()/u)),c>=F.day&&l[et](c>=F.month?1:u*lt(l[V]()/u)),c>=F.month&&(l[it](c>=F.year?0:u*lt(l[K]()/u)),r=l[Z]()),c>=F.year&&(r-=r%u,l[nt](r)),c===F.week&&l[et](l[V]()-l[q]()+$t(n,1)),e=1,(H||X)&&(l=l.getTime(),l=new G(l+y(l))),r=l[Z]();for(var n=l.getTime(),d=l[K](),p=l[V](),f=!a||!!X,m=(F.day+(a?y(l):6e4*l.getTimezoneOffset()))%F.day;n<i;)o.push(n),c===F.year?n=W(r+e*u,0):c===F.month?n=W(r,d+e*u):!f||c!==F.day&&c!==F.week?n+=c*u:n=W(r,d,p+e*u*(c===F.day?1:7)),e++;o.push(n),Bt(Ft(o,function(t){return c<=F.hour&&t%F.day===m}),function(t){s[t]="day"})}return o.info=Kt(t,{higherRanks:s,totalRange:c*u}),o},oe.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],o=F[r[0]],s=r[1];for(i=0;i<n.length&&(r=n[i],o=F[r[0]],s=r[1],!(n[i+1]&&t<=(o*s[s.length-1]+F[n[i+1][0]])/2));i++);return o===F.year&&t<5*o&&(s=[1,2,5]),n=x(t/o,s,"year"===r[0]?ct(b(t/o),1):1),{unitRange:o,count:n,unitName:r[0]}},oe.prototype.getLogTickPositions=function(t,e,i,n){var r=this.options,o=this.len,s=this.lin2log,a=this.log2lin,l=[];if(n||(this._minorAutoInterval=null),t>=.5)t=at(t),l=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var h,c,u,d,p,o=lt(e),r=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<i+1&&!p;o++)for(c=r.length,h=0;h<c&&!p;h++)u=a(s(o)*r[h]),u>e&&(!n||d<=i)&&d!==D&&l.push(d),d>i&&(p=!0),d=u;else e=s(e),i=s(i),t=r[n?"minorTickInterval":"tickInterval"],t=$t("auto"===t?null:t,this._minorAutoInterval,(i-e)*(r.tickPixelInterval/(n?5:1))/((n?o/this.tickPositions.length:o)||1)),t=x(t,null,b(t)),l=Wt(this.getLinearTickPositions(t,e,i),a),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),l},oe.prototype.log2lin=function(t){return st.log(t)/st.LN10},oe.prototype.lin2log=function(t){return st.pow(10,t)};var se=rt.Tooltip=function(){this.init.apply(this,arguments)};se.prototype={init:function(t,e){var i=e.borderWidth,n=e.style,o=r(n.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(n).css({padding:0}).add().attr({y:-9999}),Tt||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var r=this,o=r.now,s=r.options.animation!==!1&&!r.isHidden&&(dt(t-o.x)>1||dt(e-o.y)>1),a=r.followPointer||r.len>1;Kt(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:a?D:s?(2*o.anchorX+i)/3:i,anchorY:a?D:s?(o.anchorY+n)/2:n}),r.label.attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,i,n)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=$t(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){e.label[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,n,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,h=0,c=0,t=u(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===D&&(e=o.pointer.normalize(e)),i=[e.chartX-o.plotLeft,e.chartY-a]),i||(Bt(t,function(t){n=t.series.yAxis,r=t.series.xAxis,h+=t.plotX+(!s&&r?r.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-a:0)}),h/=t.length,c/=t.length,i=[s?o.plotWidth-c:h,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?o.plotHeight-h:c]),Wt(i,at)},getPosition:function(t,e,i){var n,r=this.chart,o=this.distance,s={},a=i.h||0,l=["y",r.chartHeight,e,i.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],h=["x",r.chartWidth,t,i.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],c=!this.followPointer&&$t(i.ttBelow,!r.inverted==!!i.negative),u=function(t,e,i,n,r,l){var h=i<n-o,u=n+o+i<e,d=n-o-i;if(n+=o,c&&u)s[t]=n;else if(!c&&h)s[t]=d;else if(h)s[t]=ut(l-i,d-a<0?d:d-a);else{if(!u)return!1;s[t]=ct(r,n+a+i>e?n:n+a)}},d=function(t,e,i,n){var r;return n<o||n>e-o?r=!1:s[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,r},p=function(t){var e=l;l=h,h=e,n=t},f=function(){u.apply(0,l)!==!1?d.apply(0,h)===!1&&!n&&(p(!0),f()):n?s.x=s.y=0:(p(!0),f())};return(r.inverted||this.len>1)&&p(),f(),s},defaultFormatter:function(t){var e,i=this.points||u(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,r,o,s=this.chart,a=this.label,l=this.options,h={},c=[];o=l.formatter||this.defaultFormatter;var d,h=s.hoverPoints,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,r=this.getAnchor(t,e),i=r[0],n=r[1],!p||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(s.hoverPoints=t,h&&Bt(h,function(t){t.setState()}),Bt(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),h={x:t[0].category,y:t[0].y},h.points=c,this.len=c.length,t=t[0]),o=o.call(h,this),h=t.series,this.distance=$t(h.tooltipOptions.distance,16),o===!1?this.hide():(this.isHidden&&(qt(a),a.attr("opacity",1).show()),a.attr({text:o}),d=l.borderColor||t.color||h.color||"#606060",a.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:r[2]||0}),this.isHidden=!1),Yt(s,"tooltipRefresh",{text:o,x:i+s.plotLeft,y:n+s.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(at(i.x),at(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){var n,r,o,e=e.dateTimeLabelFormats,s=i&&i.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(s){o=B("%m-%d %H:%M:%S.%L",t.x);for(r in F){if(s===F.week&&+B("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(F[r]>s){r=l;break}if(a[r]&&o.substr(a[r])!=="01-01 00:00:00.000".substr(a[r]))break;"week"!==r&&(l=r)}r&&(n=e[r])}else n=e.day;return n||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,r=n.tooltipOptions,o=r.xDateFormat,s=n.xAxis,a=s&&"datetime"===s.options.type&&Zt(t.key),i=r[i+"Format"];return a&&!o&&(o=this.getXDateFormat(t,r,s)),a&&o&&(i=i.replace("{point.key}","{point.key:"+o+"}")),v(i,{point:t,series:n})},bodyFormatter:function(t){return Wt(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var ae;N=ot&&ot.documentElement.ontouchstart!==D;var le=rt.Pointer=function(t,e){this.init(t,e)};if(le.prototype={init:function(t,e){var i,n=e.chart,r=n.events,o=Tt?"":n.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=i&&!n||o&&n,this.zoomVert=o&&!n||i&&n,this.hasZoom=i||o,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},rt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new se(t,e.tooltip),this.followTouchMove=$t(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,i){var n,r,e=e||t.event;return e.target||(e.target=e.srcElement),r=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,i||(this.chartPosition=i=Gt(this.chart.container)),r.pageX===D?(n=ct(e.x,e.clientX-i.left),r=e.y):(n=r.pageX-i.left,r=r.pageY-i.top),Kt(e,{chartX:at(n),chartY:at(r)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Bt(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,n,r,o=this.chart,s=o.series,a=o.tooltip,l=!!a&&a.shared,h=o.hoverPoint,c=o.hoverSeries,u=[Number.MAX_VALUE,Number.MAX_VALUE],d=[],p=[];if(!l&&!c)for(e=0;e<s.length;e++)!s[e].directTouch&&s[e].options.stickyTracking||(s=[]);if(c&&(l?c.noSharedTooltip:c.directTouch)&&h?p=[h]:(Bt(s,function(e){i=e.noSharedTooltip&&l,n=!l&&e.directTouch,e.visible&&!i&&!n&&$t(e.options.enableMouseTracking,!0)&&(r=e.searchPoint(t,!i&&1===e.kdDimensions))&&d.push(r)}),Bt(d,function(t){t&&Bt(["dist","distX"],function(e,i){if(Zt(t[e])){var n=t[e]===u[i]&&t.series.group.zIndex>=p[i].series.group.zIndex;(t[e]<u[i]||n)&&(u[i]=t[e],p[i]=t)}})})),l)for(e=d.length;e--;)(d[e].clientX!==p[1].clientX||d[e].series.noSharedTooltip)&&d.splice(e,1);p[0]&&(p[0]!==this.prevKDPoint||a&&a.isHidden)?l&&!p[0].series.noSharedTooltip?(d.length&&a&&a.refresh(d,t),Bt(d,function(e){e.onMouseOver(t,e!==(c&&c.directTouch&&h||p[0]))}),this.prevKDPoint=p[1]):(a&&a.refresh(p[0],t),c&&c.directTouch||p[0].onMouseOver(t),this.prevKDPoint=p[0]):(s=c&&c.tooltipOptions.followPointer,a&&s&&!a.isHidden&&(s=a.getAnchor([{}],t),a.updatePosition({plotX:s[0],plotY:s[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(t){Ot[ae]&&Ot[ae].pointer.onDocumentMouseMove(t)},Ht(ot,"mousemove",this._onDocumentMouseMove)),Bt(l?d:[$t(h,p[1])],function(e){Bt(o.axes,function(i){(!e||e.series[i.coll]===i)&&i.drawCrosshair(t,e)})})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.hoverPoints,s=i.tooltip,a=s&&s.shared?o:r;t&&a&&Bt(u(a),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&a&&(s.refresh(a),r&&(r.setState(r.state,!0),Bt(i.axes,function(t){$t(t.crosshair&&t.crosshair.snap,!0)?t.drawCrosshair(null,r):t.hideCrosshair()}))):(r&&r.onMouseOut(),o&&Bt(o,function(t){t.setState()}),n&&n.onMouseOut(),s&&s.hide(e),this._onDocumentMouseMove&&(Xt(ot,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Bt(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;Bt(n.series,function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,r=t.chartX,o=t.chartY,s=this.zoomHor,a=this.zoomVert,l=i.plotLeft,h=i.plotTop,c=i.plotWidth,u=i.plotHeight,d=this.selectionMarker,p=this.mouseDownX,f=this.mouseDownY,m=n.panKey&&t[n.panKey+"Key"];d&&d.touch||(r<l?r=l:r>l+c&&(r=l+c),o<h?o=h:o>h+u&&(o=h+u),this.hasDragged=Math.sqrt(Math.pow(p-r,2)+Math.pow(f-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(p-l,f-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!d&&(this.selectionMarker=d=i.renderer.rect(l,h,s?1:c,a?1:u,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),d&&s&&(r-=p,d.attr({width:dt(r),x:(r>0?0:r)+p})),d&&a&&(r=o-f,d.attr({height:dt(r),y:(r>0?0:r)+f})),e&&!d&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:t,xAxis:[],yAxis:[]},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,c=s.attr?s.attr("width"):s.width,u=s.attr?s.attr("height"):s.height;(this.hasDragged||n)&&(Bt(i.axes,function(i){if(i.zoomEnabled&&h(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var s=i.horiz,d="touchend"===t.type?i.minPixelPadding:0,p=i.toValue((s?a:l)+d),s=i.toValue((s?a+c:l+u)-d);o[i.coll].push({axis:i,min:ut(p,s),max:ct(p,s)}),r=!0}}),r&&Yt(i,"selection",o,function(t){i.zoom(Kt(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(p(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Ot[ae]&&Ot[ae].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,t=this.normalize(t,i);i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(t){var e=Ot[ae];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;h(ae)&&Ot[ae]&&Ot[ae].mouseIsDown||(ae=e.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=c(t,"class")){if(i.indexOf(e)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,t=t.relatedTarget||t.toElement;!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop,t=this.normalize(t);e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Yt(i.series,"click",Kt(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(Kt(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-r)&&Yt(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},Ht(e,"mouseleave",t.onContainerMouseLeave),1===Lt&&Ht(ot,"mouseup",t.onDocumentMouseUp),N&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Lt&&Ht(ot,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;Xt(this.chart.container,"mouseleave",this.onContainerMouseLeave),Lt||(Xt(ot,"mouseup",this.onDocumentMouseUp),Xt(ot,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},Kt(rt.Pointer.prototype,{pinchTranslate:function(t,e,i,n,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,r,o)},pinchTranslateDirection:function(t,e,i,n,r,o,s,a){var l,h,c,u=this.chart,d=t?"x":"y",p=t?"X":"Y",f="chart"+p,m=t?"width":"height",g=u["plot"+(t?"Left":"Top")],y=a||1,v=u.inverted,b=u.bounds[t?"h":"v"],x=1===e.length,w=e[0][f],k=i[0][f],M=!x&&e[1][f],_=!x&&i[1][f],i=function(){!x&&dt(w-M)>20&&(y=a||dt(k-_)/dt(w-M)),h=(g-k)/y+w,l=u["plot"+(t?"Width":"Height")]/y};i(),e=h,e<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(k-=.8*(k-s[d][0]),x||(_-=.8*(_-s[d][1])),i()):s[d]=[k,_],v||(o[d]=h-g,o[m]=l),o=v?1/y:y,r[m]=l,r[d]=e,n[v?t?"scaleY":"scaleX":"scale"+p]=y,n["translate"+p]=o*g+(k-o*w)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,r=t.touches,o=r.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,h={},c=1===o&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),u={};o>1&&(e.initiated=!0),a&&e.initiated&&!c&&t.preventDefault(),Wt(r,function(t){return e.normalize(t)}),"touchstart"===t.type?(Bt(r,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),s.x=[n[0].chartX,n[1]&&n[1].chartX],s.y=[n[0].chartY,n[1]&&n[1].chartY],Bt(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,r=t.toPixels($t(t.options.min,t.dataMin)),o=t.toPixels($t(t.options.max,t.dataMax)),s=ut(r,o),r=ct(r,o);e.min=ut(t.pos,s-n),e.max=ct(t.pos+t.len,r+n)}}),e.res=!0):n.length&&(l||(e.selectionMarker=l=Kt({destroy:Et,touch:!0},i.plotBox)),e.pinchTranslate(n,r,h,l,u,s),e.hasPinched=a,e.scaleGroups(h,u),!a&&e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i,n=this.chart;ae=n.index,1===t.touches.length?(t=this.normalize(t),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&!n.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(n=this.pinchDown,i=!!n[0]&&Math.sqrt(Math.pow(n[0].chartX-t.chartX,2)+Math.pow(n[0].chartY-t.chartY,2))>=4),$t(i,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Ot[ae]&&Ot[ae].pointer.drop(t)}}),t.PointerEvent||t.MSPointerEvent){var he={},ce=!!t.PointerEvent,ue=function(){var t,e=[];e.item=function(t){return this[t]};for(t in he)he.hasOwnProperty(t)&&e.push({pageX:he[t].pageX,pageY:he[t].pageY,target:he[t].target});return e},de=function(t,e,i,n){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Ot[ae]||(n(t),n=Ot[ae].pointer,n[e]({type:i,target:t.currentTarget,preventDefault:Et,touches:ue()}))};Kt(le.prototype,{onContainerPointerDown:function(t){de(t,"onContainerTouchStart","touchstart",function(t){he[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){de(t,"onContainerTouchMove","touchmove",function(t){he[t.pointerId]={pageX:t.pageX,pageY:t.pageY},he[t.pointerId].target||(he[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){de(t,"onDocumentTouchEnd","touchend",function(t){delete he[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,ce?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,ce?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(ot,ce?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Qt(le.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&p(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),Qt(le.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ht)}),Qt(le.prototype,"destroy",function(t){this.batchMSEvents(Xt),t.call(this)})}var pe=rt.Legend=function(t,e){this.init(t,e)};pe.prototype={init:function(t,e){var i=this,r=e.itemStyle,o=e.itemMarginTop||0;this.options=e,e.enabled&&(i.itemStyle=r,i.itemHiddenStyle=n(r,e.itemHiddenStyle),i.itemMarginTop=o,i.padding=r=$t(e.padding,8),i.initialItemX=r,i.initialItemY=r-5,i.maxItemWidth=0,i.chart=t,i.itemHeight=0,i.symbolWidth=$t(e.symbolWidth,16),i.pages=[],i.render(),Ht(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=this.itemHiddenStyle.color,n=e?n.itemStyle.color:a,l=e?t.legendColor||t.color||"#CCC":a,a=t.options&&t.options.marker,h={fill:l};if(r&&r.css({fill:n,color:n}),o&&o.attr({stroke:l}),s){if(a&&s.isMarker)for(i in h.stroke=l,a=t.convertAttribs(a))r=a[i],r!==D&&(h[i]=r);s.attr(h)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,r=n[0],n=n[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?r:this.legendWidth-r-2*i-4,n),o&&(o.x=r,o.y=n)},destroyItem:function(t){var e=t.checkbox;Bt(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&P(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight,r=this.titleHeight;i&&(e=i.translateY,Bt(this.allItems,function(o){var s,a=o.checkbox;a&&(s=e+r+a.y+(t||0)+3,p(a,{left:i.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:s>e-6&&s<e+n-6?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?v(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,i=e.renderer,r=this.options,o="horizontal"===r.layout,s=this.symbolWidth,a=r.symbolPadding,l=this.itemStyle,h=this.itemHiddenStyle,c=this.padding,u=o?$t(r.itemDistance,20):0,d=!r.rtl,p=r.width,f=r.itemMarginBottom||0,m=this.itemMarginTop,g=this.initialItemX,y=t.legendItem,v=t.series&&t.series.drawLegendSymbol?t.series:t,b=v.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,x=r.useHTML;y||(t.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=y=i.text("",d?s+a:-a,this.baseline||0,x).css(n(t.visible?l:h)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(l.fontSize,y),this.baseline=this.fontMetrics.f+3+m,y.attr("y",this.baseline)),v.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,y,x,l,h),b&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),i=y.getBBox(),s=t.checkboxOffset=r.itemWidth||t.legendItemWidth||s+a+i.width+u+(b?20:0),this.itemHeight=a=at(t.legendItemHeight||i.height),o&&this.itemX-g+s>(p||e.chartWidth-2*c-g-r.x)&&(this.itemX=g,this.itemY+=m+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=ct(this.maxItemWidth,s),this.lastItemY=m+this.itemY+f,this.lastLineHeight=ct(a,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=s:(this.itemY+=m+a+f,this.lastLineHeight=a),this.offsetWidth=p||ct((o?this.itemX-g-u:s)+c,this.offsetWidth)},getAllItems:function(){var t=[];return Bt(this.chart.series,function(e){var i=e.options;$t(i.showInLegend,!h(i.linkedTo)&&D,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,r=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);this.display&&!n.floating&&Bt([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(r)&&!h(t[s])&&(i[Rt[s]]=ct(i[Rt[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*n[s%2?"x":"y"]+$t(n.margin,12)+e[s]))})},render:function(){var t,e,i,n,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,h=r.options,c=r.padding,u=h.borderWidth,d=h.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),w(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,Bt(t,function(t){r.renderItem(t)}),i=(h.width||r.offsetWidth)+c,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=c,(u||d)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(r.box=l=s.rect(0,0,i,n,h.borderRadius,u||0).attr({stroke:h.borderColor,"stroke-width":u||0,fill:d||"none"}).add(a).shadow(h.shadow),l.isNew=!0),l[e?"show":"hide"]()),r.legendWidth=i,r.legendHeight=n,Bt(t,function(t){r.positionItem(t)}),e&&a.align(Kt({width:i,height:n},h),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,a=r.spacingBox.height+("top"===s.verticalAlign?-a:a)-this.padding,l=s.maxHeight,h=this.clipRect,c=s.navigation,u=$t(c.animation,!0),d=c.arrowSize||12,p=this.nav,f=this.pages,m=this.padding,g=this.allItems,y=function(t){h.attr({height:t}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+m+"px,9999px,"+(m+t)+"px,0)")};return"horizontal"===s.layout&&(a/=2),l&&(a=ut(a,l)),f.length=0,t>a&&c.enabled!==!1?(this.clipHeight=e=ct(a-20-this.titleHeight-m,0),this.currentPage=$t(this.currentPage,1),this.fullHeight=t,Bt(g,function(t,n){var r=t._legendItemPos[1],o=at(t.legendItem.getBBox().height),s=f.length;(!s||r-f[s-1]>e&&(i||r)!==f[s-1])&&(f.push(i||r),s++),n===g.length-1&&r+o-f[s-1]>e&&f.push(r),r!==i&&(i=r)}),h||(h=n.clipRect=o.clipRect(0,m,9999,0),n.contentGroup.clip(h)),y(e),p||(this.nav=p=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,d,d).on("click",function(){n.scroll(-1,u)}).add(p),this.pager=o.text("",15,10).css(c.style).add(p),this.down=o.symbol("triangle-down",0,0,d,d).on("click",function(){n.scroll(1,u)}).add(p)),n.scroll(0),t=a):p&&(y(r.chartHeight),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,r=this.currentPage+t,o=this.clipHeight,s=this.options.navigation,a=s.activeColor,s=s.inactiveColor,l=this.pager,h=this.padding;r>n&&(r=n),r>0&&(e!==D&&T(e,this.chart),this.nav.attr({translateX:h,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?s:a}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?s:a}).css({cursor:r===n?"default":"pointer"}),i=-i[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,
this.positionCheckboxes(i))}},ie=rt.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker,r=t.symbolWidth,o=this.chart.renderer,s=this.legendGroup,t=t.baseline-at(.3*t.fontMetrics.b);i.lineWidth&&(e={"stroke-width":i.lineWidth},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",r,t]).attr(e).add(s)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=n=o.symbol(this.symbol,r/2-i,t-i,2*i,2*i,n).add(s),n.isMarker=!0)}},(/Trident\/7\.0/.test(yt)||kt)&&Qt(pe.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)});var fe=rt.Chart=function(){this.getArgs.apply(this,arguments)};rt.chart=function(t,e,i){return new fe(t,e,i)},fe.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(o(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var i,r=t.series;t.series=null,i=n(j,t),i.series=t.series=r,this.userOptions=t,r=i.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var s,a=this;if(a.index=Ot.length,Ot.push(a),Lt++,r.reflow!==!1&&Ht(a,"load",function(){a.initReflow()}),o)for(s in o)Ht(a,s,o[s]);a.xAxis=[],a.yAxis=[],a.animation=!Tt&&$t(r.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(t){var i=this.options.chart;return(i=Nt[t.type||i.type||i.defaultSeriesType])||e(17,!0),i=new i,i.init(this,t),i},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,i,n=this.axes,r=this.series,o=this.pointer,s=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,h=this.isDirtyBox,c=r.length,u=c,d=this.renderer,p=d.isHidden(),f=[];for(T(t,this),p&&this.cloneRenderTo(),this.layOutTitles();u--;)if(t=r[u],t.options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(u=c;u--;)t=r[u],t.options.stacking&&(t.isDirty=!0);Bt(r,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),a=!0),t.isDirtyData&&Yt(t,"updatedData")}),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Bt(n,function(t){t.setScale()})),this.getMargins(),l&&(Bt(n,function(t){t.isDirty&&(h=!0)}),Bt(n,function(t){var i=t.min+","+t.max;t.extKey!==i&&(t.extKey=i,f.push(function(){Yt(t,"afterSetExtremes",Kt(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||e)&&t.redraw()})),h&&this.drawChartBox(),Bt(r,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),o&&o.reset(!0),d.draw(),Yt(this,"redraw"),p&&this.cloneRenderTo(!0),Bt(f,function(t){t.call()})},get:function(t){var e,i,n=this.axes,r=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(i=r[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=u(e.xAxis||{}),e=e.yAxis=u(e.yAxis||{});Bt(i,function(t,e){t.index=e,t.isX=!0}),Bt(e,function(t,e){t.index=e}),i=i.concat(e),Bt(i,function(e){new oe(t,e)})},getSelectedPoints:function(){var t=[];return Bt(this.series,function(e){t=t.concat(Ft(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Ft(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var r,o,s=this,a=s.options;o=a.title=n(a.title,t),r=a.subtitle=n(a.subtitle,e),a=r,Bt([["title",t,o],["subtitle",e,a]],function(t){var e=t[0],i=s[e],n=t[1],t=t[2];i&&n&&(s[e]=i=i.destroy()),t&&t.text&&!i&&(s[e]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),s.layOutTitles(i)},layOutTitles:function(t){var e=0,i=this.title,n=this.subtitle,r=this.options,o=r.title,r=r.subtitle,s=this.renderer,a=this.spacingBox;!i||(i.css({width:(o.width||a.width+o.widthAdjust)+"px"}).align(Kt({y:s.fontMetrics(o.style.fontSize,i).b-3},o),!1,a),o.floating||o.verticalAlign)||(e=i.getBBox().height),n&&(n.css({width:(r.width||a.width+r.widthAdjust)+"px"}).align(Kt({y:e+(o.margin-13)+s.fontMetrics(r.style.fontSize,i).b},r),!1,a),!r.floating&&!r.verticalAlign&&(e=ht(e+n.getBBox().height))),i=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&$t(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;h(e)||(this.containerWidth=zt(i,"width")),h(t)||(this.containerHeight=zt(i,"height")),this.chartWidth=ct(0,e||this.containerWidth||600),this.chartHeight=ct(0,$t(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),P(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),p(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),ot.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,i,n,s=this.options,a=s.chart;t=this.renderTo;var l="highcharts-"+At++;t||(this.renderTo=t=a.renderTo),o(t)&&(this.renderTo=t=ot.getElementById(t)),t||e(13,!0),i=r(c(t,"data-highcharts-chart")),Zt(i)&&Ot[i]&&Ot[i].hasRendered&&Ot[i].destroy(),c(t,"data-highcharts-chart",this.index),t.innerHTML="",!a.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,this.container=t=f(It,{className:"highcharts-container"+(a.className?" "+a.className:""),id:l},Kt({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=new(rt[a.renderer]||R)(t,i,n,a.style,a.forExport,s.exporting&&s.exporting.allowHTML),Tt&&this.renderer.create(this,t,i,n),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!h(i[0])&&(this.plotTop=ct(this.plotTop,n+this.options.title.margin+e[0])),this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&Bt(t.axes,function(t){t.visible&&t.getOffset()}),Bt(Rt,function(n,r){h(i[r])||(t[n]+=e[r])}),t.setChartSize()},reflow:function(e){var i=this,n=i.options.chart,r=i.renderTo,o=n.width||zt(r,"width"),s=n.height||zt(r,"height"),n=e?e.target:t;i.hasUserSize||i.isPrinting||!o||!s||n!==t&&n!==ot||(o===i.containerWidth&&s===i.containerHeight||(clearTimeout(i.reflowTimeout),i.reflowTimeout=d(function(){i.container&&(i.setSize(o,s,!1),i.hasUserSize=null)},e?100:0)),i.containerWidth=o,i.containerHeight=s)},initReflow:function(){var e=this,i=function(t){e.reflow(t)};Ht(t,"resize",i),Ht(e,"destroy",function(){Xt(t,"resize",i)})},setSize:function(t,e,i){var n,r,o=this,s=o.renderer;o.isResizing+=1,T(i,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,h(t)&&(o.chartWidth=n=ct(0,at(t)),o.hasUserSize=!!n),h(e)&&(o.chartHeight=r=ct(0,at(e))),t=s.globalAnimation,(t?Ut:p)(o.container,{width:n+"px",height:r+"px"},t),o.setChartSize(!0),s.setSize(n,r,i),o.maxTicks=null,Bt(o.axes,function(t){t.isDirty=!0,t.setScale()}),Bt(o.series,function(t){t.isDirty=!0}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(i),o.oldChartHeight=null,Yt(o,"resize"),d(function(){o&&Yt(o,"endResize",null,function(){o.isResizing-=1})},C(t).duration)},setChartSize:function(t){var e,i,n,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,u=this.clipOffset;this.plotLeft=e=at(this.plotLeft),this.plotTop=i=at(this.plotTop),this.plotWidth=n=ct(0,at(a-e-this.marginRight)),this.plotHeight=r=ct(0,at(l-i-this.marginBottom)),this.plotSizeX=o?r:n,this.plotSizeY=o?n:r,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=s.plotBox={x:e,y:i,width:n,height:r},a=2*lt(this.plotBorderWidth/2),o=ht(ct(a,u[3])/2),s=ht(ct(a,u[0])/2),this.clipBox={x:o,y:s,width:lt(this.plotSizeX-ct(a,u[1])/2-o),height:ct(0,lt(this.plotSizeY-ct(a,u[2])/2-s))},t||Bt(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;Bt(Rt,function(e,i){t[e]=$t(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,r=this.chartHeight,o=this.chartBackground,s=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,u=e.plotBackgroundColor,d=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,y=this.plotHeight,v=this.plotBox,b=this.clipRect,x=this.clipBox;t=h+(e.shadow?8:0),(h||c)&&(o?o.animate(o.crisp({width:n-t,height:r-t})):(o={fill:c||"none"},h&&(o.stroke=e.borderColor,o["stroke-width"]=h),this.chartBackground=i.rect(t/2,t/2,n-t,r-t,e.borderRadius,h).attr(o).addClass("highcharts-background").add().shadow(e.shadow))),u&&(s?s.animate(v):this.plotBackground=i.rect(f,m,g,y,0).attr({fill:u}).add().shadow(e.plotShadow)),d&&(l?l.animate(v):this.plotBGImage=i.image(d,f,m,g,y).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=i.clipRect(x),p&&(a?(a.strokeWidth=-p,a.animate(a.crisp({x:f,y:m,width:g,height:y}))):this.plotBorder=i.rect(f,m,g,y,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;Bt(["inverted","angular","polar"],function(s){for(t=Nt[r.type||r.defaultSeriesType],i=n[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!i&&e--;)(t=Nt[o[e].type])&&t.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var t=this,e=t.series;Bt(e,function(t){t.linkedSeries.length=0}),Bt(e,function(e){var i=e.options.linkedTo;o(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=$t(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){Bt(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&Bt(e.items,function(i){var n=Kt(e.style,i.style),o=r(n.left)+t.plotLeft,s=r(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,o,s).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n,r=this.axes,o=this.renderer,s=this.options;this.setTitle(),this.legend=new pe(this,s.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=21,Bt(r,function(t){t.setScale()}),this.getAxisMargins(),i=t/this.plotWidth>1.1,n=e/this.plotHeight>1.05,(i||n)&&(this.maxTicks=null,Bt(r,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Bt(r,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(s.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(t.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,r=e.container,o=r&&r.parentNode;for(Yt(e,"destroy"),Ot[e.index]=D,Lt--,e.renderTo.removeAttribute("data-highcharts-chart"),Xt(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();Bt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),r&&(r.innerHTML="",Xt(r),o&&P(r));for(t in e)delete e[t]},isReadyToRender:function(){var e=this;return!(!Pt&&t==t.top&&"complete"!==ot.readyState||Tt&&!t.canvg)||(Tt?re.push(function(){e.firstRender()},e.options.global.canvasToolsURL):ot.attachEvent("onreadystatechange",function(){ot.detachEvent("onreadystatechange",e.firstRender),"complete"===ot.readyState&&e.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),Yt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Bt(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Yt(t,"beforeRender"),rt.Pointer&&(t.pointer=new le(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){var t=this;Bt([this.callback].concat(this.callbacks),function(e){e&&void 0!==t.index&&e.apply(t,[t])}),Yt(t,"load"),this.onload=null},splashArray:function(t,e){var i=e[t],i=s(i)?i:[i,i,i,i];return[$t(e[t+"Top"],i[0]),$t(e[t+"Right"],i[1]),$t(e[t+"Bottom"],i[2]),$t(e[t+"Left"],i[3])]}};var ne=rt.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,n=this.chart,r=2*(i.slicedOffset||0),o=n.plotWidth-2*r,n=n.plotHeight-2*r,s=i.center,s=[$t(s[0],"50%"),$t(s[1],"50%"),i.size||"100%",i.innerSize||0],a=ut(o,n);for(t=0;t<4;++t)e=s[t],i=t<2||2===t&&/%$/.test(e),s[t]=(/%$/.test(e)?[o,n,a,s[2]][t]*parseFloat(e)/100:parseFloat(e))+(i?r:0);return s[3]>s[2]&&(s[3]=s[2]),s}},me=function(){};me.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var i=this.series,n=i.options.pointValKey||i.pointValKey,t=me.prototype.optionsToObject.call(this,t);return Kt(this,t),this.options=this.options?Kt(this.options,t):t,n&&(this.y=this[n]),this.isNull=null===this.x||null===this.y,void 0===this.x&&i&&(this.x=void 0===e?i.autoIncrement():e),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,r=n||i.pointArrayMap||["y"],o=r.length,s=0,l=0;if(Zt(t)||null===t)e[r[0]]=t;else if(a(t))for(!n&&t.length>o&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),s++);l<o;)n&&void 0===t[s]||(e[r[l]]=t[s]),s++,l++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),l(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Xt(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=$t(i.valueDecimals,""),r=i.valuePrefix||"",o=i.valueSuffix||"";return Bt(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+n+"f}")}),v(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,r=this.series.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Yt(this,t,e,i)},visible:!0};var ge=rt.Series=function(){};ge.prototype={isCartesian:!0,type:"line",pointClass:me,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,r=this,o=t.series,s=function(t,e){return $t(t.options.index,t._i)-$t(e.options.index,e._i)};r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),Kt(r,{name:e.name,state:"",pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),Tt&&(e.animation=!1),n=e.events;for(i in n)Ht(r,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),Bt(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,w(o,s),this.yAxis&&w(this.yAxis.series,s),Bt(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,i=this,n=i.options,r=i.chart;Bt(i.axisTypes||[],function(o){Bt(r[o],function(e){t=e.options,(n[o]===t.index||n[o]!==D&&n[o]===t.id||n[o]===D&&0===t.index)&&(e.series.push(i),i[o]=e,e.isDirty=!0)}),!i[o]&&i.optionalAxis!==o&&e(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,r=Zt(e)?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};Bt(i.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,i=$t(i,e.pointStart,0);return this.pointInterval=t=$t(this.pointInterval,e.pointInterval,1),n&&(e=new G(i),"day"===n?e=+e[et](e[V]()+t):"month"===n?e=+e[it](e[K]()+t):"year"===n&&(e=+e[nt](e[Z]()+t)),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options.plotOptions,e=e.userOptions||{},r=e.plotOptions||{},o=i[this.type];return this.userOptions=t,i=n(o,i.series,t),this.tooltipOptions=n(j.tooltip,j.plotOptions[this.type].tooltip,e.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,t.tooltip),null===o.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,t=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||t.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),t.length&&h(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var n=this.userOptions,r="_"+t+"Index",o=t+"Counter";e||(h(n[r])?e=n[r]:(n[r]=e=this.chart[o]%i.length,this.chart[o]+=1),e=i[e]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||Jt[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:ie.drawLineMarker,setData:function(t,i,n,r){var s,l=this,c=l.points,u=c&&c.length||0,d=l.options,p=l.chart,f=null,m=l.xAxis,g=m&&!!m.categories,y=d.turboThreshold,v=this.xData,b=this.yData,x=(s=l.pointArrayMap)&&s.length,t=t||[];if(s=t.length,i=$t(i,!0),r!==!1&&s&&u===s&&!l.cropped&&!l.hasGroupedData&&l.visible)Bt(t,function(t,e){c[e].update&&t!==d.data[e]&&c[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,Bt(this.parallelArrays,function(t){l[t+"Data"].length=0}),y&&s>y){for(n=0;null===f&&n<s;)f=t[n],n++;if(Zt(f)){for(g=$t(d.pointStart,0),f=$t(d.pointInterval,1),n=0;n<s;n++)v[n]=g,b[n]=t[n],g+=f;l.xIncrement=g}else if(a(f))if(x)for(n=0;n<s;n++)f=t[n],v[n]=f[0],b[n]=f.slice(1,x+1);else for(n=0;n<s;n++)f=t[n],v[n]=f[0],b[n]=f[1];else e(12)}else for(n=0;n<s;n++)t[n]!==D&&(f={series:l},l.pointClass.prototype.applyOptions.apply(f,[t[n]]),l.updateParallelArrays(f,n),g&&h(f.name))&&(m.names[f.x]=f.name);for(o(b[0])&&e(14,!0),l.data=[],l.options.data=l.userOptions.data=t,n=u;n--;)c[n]&&c[n].destroy&&c[n].destroy();m&&(m.minRange=m.userMinRange),l.isDirty=l.isDirtyData=p.isDirtyBox=!0,n=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),i&&p.redraw(n)},processData:function(t){var i,n=this.xData,r=this.yData,o=n.length;i=0;var s,a,l,h=this.xAxis,c=this.options;l=c.cropThreshold;var u,d,p=this.getExtremesFromAll||c.getExtremesFromAll,f=this.isCartesian,c=h&&h.val2lin,m=h&&h.isLog;if(f&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(h&&(t=h.getExtremes(),u=t.min,d=t.max),f&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(n[o-1]<u||n[0]>d?(n=[],r=[]):(n[0]<u||n[o-1]>d)&&(i=this.cropData(this.xData,this.yData,u,d),n=i.xData,r=i.yData,i=i.start,s=!0)),l=n.length||1;--l;)o=m?c(n[l])-c(n[l-1]):n[l]-n[l-1],o>0&&(a===D||o<a)?a=o:o<0&&this.requireSorting&&e(15);this.cropped=s,this.cropStart=i,this.processedXData=n,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,i,n){var r,o=t.length,s=0,a=o,l=$t(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=i){s=ct(0,r-l);break}for(i=r;i<o;i++)if(t[i]>n){a=i+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,i,n,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,h=s.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=r.length,o=this.data=o),n=0;n<h;n++)e=c+n,d?(p[n]=(new l).init(this,[s[n]].concat(u(a[n]))),p[n].dataGroup=this.groupMap[n]):(o[e]?i=o[e]:r[e]!==D&&(o[e]=i=(new l).init(this,r[e],s[n])),p[n]=i),p[n].index=e;if(o&&(h!==(t=o.length)||d))for(n=0;n<t;n++)n===c&&!d&&(n+=h),o[n]&&(o[n].destroyElements(),o[n].plotX=D);this.data=o,this.points=p},getExtremes:function(t){var e,i=this.yAxis,n=this.processedXData,r=[],o=0;e=this.xAxis.getExtremes();var s,a,l,h,c=e.min,u=e.max,t=t||this.stackedYData||this.processedYData||[];for(e=t.length,h=0;h<e;h++)if(a=n[h],l=t[h],s=null!==l&&l!==D&&(!i.isLog||l.length||l>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[h+1]||a)>=c&&(n[h-1]||a)<=u,s&&a)if(s=l.length)for(;s--;)null!==l[s]&&(r[o++]=l[s]);else r[o++]=l;this.dataMin=k(r),this.dataMax=M(r)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,i,n,r,o=this.options,s=o.stacking,a=this.xAxis,l=a.categories,c=this.yAxis,u=this.points,d=u.length,p=!!this.modifyValue,f=o.pointPlacement,m="between"===f||Zt(f),g=o.threshold,y=o.startFromThreshold?g:0,v=Number.MAX_VALUE,o=0;o<d;o++){var b=u[o],x=b.x,w=b.y;i=b.low;var k=s&&c.stacks[(this.negStacks&&w<(y?0:g)?"-":"")+this.stackKey];c.isLog&&null!==w&&w<=0&&(b.y=w=null,e(10)),b.plotX=t=S(ut(ct(-1e5,a.translate(x,0,0,0,1,f,"flags"===this.type)),1e5)),s&&this.visible&&!b.isNull&&k&&k[x]&&(r=this.getStackIndicator(r,x,this.index),k=k[x],w=k.points[r.key],i=w[0],w=w[1],i===y&&(i=$t(g,c.min)),c.isLog&&i<=0&&(i=null),b.total=b.stackTotal=k.total,b.percentage=k.total&&b.y/k.total*100,b.stackY=w,k.setOffset(this.pointXOffset||0,this.barW||0)),b.yBottom=h(i)?c.translate(i,0,1,0,1):null,p&&(w=this.modifyValue(w,b)),b.plotY=i="number"==typeof w&&w!==1/0?ut(ct(-1e5,c.translate(w,0,1,0,1)),1e5):D,b.isInside=i!==D&&i>=0&&i<=c.len&&t>=0&&t<=a.len,b.clientX=m?a.translate(x,0,0,0,1):t,b.negative=b.y<(g||0),b.category=l&&l[b.x]!==D?l[b.x]:b.x,b.isNull||(void 0!==n&&(v=ut(v,dt(t-n))),n=t)}this.closestPointRangePx=v},getValidPoints:function(t,e){var i=this.chart;return Ft(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,i.xAxis,i.yAxis].join(","),l=e[a],h=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=h=n.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=n.clipRect(s)),t&&(l.count+=1),i.clip!==!1&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(h),this.sharedClipKey=a),t||(l.count-=1,l.count<=0&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,n=this.options.animation;n&&!s(n)&&(n=Jt[this.type].animation),t?this.setClip(n):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX},n),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){this.setClip(),Yt(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,r,o,s,a,l,h,c,u,d=this.points,p=this.chart,f=this.options.marker,m=this.pointAttr[""],g=this.markerGroup,y=$t(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(n=d.length;n--;)r=d[n],e=lt(r.plotX),i=r.plotY,l=r.graphic,h=r.marker||{},c=!!r.marker,t=y&&h.enabled===D||h.enabled,u=r.isInside,t&&Zt(i)&&null!==r.y?(t=r.pointAttr[r.selected?"select":""]||m,o=t.r,s=$t(h.symbol,this.symbol),a=0===s.indexOf("url"),l?l[u?"show":"hide"](!0).attr(t).animate(Kt({x:e-o,y:i-o},l.symbolName?{width:2*o,height:2*o}:{})):u&&(o>0||a)&&(r.graphic=p.renderer.symbol(s,e-o,i-o,2*o,2*o,c?h:f).attr(t).add(g))):l&&(r.graphic=l.destroy())},convertAttribs:function(t,e,i,n){var r,o,s=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},n=n||{};for(r in s)o=s[r],a[r]=$t(t[o],e[r],i[r],n[r]);return a},getAttribs:function(){var t,e,i,n=this,r=n.options,o=Jt[n.type].marker?r.marker:r,s=o.states,a=s.hover,l=n.color,c=n.options.negativeColor,u={stroke:l,fill:l},d=n.points||[],p=[],f=n.pointAttrToOptions;t=n.hasPointSpecificOptions;var m=o.lineColor,g=o.fillColor;e=r.turboThreshold;var y,v,b=n.zones,x=n.zoneAxis||"y";if(r.marker?(a.radius=a.radius||o.radius+a.radiusPlus,a.lineWidth=a.lineWidth||o.lineWidth+a.lineWidthPlus):(a.color=a.color||E(a.color||l).brighten(a.brightness).get(),a.negativeColor=a.negativeColor||E(a.negativeColor||c).brighten(a.brightness).get()),p[""]=n.convertAttribs(o,u),Bt(["hover","select"],function(t){p[t]=n.convertAttribs(s[t],p[""])}),n.pointAttr=p,l=d.length,!e||l<e||t)for(;l--;){if(e=d[l],(o=e.options&&e.options.marker||e.options)&&o.enabled===!1&&(o.radius=0),u=null,b.length){for(t=0,u=b[t];e[x]>=u.value;)u=b[++t];e.color=e.fillColor=u=$t(u.color,n.color)}if(t=r.colorByPoint||e.color,e.options)for(v in f)h(o[f[v]])&&(t=!0);t?(o=o||{},i=[],s=o.states||{},t=s.hover=s.hover||{},r.marker&&(!e.negative||t.fillColor||a.fillColor)||(t[n.pointAttrToOptions.fill]=t.color||!e.options.color&&a[e.negative&&c?"negativeColor":"color"]||E(e.color).brighten(t.brightness||a.brightness).get()),y={color:e.color},g||(y.fillColor=e.color),m||(y.lineColor=e.color),o.hasOwnProperty("color")&&!o.color&&delete o.color,u&&!a.fillColor&&(t.fillColor=u),i[""]=n.convertAttribs(Kt(y,o),p[""]),i.hover=n.convertAttribs(s.hover,p.hover,i[""]),i.select=n.convertAttribs(s.select,p.select,i[""])):i=p,e.pointAttr=i}},destroy:function(){var t,e,i,n,r=this,o=r.chart,s=/AppleWebKit\/533/.test(yt),a=r.data||[];for(Yt(r,"destroy"),Xt(r),Bt(r.axisTypes||[],function(t){(n=r[t])&&(l(n.series,r),n.isDirty=n.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();r.points=null,clearTimeout(r.animationTimeout);for(i in r)r[i]instanceof O&&!r[i].survive&&(t=s&&"group"===i?"hide":"destroy",r[i][t]());o.hoverSeries===r&&(o.hoverSeries=null),l(o.series,r);for(i in r)delete r[i]},getGraphPath:function(t,e,i){var n,r,o=this,s=o.options,a=s.step,l=[],t=t||o.points;return(n=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&n&&(a=4-a),s.connectNulls&&!e&&!i&&(t=this.getValidPoints(t)),Bt(t,function(n,c){var u=n.plotX,d=n.plotY,p=t[c-1];(n.leftCliff||p&&p.rightCliff)&&!i&&(r=!0),n.isNull&&!h(e)&&c>0?r=!s.connectNulls:n.isNull&&!e?r=!0:(0===c||r?p=["M",n.plotX,n.plotY]:o.getPointSpline?p=o.getPointSpline(t,n,c):a?(p=1===a?["L",p.plotX,d]:2===a?["L",(p.plotX+u)/2,p.plotY,"L",(p.plotX+u)/2,d]:["L",u,p.plotY],p.push("L",u,d)):p=["L",u,d],l.push.apply(l,p),r=!1)}),o.graphPath=l},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,r="square"!==e.linecap,o=(this.gappedPath||this.getGraphPath).call(this),s=this.fillGraph&&this.color||"none";Bt(this.zones,function(n,r){i.push(["zoneGraph"+r,n.color||t.color,n.dashStyle||e.dashStyle])}),Bt(i,function(i,a){var l=i[0],h=t[l];h?h.animate({d:o}):(n||s)&&o.length&&(h={stroke:i[1],"stroke-width":n,fill:s,zIndex:1},i[2]?h.dashstyle=i[2]:r&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(o).attr(h).add(t.group).shadow(a<2&&e.shadow))})},applyZones:function(){var t,e,i,n,r,o,s,a=this,l=this.chart,h=l.renderer,c=this.zones,u=this.clips||[],d=this.graph,p=this.area,f=ct(l.chartWidth,l.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],g=m.reversed,y=l.inverted,v=m.horiz,b=!1;c.length&&(d||p)&&m.min!==D&&(d&&d.hide(),p&&p.hide(),n=m.getExtremes(),Bt(c,function(c,x){t=g?v?l.plotWidth:0:v?0:m.toPixels(n.min),t=ut(ct($t(e,t),0),f),e=ut(ct(at(m.toPixels($t(c.value,n.max),!0)),0),f),b&&(t=e=m.toPixels(n.max)),r=Math.abs(t-e),o=ut(t,e),s=ct(t,e),m.isXAxis?(i={x:y?s:o,y:0,width:r,height:f},v||(i.x=l.plotHeight-i.x)):(i={x:0,y:y?s:o,width:f,height:r},v&&(i.y=l.plotWidth-i.y)),l.inverted&&h.isVML&&(i=m.isXAxis?{x:0,y:g?o:s,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),u[x]?u[x].animate(i):(u[x]=h.clipRect(i),d&&a["zoneGraph"+x].clip(u[x]),p&&a["zoneArea"+x].clip(u[x])),b=c.value>n.max}),this.clips=u)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Bt(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(Ht(i,"resize",t),Ht(e,"destroy",function(){Xt(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:n||.1}).add(r),o.addClass("highcharts-series-"+this.index)),o.attr({visibility:i})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,r=!!e.animate&&i.renderer.isSVG&&C(n.animation).duration,o=e.visible?"inherit":"hidden",s=n.zIndex,a=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",o,s,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,l),r&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&i.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),Bt(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip!==!1&&!e.sharedClipKey&&!a&&t.clip(i.clipRect),r&&e.animate(),a||(e.animationTimeout=d(function(){e.afterAnimate()},r)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,n=this.xAxis,r=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:$t(n&&n.left,t.plotLeft),translateY:$t(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(i,n,r){var o,s;if(s=i&&i.length)return o=e.kdAxisArray[n%r],i.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(s/2),{point:i[s],left:t(i.slice(0,s),n+1,r),right:t(i.slice(s+1),n+1,r)}}var e=this,i=e.kdDimensions;
delete e.kdTree,d(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i)},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,a,l){var c,u,d=e.point,p=n.kdAxisArray[a%l],f=d;return u=h(t[r])&&h(d[r])?Math.pow(t[r]-d[r],2):null,c=h(t[o])&&h(d[o])?Math.pow(t[o]-d[o],2):null,c=(u||0)+(c||0),d.dist=h(c)?Math.sqrt(c):Number.MAX_VALUE,d.distX=h(u)?Math.sqrt(u):Number.MAX_VALUE,p=t[p]-d[p],c=p<0?"left":"right",u=p<0?"right":"left",e[c]&&(c=i(t,e[c],a+1,l),f=c[s]<f[s]?c:d),e[u]&&Math.sqrt(p*p)<f[s]&&(t=i(t,e[u],a+1,l),f=t[s]<f[s]?t:f),f}var n=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},I.prototype={destroy:function(){_(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?v(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,r=n.inverted,o=i.reversed,o=this.isNegative&&!o||!this.isNegative&&o,s=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=dt(s-i),a=n.xAxis[0].translate(this.x)+t,l=n.plotHeight,o={x:r?o?s:s-i:a,y:r?l-a-e:o?l-s-i:l-s,width:r?i:e,height:r?e:i};(r=this.label)&&(r.align(this.alignOptions,null,o),o=r.alignAttr,r[this.options.crop===!1||n.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},fe.prototype.getStacks=function(){var t=this;Bt(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Bt(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+$t(e.options.stack,""))})},oe.prototype.buildStacks=function(){var t,e,i=this.series,n=$t(this.options.reversedStacks,!0),r=i.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)i[n?e:r-e-1].setStackedPoints();for(e=r;e--;)t=i[n?e:r-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)i[e].setPercentStacks()}},oe.prototype.renderStackTotals=function(){var t,e,i=this.chart,n=i.renderer,r=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(i.plotLeft,i.plotTop);for(t in r)for(e in i=r[t])i[e].render(o)},oe.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=0)},oe.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(i in t[e])t[e][i].cum=t[e][i].total}},ge.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,r,o,s,a=this.processedXData,l=this.processedYData,h=[],c=l.length,u=this.options,d=u.threshold,p=u.startFromThreshold?d:0,f=u.stack,u=u.stacking,m=this.stackKey,g="-"+m,y=this.negStacks,v=this.yAxis,b=v.stacks,x=v.oldStacks;for(v.stacksTouched+=1,r=0;r<c;r++)o=a[r],s=l[r],t=this.getStackIndicator(t,o,this.index),n=t.key,i=(e=y&&s<(p?0:d))?g:m,b[i]||(b[i]={}),b[i][o]||(x[i]&&x[i][o]?(b[i][o]=x[i][o],b[i][o].total=null):b[i][o]=new I(v,v.options.stackLabels,e,o,f)),i=b[i][o],null!==s&&(i.points[n]=i.points[this.index]=[$t(i.cum,p)],i.touched=v.stacksTouched,t.index>0&&this.singleStacks===!1&&(i.points[n][0]=i.points[this.index+","+o+",0"][0])),"percent"===u?(e=e?m:g,y&&b[e]&&b[e][o]?(e=b[e][o],i.total=e.total=ct(e.total,i.total)+dt(s)||0):i.total=S(i.total+(dt(s)||0))):i.total=S(i.total+(s||0)),i.cum=$t(i.cum,p)+(s||0),null!==s&&(i.points[n].push(i.cum),h[r]=i.cum);"percent"===u&&(v.usePercentage=!0),this.stackedYData=h,v.oldStacks={}}},ge.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;Bt([i,"-"+i],function(i){for(var o,s,a,l=r.length;l--;)s=r[l],t=e.getStackIndicator(t,s,e.index),o=(a=n[i]&&n[i][s])&&a.points[t.key],(s=o)&&(a=a.total?100/a.total:0,s[0]=S(s[0]*a),s[1]=S(s[1]*a),e.stackedYData[l]=s[1])})},ge.prototype.getStackIndicator=function(t,e,i){return h(t)&&t.x===e?t.index++:t={x:e,index:0},t.key=[i,e,t.index].join(","),t},Kt(fe.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=$t(e,!0),Yt(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)})),n},addAxis:function(t,e,i,r){var o=e?"xAxis":"yAxis",s=this.options,t=n(t,{index:this[o].length,isX:e});new oe(this,t),s[o]=u(s[o]||{}),s[o].push(t),$t(i,!0)&&this.redraw(r)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,r=i.loading,o=function(){n&&p(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};n||(e.loadingDiv=n=f(It,{className:"highcharts-loading"},Kt(r.style,{zIndex:10,display:"none"}),e.container),e.loadingSpan=f("span",null,r.labelStyle,n),Ht(e,"redraw",o)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(p(n,{opacity:0,display:""}),Ut(n,{opacity:r.style.opacity},{duration:r.showDuration||0}),e.loadingShown=!0),o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Ut(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){p(e,{display:"none"})}}),this.loadingShown=!1}}),Kt(me.prototype,{update:function(t,e,i,n){function r(){l.applyOptions(t),null===l.y&&c&&(l.graphic=c.destroy()),s(t)&&!a(t)&&(l.redraw=function(){c&&c.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=c.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),o=l.index,h.updateParallelArrays(l,o),p&&l.name&&(p[l.x]=l.name),d.data[o]=s(d.data[o])&&!a(d.data[o])?l.options:t,h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===d.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(i)}var o,l=this,h=l.series,c=l.graphic,u=h.chart,d=h.options,p=h.xAxis&&h.xAxis.names,e=$t(e,!0);n===!1?r():l.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(jt(this,this.series.data),t,e)}}),Kt(ge.prototype,{addPoint:function(t,e,i,n){var r,o=this,s=o.options,a=o.data,l=o.graph,h=o.area,c=o.chart,u=o.xAxis&&o.xAxis.names,d=l&&l.shift||0,p=["graph","area"],l=s.data,f=o.xData;if(T(n,c),i){for(n=o.zones.length;n--;)p.push("zoneGraph"+n,"zoneArea"+n);Bt(p,function(t){o[t]&&(o[t].shift=d+(s.step?2:1))})}if(h&&(h.isArea=!0),e=$t(e,!0),h={series:o},o.pointClass.prototype.applyOptions.apply(h,[t]),p=h.x,n=f.length,o.requireSorting&&p<f[n-1])for(r=!0;n&&f[n-1]>p;)n--;o.updateParallelArrays(h,"splice",n,0,0),o.updateParallelArrays(h,n),u&&h.name&&(u[p]=h.name),l.splice(n,0,t),r&&(o.data.splice(n,0,null),o.processData()),"point"===s.legendType&&o.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),o.updateParallelArrays(h,"shift"),l.shift())),o.isDirty=!0,o.isDirtyData=!0,e&&(o.getAttribs(),c.redraw())},removePoint:function(t,e,i){var n=this,r=n.data,o=r[t],s=n.points,a=n.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};T(i,a),e=$t(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,n=i.chart;Yt(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),$t(t,!0)&&n.redraw(e)})},update:function(t,e){var i,r=this,o=this.chart,s=this.userOptions,a=this.type,l=Nt[a].prototype,h=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==a||void 0!==t.zIndex)&&(h.length=0),Bt(h,function(t){h[t]=r[t],delete r[t]}),t=n(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(i in l)this[i]=D;Kt(this,Nt[t.type||a].prototype),Bt(h,function(t){r[t]=h[t]}),this.init(o,t),o.linkSeries(),$t(e,!0)&&o.redraw(!1)}}),Kt(oe.prototype,{update:function(t,e){var i=this.chart,t=i.options[this.coll][this.options.index]=n(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=D,this.init(i,Kt(t,{events:D})),i.isDirtyBox=!0,$t(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),Bt(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,$t(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var ye=m(ge);Nt.line=ye,Jt.area=n(te,{softThreshold:!1,threshold:0});var ve=m(ge,{type:"area",singleStacks:!1,getStackPoints:function(){var t,e,i,n=[],r=[],o=this.xAxis,s=this.yAxis,a=s.stacks[this.stackKey],l={},h=this.points,c=this.index,u=s.series,d=u.length,p=$t(s.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<h.length;e++)l[h[e].x]=h[e];for(i in a)null!==a[i].total&&r.push(i);r.sort(function(t,e){return t-e}),t=Wt(u,function(){return this.visible}),Bt(r,function(i,h){var u,f,m=0;if(l[i]&&!l[i].isNull)n.push(l[i]),Bt([-1,1],function(n){var o=1===n?"rightNull":"leftNull",s=0,m=a[r[h+n]];if(m)for(e=c;e>=0&&e<d;)u=m.points[e],u||(e===c?l[i][o]=!0:t[e]&&(f=a[i].points[e])&&(s-=f[1]-f[0])),e+=p;l[i][1===n?"rightCliff":"leftCliff"]=s});else{for(e=c;e>=0&&e<d;){if(u=a[i].points[e]){m=u[1];break}e+=p}m=s.toPixels(m,!0),n.push({isNull:!0,plotX:o.toPixels(i,!0),plotY:m,yBottom:m})}})}return n},getGraphPath:function(t){var e,i,n,r,o=ge.prototype.getGraphPath,s=this.options,a=s.stacking,l=this.yAxis,h=[],c=[],u=this.index,d=l.stacks[this.stackKey],p=s.threshold,f=l.getThreshold(s.threshold),s=s.connectNulls||"percent"===a,m=function(e,i,r){var o,s,m=t[e],e=a&&d[m.x].points[u],g=m[r+"Null"]||0,r=m[r+"Cliff"]||0,m=!0;r||g?(o=(g?e[0]:e[1])+r,s=e[0]+r,m=!!g):!a&&t[i]&&t[i].isNull&&(o=s=p),void 0!==o&&(c.push({plotX:n,plotY:null===o?f:l.getThreshold(o),isNull:m}),h.push({plotX:n,plotY:null===s?f:l.getThreshold(s)}))},t=t||this.points;for(a&&(t=this.getStackPoints()),e=0;e<t.length;e++)i=t[e].isNull,n=$t(t[e].rectPlotX,t[e].plotX),r=$t(t[e].yBottom,f),(!i||s)&&(s||m(e,e-1,"left"),i&&!a&&s||(c.push(t[e]),h.push({x:e,plotX:n,plotY:r})),s||m(e,e+1,"right"));return e=o.call(this,c,!0,!0),h.reversed=!0,i=o.call(this,h,!0,!0),i.length&&(i[0]="L"),e=e.concat(i),o=o.call(this,c,!1,s),this.areaPath=e,o},drawGraph:function(){this.areaPath=[],ge.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Bt(this.zones,function(e,r){n.push(["zoneArea"+r,e.color||t.color,e.fillColor||i.fillColor])}),Bt(n,function(n){var r=n[0],o=t[r];o?o.animate({d:e}):(o={fill:n[2]||n[1],zIndex:0},n[2]||(o["fill-opacity"]=$t(i.fillOpacity,.75)),t[r]=t.chart.renderer.path(e).attr(o).add(t.group))})},drawLegendSymbol:ie.drawRectangle});return Nt.area=ve,Jt.spline=n(te),ye=m(ge,{type:"spline",getPointSpline:function(t,e,i){var n,r,o,s,a=e.plotX,l=e.plotY,h=t[i-1],i=t[i+1];if(h&&!h.isNull&&i&&!i.isNull){t=h.plotY,o=i.plotX;var i=i.plotY,c=0;n=(1.5*a+h.plotX)/2.5,r=(1.5*l+t)/2.5,o=(1.5*a+o)/2.5,s=(1.5*l+i)/2.5,o!==n&&(c=(s-r)*(o-a)/(o-n)+l-s),r+=c,s+=c,r>t&&r>l?(r=ct(t,l),s=2*l-r):r<t&&r<l&&(r=ut(t,l),s=2*l-r),s>i&&s>l?(s=ct(i,l),r=2*l-s):s<i&&s<l&&(s=ut(i,l),r=2*l-s),e.rightContX=o,e.rightContY=s}return e=["C",$t(h.rightContX,h.plotX),$t(h.rightContY,h.plotY),$t(n,a),$t(r,l),a,l],h.rightContX=h.rightContY=null,e}}),Nt.spline=ye,Jt.areaspline=n(Jt.area),ve=ve.prototype,ye=m(ye,{type:"areaspline",getStackPoints:ve.getStackPoints,getGraphPath:ve.getGraphPath,setStackCliffs:ve.setStackCliffs,drawGraph:ve.drawGraph,drawLegendSymbol:ie.drawRectangle}),Nt.areaspline=ye,Jt.column=n(te,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),ye=m(ge,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ge.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Bt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,n=e.xAxis,r=e.yAxis,o=n.reversed,s={},a=0;i.grouping===!1?a=1:Bt(e.chart.series,function(i){var n,o=i.options,l=i.yAxis;i.type===e.type&&i.visible&&r.len===l.len&&r.pos===l.pos&&(o.stacking?(t=i.stackKey,s[t]===D&&(s[t]=a++),n=s[t]):o.grouping!==!1&&(n=a++),i.columnIndex=n)});var l=ut(dt(n.transA)*(n.ordinalSlope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),h=l*i.groupPadding,c=(l-2*h)/a,i=ut(i.maxPointWidth||n.len,$t(i.pointWidth,c*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(c-i)/2+(h+((e.columnIndex||0)+(o?1:0))*c-l/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var r=this.chart,o=this.borderWidth,s=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),i=Math.round(t+i)+s,t=Math.round(t)+s,i-=t,n=Math.round(e+n)+o,s=dt(e)<=.5&&n>.5,e=Math.round(e)+o,n-=e,s&&n&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=$t(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),r=t.yAxis,o=t.translatedThreshold=r.getThreshold(i.threshold),s=$t(i.minPointLength,5),a=t.getColumnMetrics(),l=a.width,h=t.barW=ct(l,1+2*n),c=t.pointXOffset=a.offset;e.inverted&&(o-=.5),i.pointPadding&&(h=ht(h)),ge.prototype.translate.apply(t),Bt(t.points,function(i){var n,a=ut($t(i.yBottom,o),9e4),u=999+dt(a),u=ut(ct(-u,i.plotY),r.len+u),d=i.plotX+c,p=h,f=ut(u,a),m=ct(u,a)-f;dt(m)<s&&s&&(m=s,n=!r.reversed&&!i.negative||r.reversed&&i.negative,f=dt(f-o)>s?a-s:o-(n?s:0)),i.barX=d,i.pointWidth=l,i.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-u,t.xAxis.len-d-p/2,m]:[d+p/2,u+r.pos-e.plotTop,m],i.shapeType="rect",i.shapeArgs=t.crispCol(d,f,p,m)})},getSymbol:Et,drawLegendSymbol:ie.drawRectangle,drawGraph:Et,drawPoints:function(){var t,e,i=this,r=this.chart,o=i.options,s=r.renderer,a=o.animationLimit||250;Bt(i.points,function(l){var c,u=l.graphic;Zt(l.plotY)&&null!==l.y?(t=l.shapeArgs,c=h(i.borderWidth)?{"stroke-width":i.borderWidth}:{},e=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],u?(qt(u),u.attr(c).attr(e)[r.pointCount<a?"animate":"attr"](n(t))):l.graphic=s[l.shapeType](t).attr(c).attr(e).add(l.group||i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius)):u&&(l.graphic=u.destroy())})},animate:function(t){var e=this,i=this.yAxis,n=e.options,r=this.chart.inverted,o={};Pt&&(t?(o.scaleY=.001,t=ut(i.pos+i.len,ct(i.pos,i.toPixels(n.threshold))),r?o.translateX=t-i.len:o.translateY=t,e.group.attr(o)):(o[r?"translateX":"translateY"]=i.pos,e.group.animate(o,Kt(C(e.options.animation),{step:function(t,i){e.group.attr({scaleY:ct(.001,i.pos)})}})),e.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Bt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),ge.prototype.remove.apply(t,arguments)}}),Nt.column=ye,Jt.bar=n(Jt.column),ve=m(ye,{type:"bar",inverted:!0}),Nt.bar=ve,Jt.scatter=n(te,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ve=m(ge,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&ge.prototype.drawGraph.call(this)}}),Nt.scatter=ve,Jt.pie=n(te,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),te={type:"pie",isCartesian:!1,pointClass:m(me,{init:function(){me.prototype.init.apply(this,arguments);var t,e=this;return e.name=$t(e.name,"Slice"),t=function(t){e.slice("select"===t.type)},Ht(e,"select",t),Ht(e,"unselect",t),e},setVisible:function(t,e){var i=this,n=i.series,r=n.chart,o=n.options.ignoreHiddenPoint,e=$t(e,o);t!==i.visible&&(i.visible=i.options.visible=t=t===D?!i.visible:t,n.options.data[jt(i,n.data)]=i.options,Bt(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&r.legend.colorizeItem(i,t),!t&&"hover"===i.state&&i.setState(""),o&&(n.isDirty=!0),e&&r.redraw())},slice:function(t,e,i){var n=this.series;T(i,n.chart),$t(e,!0),this.sliced=this.options.sliced=t=h(t)?t:!this.sliced,n.options.data[jt(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(Bt(i,function(t){var i=t.graphic,r=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,r=n.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=n[t],i+=o&&!e.visible?0:e.y;for(this.total=i,t=0;t<r;t++)e=n[t],e.percentage=i>0&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){ge.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,r,o,s=0,a=this.options,l=a.slicedOffset,h=l+a.borderWidth,c=a.startAngle||0,u=this.startAngleRad=mt/180*(c-90),c=(this.endAngleRad=mt/180*($t(a.endAngle,c+360)-90))-u,d=this.points,p=a.dataLabels.distance,a=a.ignoreHiddenPoint,f=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=st.asin(ut((e-t[1])/(t[2]/2+p),1)),t[0]+(i?-1:1)*pt(n)*(t[2]/2+p)},r=0;r<f;r++)o=d[r],e=u+s*c,a&&!o.visible||(s+=o.percentage/100),i=u+s*c,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:at(1e3*e)/1e3,end:at(1e3*i)/1e3},n=(i+e)/2,n>1.5*mt?n-=2*mt:n<-mt/2&&(n+=2*mt),o.slicedTranslation={translateX:at(pt(n)*l),translateY:at(ft(n)*l)},e=pt(n)*t[2]/2,i=ft(n)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*i],o.half=n<-mt/2||n>mt/2?1:0,o.angle=n,h=ut(h,p/2),o.labelPos=[t[0]+e+pt(n)*p,t[1]+i+ft(n)*p,t[0]+e+pt(n)*h,t[1]+i+ft(n)*h,t[0]+e,t[1]+i,p<0?"center":o.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,r,o,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),Bt(s.points,function(h){null!==h.y&&(e=h.graphic,r=h.shapeArgs,i=h.shadowGroup,n=h.pointAttr[h.selected?"select":""],n.stroke||(n.stroke=n.fill),l&&!i&&(i=h.shadowGroup=a.g("shadow").add(s.shadowGroup)),t=h.sliced?h.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.setRadialReference(s.center).attr(n).animate(Kt(r,t)):(o={"stroke-linejoin":"round"},h.visible||(o.visibility="hidden"),h.graphic=e=a[h.shapeType](r).setRadialReference(s.center).attr(n).attr(o).attr(t).add(s.group).shadow(l,i)))})},searchPoint:Et,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:ie.drawRectangle,getCenter:ne.getCenter,getSymbol:Et},te=m(ge,te),Nt.pie=te,ge.prototype.drawDataLabels=function(){var t,e,i,r,o=this,s=o.options,a=s.cursor,l=s.dataLabels,c=o.points,u=o.hasRendered||0,d=$t(l.defer,!0),p=o.chart.renderer;(l.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(l),r=o.plotGroup("dataLabelsGroup","data-labels",d&&!u?"hidden":"visible",l.zIndex||6),d&&(r.attr({opacity:+u}),u||Ht(o,"afterAnimate",function(){o.visible&&r.show(),r[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),e=l,Bt(c,function(c){var u,d,f,m,g=c.dataLabel,y=c.connector,b=!0,x={};if(t=c.dlOptions||c.options&&c.options.dataLabels,u=$t(t&&t.enabled,e.enabled)&&null!==c.y,g&&!u)c.dataLabel=g.destroy();else if(u){if(l=n(e,t),m=l.style,u=l.rotation,d=c.getLabelConfig(),i=l.format?v(l.format,d):l.formatter.call(d,l),m.color=$t(l.color,m.color,o.color,"black"),g)h(i)?(g.attr({text:i}),b=!1):(c.dataLabel=g=g.destroy(),y&&(c.connector=y.destroy()));else if(h(i)){g={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:u,padding:l.padding,zIndex:1},"contrast"===m.color&&(x.color=l.inside||l.distance<0||s.stacking?p.getContrast(c.color||o.color):"#000000"),a&&(x.cursor=a);for(f in g)g[f]===D&&delete g[f];g=c.dataLabel=p[u?"text":"label"](i,0,-9999,l.shape,null,null,l.useHTML).attr(g).css(Kt(m,x)).add(r).shadow(l.shadow)}g&&o.alignDataLabel(c,g,l,null,b)}}))},ge.prototype.alignDataLabel=function(t,e,i,n,r){var o=this.chart,s=o.inverted,a=$t(t.plotX,-9999),l=$t(t.plotY,-9999),h=e.getBBox(),c=o.renderer.fontMetrics(i.style.fontSize).b,u=i.rotation,d=i.align,p=this.visible&&(t.series.forceDL||o.isInsidePlot(a,at(l),s)||n&&o.isInsidePlot(a,s?n.x+1:n.y+n.height-1,s)),f="justify"===$t(i.overflow,"justify");p&&(n=Kt({x:s?o.plotWidth-l:a,y:at(s?o.plotHeight-a:l),width:0,height:0},n),Kt(i,{width:h.width,height:h.height}),u?(f=!1,s=o.renderer.rotCorr(c,u),s={x:n.x+i.x+n.width/2+s.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[r?"attr":"animate"](s).attr({align:d}),a=(u+720)%360,a=a>180&&a<360,"left"===d?s.y-=a?h.height:0:"center"===d?(s.x-=h.width/2,s.y-=h.height/2):"right"===d&&(s.x-=h.width,s.y-=a?0:h.height)):(e.align(i,null,n),s=e.alignAttr),f?this.justifyDataLabel(e,i,s,h,n,r):$t(i.crop,!0)&&(p=o.isInsidePlot(s.x,s.y)&&o.isInsidePlot(s.x+h.width,s.y+h.height)),i.shape&&!u&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),p||(qt(e),e.attr({y:-9999}),e.placed=!1)},ge.prototype.justifyDataLabel=function(t,e,i,n,r,o){var s,a,l=this.chart,h=e.align,c=e.verticalAlign,u=t.box?0:t.padding||0;s=i.x+u,s<0&&("right"===h?e.align="left":e.x=-s,a=!0),s=i.x+n.width-u,s>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-s,a=!0),s=i.y+u,s<0&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),s=i.y+n.height-u,s>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},Nt.pie&&(Nt.pie.prototype.drawDataLabels=function(){var t,e,i,n,r,o,s,a,l,h,c,u=this,d=u.data,p=u.chart,f=u.options.dataLabels,m=$t(f.connectorPadding,10),g=$t(f.connectorWidth,1),y=p.plotWidth,v=p.plotHeight,b=$t(f.softConnector,!0),x=f.distance,w=u.center,k=w[2]/2,_=w[1],P=x>0,S=[[],[]],T=[0,0,0,0],C=function(t,e){return e.y-t.y};if(u.visible&&(f.enabled||u._hasPointLabels)){for(ge.prototype.drawDataLabels.apply(u),Bt(d,function(t){t.dataLabel&&t.visible&&(S[t.half].push(t),t.dataLabel._pos=null)}),h=2;h--;){var A,E=[],O=[],L=S[h],I=L.length;if(I){for(u.sortByAngle(L,h-.5),c=d=0;!d&&L[c];)d=L[c]&&L[c].dataLabel&&(L[c].dataLabel.getBBox().height||21),c++;if(x>0){for(r=ut(_+k+x,p.plotHeight),c=ct(0,_-k-x);c<=r;c+=d)E.push(c);if(r=E.length,I>r){for(t=[].concat(L),t.sort(C),c=I;c--;)t[c].rank=c;for(c=I;c--;)L[c].rank>=r&&L.splice(c,1);I=L.length}for(c=0;c<I;c++){t=L[c],o=t.labelPos,t=9999;var D,R;for(R=0;R<r;R++)D=dt(E[R]-o[1]),D<t&&(t=D,A=R);if(A<c&&null!==E[c])A=c;else for(r<I-c+A&&null!==E[c]&&(A=r-I+c);null===E[A];)A++;O.push({i:A,y:E[A]}),E[A]=null}O.sort(C)}for(c=0;c<I;c++)t=L[c],o=t.labelPos,n=t.dataLabel,l=t.visible===!1?"hidden":"inherit",t=o[1],x>0?(r=O.pop(),A=r.i,a=r.y,(t>a&&null!==E[A+1]||t<a&&null!==E[A-1])&&(a=ut(ct(0,t),p.plotHeight))):a=t,s=f.justify?w[0]+(h?-1:1)*(k+x):u.getX(a===_-k-x||a===_+k+x?t:a,h),n._attr={visibility:l,align:o[6]},n._pos={x:s+f.x+({left:m,right:-m}[o[6]]||0),y:a+f.y-10},n.connX=s,n.connY=a,null===this.options.size&&(r=n.width,s-r<m?T[3]=ct(at(r-s+m),T[3]):s+r>y-m&&(T[1]=ct(at(s+r-y+m),T[1])),a-d/2<0?T[0]=ct(at(-a+d/2),T[0]):a+d/2>v&&(T[2]=ct(at(a+d/2-v),T[2])))}}(0===M(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),P&&g&&Bt(this.points,function(t){e=t.connector,o=t.labelPos,(n=t.dataLabel)&&n._pos&&t.visible?(l=n._attr.visibility,s=n.connX,a=n.connY,i=b?["M",s+("left"===o[6]?5:-5),a,"C",s,a,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",s+("left"===o[6]?5:-5),a,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=u.chart.renderer.path(i).attr({"stroke-width":g,stroke:f.connectorColor||t.color||"#606060",visibility:l}).add(u.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},Nt.pie.prototype.placeDataLabels=function(){Bt(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},Nt.pie.prototype.alignDataLabel=Et,Nt.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,r=n.center,o=n.minSize||80,s=o;return null!==r[0]?s=ct(i[2]-ct(t[1],t[3]),o):(s=ct(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==r[1]?s=ct(ut(s,i[2]-ct(t[0],t[2])),o):(s=ct(ut(s,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,i[3]=Math.min(/%$/.test(n.innerSize||0)?s*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),s),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Nt.column&&(Nt.column.prototype.alignDataLabel=function(t,e,i,r,o){var s=this.chart.inverted,a=t.series,l=t.dlBox||t.shapeArgs,h=$t(t.below,t.plotY>$t(this.translatedThreshold,a.yAxis.len)),c=$t(i.inside,!!this.options.stacking);l&&(r=n(l),r.y<0&&(r.height+=r.y,r.y=0),l=r.y+r.height-a.yAxis.len,l>0&&(r.height-=l),s&&(r={x:a.yAxis.len-r.y-r.height,y:a.xAxis.len-r.x-r.width,width:r.height,height:r.width}),c||(s?(r.x+=h?0:r.width,r.width=0):(r.y+=h?r.height:0,r.height=0))),i.align=$t(i.align,!s||c?"center":h?"right":"left"),i.verticalAlign=$t(i.verticalAlign,s||c?"middle":h?"top":"bottom"),ge.prototype.alignDataLabel.call(this,t,e,i,r,o)}),function(t){var e=t.Chart,i=t.each,n=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&i(o,function(r){i(t.points,function(t){t[r]&&(t[r].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,s,a,l,h,c,u=t.length;for(n=0;n<u;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<u;n++)for(r=t[n],e=n+1;e<u;++e)o=t[e],r&&o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(s=r.alignAttr,a=o.alignAttr,l=r.parentGroup,h=o.parentGroup,c=2*(r.box?0:r.padding),s=!(a.x+h.translateX>s.x+l.translateX+(r.width-c)||a.x+h.translateX+(o.width-c)<s.x+l.translateX||a.y+h.translateY>s.y+l.translateY+(r.height-c)||a.y+h.translateY+(o.height-c)<s.y+l.translateY))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(rt),te=rt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,r=n&&{cursor:n},o=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;i!==D&&i!==e.hoverPoint&&i.onMouseOver(t)};Bt(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Bt(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(r),N)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t=this,e=t.options,i=e.trackByArea,n=[].concat(i?t.areaPath:t.graphPath),r=n.length,o=t.chart,s=o.pointer,a=o.renderer,l=o.options.tooltip.snap,h=t.tracker,c=e.cursor,u=c&&{cursor:c},d=function(){o.hoverSeries!==t&&t.onMouseOver()},p="rgba(192,192,192,"+(Pt?1e-4:.002)+")";if(r&&!i)for(c=r+1;c--;)"M"===n[c]&&n.splice(c+1,0,n[c+1]-l,n[c+2],"L"),(c&&"M"===n[c]||c===r)&&n.splice(c,0,"L",n[c-2]+l,n[c-1]);h?h.attr({d:n}):(t.tracker=a.path(n).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:p,fill:i?p:"none","stroke-width":e.lineWidth+(i?0:2*l),zIndex:2}).add(t.group),Bt([t.tracker,t.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(t){s.onTrackerMouseOut(t)}).css(u),N&&t.on("touchstart",d)}))}},Nt.column&&(ye.prototype.drawTracker=te.drawTrackerPoint),Nt.pie&&(Nt.pie.prototype.drawTracker=te.drawTrackerPoint),Nt.scatter&&(ve.prototype.drawTracker=te.drawTrackerPoint),Kt(pe.prototype,{setItemEvents:function(t,e,i,n,r){var o=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:r),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Yt(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=f("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Ht(t.checkbox,"click",function(e){Yt(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),j.legend.itemStyle.cursor="pointer",Kt(fe.prototype,{showResetZoom:function(){var t=this,e=j.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;Yt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,r=!1;!t||t.resetSelection?Bt(this.axes,function(t){e=t.zoom()}):Bt(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,o=i.isXAxis;(n[o?"zoomX":"zoomY"]||n[o?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&s(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw($t(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&Bt(r,function(t){t.setState()}),Bt("xy"===e?[1,0]:[1],function(e){var e=n[e?"xAxis":"yAxis"][0],r=e.horiz,o=t[r?"chartX":"chartY"],r=r?"mouseDownX":"mouseDownY",s=n[r],a=(e.pointRange||0)/2,l=e.getExtremes(),h=e.toValue(s-o,!0)+a,a=e.toValue(s+e.len-o,!0)-a,s=s>o;e.series.length&&(s||h>ut(l.dataMin,l.min))&&(!s||a<ct(l.dataMax,l.max))&&(e.setExtremes(h,a,!1,!1,{trigger:"pan"}),i=!0),n[r]=o}),i&&n.redraw(!1),p(n.container,{cursor:"move"})}}),Kt(me.prototype,{select:function(t,e){var i=this,n=i.series,r=n.chart,t=$t(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[jt(i,n.data)]=i.options,i.setState(t&&"select"),e||Bt(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[jt(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this.series,n=i.chart,r=n.tooltip,o=n.hoverPoint;n.hoverSeries!==i&&i.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),r&&(!r.shared||i.noSharedTooltip)&&r.refresh(this,t),
this.setState("hover"),!e)&&(n.hoverPoint=this)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&jt(this,e)!==-1||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=n(this.series.options.point,this.options).events;this.events=e;for(t in e)Ht(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t,e){var i,r=lt(this.plotX),o=this.plotY,s=this.series,a=s.options.states,l=Jt[s.type].marker&&s.options.marker,h=l&&!l.enabled,c=l&&l.states[t],u=c&&c.enabled===!1,d=s.stateMarkerGraphic,p=this.marker||{},f=s.chart,m=s.halo,t=t||"";i=this.pointAttr[t]||s.pointAttr[t],t===this.state&&!e||this.selected&&"select"!==t||a[t]&&a[t].enabled===!1||t&&(u||h&&c.enabled===!1)||t&&p.states&&p.states[t]&&p.states[t].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&i.r,this.graphic.attr(n(i,l?{x:r-l,y:o-l,width:2*l,height:2*l}:{})),d&&d.hide()):(t&&c&&(l=c.radius,p=p.symbol||s.symbol,d&&d.currentSymbol!==p&&(d=d.destroy()),d?d[e?"animate":"attr"]({x:r-l,y:o-l}):p&&(s.stateMarkerGraphic=d=f.renderer.symbol(p,r-l,o-l,2*l,2*l).attr(i).add(s.markerGroup),d.currentSymbol=p)),d&&(d[t&&f.isInsidePlot(r,o,f.inverted)?"show":"hide"](),d.element.point=this)),(r=a[t]&&a[t].halo)&&r.size?(m||(s.halo=m=f.renderer.path().add(f.seriesGroup)),m.attr(Kt({fill:this.color||s.color,"fill-opacity":r.opacity,zIndex:-1},r.attributes))[e?"animate":"attr"]({d:this.haloPath(r.size)})):m&&m.attr({d:[]}),this.state=t)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),r=i.inverted,o=Math.floor(this.plotX);return i.renderer.symbols.circle(n.translateX+(r?e.yAxis.len-this.plotY:o)-t,n.translateY+(r?e.xAxis.len-o:this.plotY)-t,2*t,2*t)}}),Kt(ge.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Yt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&Yt(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(t){var e=this.options,i=this.graph,n=e.states,r=e.lineWidth,e=0,t=t||"";if(this.state!==t&&(this.state=t,!(n[t]&&n[t].enabled===!1)&&(t&&(r=n[t].lineWidth||r+(n[t].lineWidthPlus||0)),i&&!i.dashstyle)))for(t={"stroke-width":r},i.attr(t);this["zoneGraph"+e];)this["zoneGraph"+e].attr(t),e+=1},setVisible:function(t,e){var i,n=this,r=n.chart,o=n.legendItem,s=r.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.userOptions.visible=t===D?!a:t)?"show":"hide",Bt(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Bt(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Bt(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),Yt(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===D?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Yt(this,t?"select":"unselect")},drawTracker:te.drawTrackerGraph}),Kt(rt,{Color:E,Point:me,Tick:L,Renderer:R,SVGElement:O,SVGRenderer:ee,arrayMin:k,arrayMax:M,charts:Ot,correctFloat:S,dateFormat:B,error:e,format:v,pathAnim:void 0,getOptions:function(){return j},hasBidiBug:St,isTouchDevice:Mt,setOptions:function(t){return j=n(!0,j,t),A(),j},addEvent:Ht,removeEvent:Xt,createElement:f,discardElement:P,css:p,each:Bt,map:Wt,merge:n,splat:u,stableSort:w,extendClass:m,pInt:r,svg:Pt,canvas:Tt,vml:!Pt&&!Tt,product:"Highcharts",version:"4.2.5"}),rt})},1068:function(t,e){!function(e,i){"object"==typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)}("undefined"!=typeof window?window:this,function(t){function e(e,i){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(i)throw Error(n);t.console&&console.log(n)}function i(t,e,i){this.options=e,this.elem=t,this.prop=i}function n(){var t,e,i=arguments,n={},r=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?r(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=r(n,i[t]);return n}function r(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function s(t){return t&&"object"==typeof t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function h(t){return t!==I&&null!==t}function c(t,e,i){var n,r;if(o(e))h(i)?t.setAttribute(e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(h(e)&&s(e))for(n in e)t.setAttribute(n,e[n]);return r}function u(t){return a(t)?t:[t]}function d(t,e,i){return e?setTimeout(t,e,i):void t.call(0,i)}function p(t,e){pt&&!bt&&e&&e.opacity!==I&&(e.filter="alpha(opacity="+100*e.opacity+")"),Ht(t.style,e)}function f(t,e,i,n,r){return t=J.createElement(t),e&&Ht(t,e),r&&p(t,{padding:0,border:"none",margin:0}),i&&p(t,i),n&&n.appendChild(t),t}function m(t,e){var i=function(){};return i.prototype=new t,Ht(i.prototype,e),i}function g(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t}function y(t,e){for(var i,n,r,o,s,a="{",l=!1,h=[];(a=t.indexOf(a))!==-1;){if(i=t.slice(0,a),l){for(n=i.split(":"),r=n.shift().split("."),s=r.length,i=e,o=0;o<s;o++)i=i[r[o]];n.length&&(n=n.join(":"),r=/\.([0-9])/,o=z.lang,s=void 0,/f$/.test(n)?(s=(s=n.match(r))?s[1]:-1,null!==i&&(i=Q.numberFormat(i,s,o.decimalPoint,n.indexOf(",")>-1?o.thousandsSep:""))):i=j(n,i))}h.push(i),t=t.slice(a+1),a=(l=!l)?"}":"{"}return h.push(t),h.join("")}function v(t,e,i,n,r){var o,s=t,i=Yt(i,1);for(o=t/i,e||(e=[1,2,2.5,5,10],n===!1&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),n=0;n<e.length&&(s=e[n],!(r&&s*i>=t||!r&&o<=(e[n]+(e[n+1]||e[n]))/2));n++);return s*=i}function b(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;n<r;n++)delete t[n].safeI}function x(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function w(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function k(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function M(t){N||(N=f(Tt)),t&&N.appendChild(t),N.innerHTML=""}function _(t,e){return parseFloat(t.toPrecision(e||14))}function P(t,e){e.renderer.globalAnimation=Yt(t,e.animation)}function S(t){return s(t)?n(t):{duration:t?500:0}}function T(){var e=z.global,i=e.useUTC,n=i?"getUTC":"get",r=i?"setUTC":"set";F=e.Date||t.Date,G=i&&e.timezoneOffset,W=i&&e.getTimezoneOffset,H=n+"Minutes",X=n+"Hours",Y=n+"Day",U=n+"Date",q=n+"Month",V=n+"FullYear",K=r+"Date",Z=r+"Month",$=r+"FullYear"}function C(t){return this instanceof C?void this.init(t):new C(t)}function A(){}function E(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function O(t,e){var i,n,r,o,s=!1,a=t.x,l=t.y;for(i=0,n=e.length-1;i<e.length;n=i++)r=e[i][1]>l,o=e[n][1]>l,r!==o&&a<(e[n][0]-e[i][0])*(l-e[i][1])/(e[n][1]-e[i][1])+e[i][0]&&(s=!s);return s}function L(t,e,i,n,r,o,s,a){return["M",t+r,e,"L",t+i-o,e,"C",t+i-o/2,e,t+i,e+o/2,t+i,e+o,"L",t+i,e+n-s,"C",t+i,e+n-s/2,t+i-s/2,e+n,t+i-s,e+n,"L",t+a,e+n,"C",t+a/2,e+n,t,e+n-a/2,t,e+n-a,"L",t,e+r,"C",t,e+r/2,t+r/2,e,t+r,e,"Z"]}var I,D,R,N,z,j,B,F,G,W,H,X,Y,U,q,V,K,Z,$,Q,J=t.document,tt=Math,et=tt.round,it=tt.floor,nt=tt.ceil,rt=tt.max,ot=tt.min,st=tt.abs,at=tt.cos,lt=tt.sin,ht=tt.PI,ct=2*ht/360,ut=t.navigator&&t.navigator.userAgent||"",dt=t.opera,pt=/(msie|trident|edge)/i.test(ut)&&!dt,ft=J&&8===J.documentMode,mt=!pt&&/AppleWebKit/.test(ut),gt=/Firefox/.test(ut),yt=/(Mobile|Android|Windows Phone)/.test(ut),vt="http://www.w3.org/2000/svg",bt=J&&J.createElementNS&&!!J.createElementNS(vt,"svg").createSVGRect,xt=gt&&parseInt(ut.split("Firefox/")[1],10)<4,wt=J&&!bt&&!pt&&!!J.createElement("canvas").getContext,kt={},Mt=0,_t=function(){},Pt=[],St=0,Tt="div",Ct=/^[0-9]+$/,At=["plotTop","marginRight","marginBottom","plotLeft"],Et={};Q=t.Highcharts?e(16,!0):{win:t},Q.seriesTypes=Et;var Ot,Lt,It,Dt,Rt,Nt,zt,jt,Bt,Ft,Gt,Wt=[];i.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],r=this.now,o=e.length;if(1===r)n=this.toD;else if(o===i.length&&r<1)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?e[o]:r*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(t,e,i){var n,r=this,o=function(t){return!o.stopped&&r.step(t)};this.startTime=+new F,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===Wt.push(o)&&(o.timerId=setInterval(function(){for(n=0;n<Wt.length;n++)Wt[n]()||Wt.splice(n--,1);Wt.length||clearInterval(o.timerId)},13))},step:function(t){var e,i=+new F,n=this.options;e=this.elem;var r,o=n.complete,s=n.duration,a=n.curAnim;if(e.attr&&!e.element)e=!1;else if(t||i>=s+this.startTime){this.now=this.end,this.pos=1,this.update(),t=a[this.prop]=!0;for(r in a)a[r]!==!0&&(t=!1);t&&o&&o.call(e),e=!1}else this.pos=n.easing((i-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,i){var n,e=e||"",r=t.shift,o=e.indexOf("C")>-1,s=o?7:3,e=e.split(" "),i=[].concat(i),a=t.isArea,l=a?2:1,h=function(t){for(n=t.length;n--;)("M"===t[n]||"L"===t[n])&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])};if(o&&(h(e),h(i)),r<=i.length/s&&e.length===i.length)for(;r--;)i=i.slice(0,s).concat(i),a&&(i=i.concat(i.slice(i.length-s)));if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=e.slice().splice(e.length/l-s,s*l),o&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),[].splice.apply(e,[e.length/l,0].concat(r));return[e,i]}};var Ht=Q.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},Xt=Q.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},Yt=Q.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(e=i[t],e!==I&&null!==e)return e},Ut=Q.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};j=function(t,e,i){if(!Xt(e))return z.lang.invalidDate||"";var n,t=Yt(t,"%Y-%m-%d %H:%M:%S"),r=new F(e-6e4*(W&&W(e)||G||0)),o=r[X](),s=r[Y](),a=r[U](),l=r[q](),h=r[V](),c=z.lang,u=c.weekdays,d=c.shortWeekdays,r=Ht({a:d?d[s]:u[s].substr(0,3),A:u[s],d:g(a),e:g(a,2," "),w:s,b:c.shortMonths[l],B:c.months[l],m:g(l+1),y:h.toString().substr(2,2),Y:h,H:g(o),k:o,I:g(o%12||12),l:o%12||12,M:g(r[H]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:g(r.getSeconds()),L:g(et(e%1e3),3)},Q.dateFormats);for(n in r)for(;t.indexOf("%"+n)!==-1;)t=t.replace("%"+n,"function"==typeof r[n]?r[n](e):r[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},B={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},Q.numberFormat=function(t,e,i,n){var o,s,t=+t||0,e=+e,a=z.lang,l=(t.toString().split(".")[1]||"").length,h=Math.abs(t);return e===-1?e=Math.min(l,20):Xt(e)||(e=2),o=String(r(h.toFixed(e))),s=o.length>3?o.length%3:0,i=Yt(i,a.decimalPoint),n=Yt(n,a.thousandsSep),t=t<0?"-":"",t+=s?o.substr(0,s)+n:"",t+=o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n),e&&(n=Math.abs(h-o+Math.pow(10,-Math.max(e,l)-1)),t+=i+n.toFixed(e).slice(2)),t},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},Ot=function(e,i){var n;return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-Ot(e,"padding-left")-Ot(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-Ot(e,"padding-top")-Ot(e,"padding-bottom"):(n=t.getComputedStyle(e,void 0))&&r(n.getPropertyValue(i))},Lt=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},Dt=function(t,e){return[].filter.call(t,e)},Nt=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},Rt=function(e){var i=J.documentElement,e=e.getBoundingClientRect();return{top:e.top+(t.pageYOffset||i.scrollTop)-(i.clientTop||0),left:e.left+(t.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},Gt=function(t){for(var e=Wt.length;e--;)Wt[e].elem===t&&(Wt[e].stopped=!0)},It=function(t,e){return Array.prototype.forEach.call(t,e)},zt=function(e,i,n){function r(i){i.target=i.srcElement||t,n.call(e,i)}var o=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=r,e.attachEvent("on"+i,r)),o[i]||(o[i]=[]),o[i].push(n)},jt=function(t,e,i){function n(e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.attachEvent&&(i=t.hcEventsIE[i.toString()],t.detachEvent("on"+e,i))}function r(){var i,r,o;if(t.nodeName)for(o in e?(i={},i[e]=!0):i=a,i)if(a[o])for(r=a[o].length;r--;)n(o,a[o][r])}var o,s,a=t.hcEvents;a&&(e?(o=a[e]||[],i?(s=Lt(i,o),s>-1&&(o.splice(s,1),a[e]=o),n(e,i)):(r(),a[e]=[])):(r(),t.hcEvents={}))},Bt=function(t,e,i,n){var r;r=t.hcEvents;var o,s,i=i||{};if(J.createEvent&&(t.dispatchEvent||t.fireEvent))r=J.createEvent("Events"),r.initEvent(e,!0,!0),r.target=t,Ht(r,i),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(e,r);else if(r)for(r=r[e]||[],o=r.length,i.preventDefault||(i.preventDefault=function(){i.defaultPrevented=!0}),i.target=t,i.type||(i.type=e),e=0;e<o;e++)s=r[e],s.call(t,i)===!1&&i.preventDefault();n&&!i.defaultPrevented&&n(i)},Ft=function(t,e,r){var o,a,l,h,c="";s(r)||(o=arguments,r={duration:o[2],easing:o[3],complete:o[4]}),Xt(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=n(e);for(h in e)l=new i(t,r,h),a=null,"d"===h?(l.paths=l.initPath(t,t.d,e.d),l.toD=e.d,o=0,a=1):t.attr?o=t.attr(h):(o=parseFloat(Ot(t,h))||0,"opacity"!==h&&(c="px")),a||(a=e[h]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),l.run(o,a,c)},t.jQuery&&(t.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(Q[o(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):Pt[c(this[0],"data-highcharts-chart")]}),J&&!J.defaultView&&(Ot=function(t,e){var i;return i={width:"clientWidth",height:"clientHeight"}[e],t.style[e]?r(t.style[e]):("opacity"===e&&(e="filter"),i?(t.style.zoom=1,Math.max(t[i]-2*Ot(t,"padding"),0)):(i=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===i?1:r(i)))}),Array.prototype.forEach||(It=function(t,e){for(var i=0,n=t.length;i<n;i++)if(e.call(t[i],t[i],i,t)===!1)return i}),Array.prototype.indexOf||(Lt=function(t,e){var i,n=0;if(e)for(i=e.length;n<i;n++)if(e[n]===t)return n;return-1}),Array.prototype.filter||(Dt=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)e(t[n],n)&&i.push(t[n]);return i}),Q.Fx=i,Q.inArray=Lt,Q.each=It,Q.grep=Dt,Q.offset=Rt,Q.map=Nt,Q.addEvent=zt,Q.removeEvent=jt,Q.fireEvent=Bt,Q.animate=Ft,Q.animObject=S,Q.stop=Gt,z={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/maps/4.2.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":Q.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:bt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:yt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var qt=z.plotOptions,Vt=qt.line;T(),C.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[r(t[1],16),r(t[2],16),r(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],init:function(t){var e,i,n,r;if((this.input=t)&&t.stops)this.stops=Nt(t.stops,function(t){return new C(t[1])});else for(n=this.parsers.length;n--&&!i;)r=this.parsers[n],(e=r.regex.exec(t))&&(i=r.parse(e));this.rgba=i||[]},get:function(t){var e,i=this.input,r=this.rgba;return this.stops?(e=n(i),e.stops=[].concat(e.stops),It(this.stops,function(i,n){e.stops[n]=[e.stops[n][0],i.get(t)]})):e=r&&Xt(r[0])?"rgb"===t||!t&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===t?r[3]:"rgba("+r.join(",")+")":i,e},brighten:function(t){var e,i=this.rgba;if(this.stops)It(this.stops,function(e){e.brighten(t)});else if(Xt(t)&&0!==t)for(e=0;e<3;e++)i[e]+=r(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},A.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(t,e){this.element="span"===e?f(e):J.createElementNS(vt,e),this.renderer=t},animate:function(t,e,i){return e=Yt(e,this.renderer.globalAnimation,!0),Gt(this),e?(i&&(e.complete=i),Ft(this,t,e)):this.attr(t,null,i),this},colorGradient:function(t,e,i){var r,o,s,l,c,u,d,p,f,m,g,y,v=this.renderer,b=[];if(t.linearGradient?o="linearGradient":t.radialGradient&&(o="radialGradient"),o){s=t[o],c=v.gradients,d=t.stops,m=i.radialReference,a(s)&&(t[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!h(s.gradientUnits)&&(l=s,s=n(s,v.getRadialAttr(m,l),{gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&b.push(g,s[g]);for(g in d)b.push(d[g]);b=b.join(","),c[b]?m=c[b].attr("id"):(s.id=m="highcharts-"+Mt++,c[b]=u=v.createElement(o).attr(s).add(v.defs),u.radAttr=l,u.stops=[],It(d,function(t){0===t[1].indexOf("rgba")?(r=C(t[1]),p=r.get("rgb"),f=r.get("a")):(p=t[1],f=1),t=v.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(u),u.stops.push(t)})),y="url("+v.url+"#"+m+")",i.setAttribute(e,y),i.gradient=b,t.toString=function(){return y}}},applyTextShadow:function(t){var e,i=this.element,n=t.indexOf("contrast")!==-1,o={},s=this.renderer.forExport,a=s||i.style.textShadow!==I&&!pt;n&&(o.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(mt||s)&&(o.textRendering="geometricPrecision"),a?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(i.getElementsByTagName("tspan")),It(t.split(/\s?,\s?/g),function(t){var n,o,s=i.firstChild,t=t.split(" ");n=t[t.length-1],(o=t[t.length-2])&&It(e,function(t,e){var a;0===e&&(t.setAttribute("x",i.getAttribute("x")),e=i.getAttribute("y"),t.setAttribute("y",e||0),null===e&&i.setAttribute("y",0)),a=t.cloneNode(1),c(a,{"class":"highcharts-text-shadow",fill:n,stroke:n,"stroke-opacity":1/rt(r(o),3),"stroke-width":o,"stroke-linejoin":"round"}),i.insertBefore(a,s)})}))},attr:function(t,e,i){var n,r,o,s=this.element,a=this;if("string"==typeof t&&e!==I&&(n=t,t={},t[n]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(n in t)e=t[n],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(r||(this.symbolAttr(t),r=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||(o=this[n+"Setter"]||this._defaultSetter,o.call(this,e,n,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),a},updateShadows:function(t,e,i){for(var n=this.shadows,r=n.length;r--;)i.call(n[r],"height"===t?Math.max(e-(n[r].cutHeight||0),0):"d"===t?this.d:e,t,n[r])},addClass:function(t){var e=this.element,i=c(e,"class")||"";return i.indexOf(t)===-1&&c(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;It("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=Yt(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t){var e,i,n={},r=this.strokeWidth||0;i=et(r)%2/2,t.x=it(t.x||this.x||0)+i,t.y=it(t.y||this.y||0)+i,t.width=it((t.width||this.width||0)-2*i),t.height=it((t.height||this.height||0)-2*i),t.strokeWidth=r;for(e in t)this[e]!==t[e]&&(this[e]=n[e]=t[e]);return n},css:function(t){var e,i,n=this.styles,o={},s=this.element,a="";if(e=!n,t&&t.color&&(t.fill=t.color),n)for(i in t)t[i]!==n[i]&&(o[i]=t[i],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&r(t.width)||this.textWidth,n&&(t=Ht(n,o)),this.styles=t,e&&(wt||!bt&&this.renderer.forExport)&&delete t.width,pt&&!bt)p(this.element,t);else{n=function(t,e){return"-"+e.toLowerCase()};for(i in t)a+=i.replace(/([A-Z])/g,n)+":"+t[i]+";";c(s,"style",a)}e&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;return R&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=F.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(ut.indexOf("Android")===-1||F.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(h(i)||h(n))&&t.push("scale("+Yt(i,1)+" "+Yt(n,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,r,s,a,h={};return r=this.renderer,s=r.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||o(i))&&(this.alignTo=n=i||"renderer",l(s,this),s.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=Yt(i,r[n],r),n=t.align,r=t.verticalAlign,s=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),"right"!==n&&"center"!==n||(s+=(i.width-(t.width||0))/{right:1,center:2}[n]),h[e?"translateX":"x"]=et(s),"bottom"!==r&&"middle"!==r||(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),h[e?"translateY":"y"]=et(a),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(t,e){var i,n,r,o,s=this.renderer,a=this.element,l=this.styles;n=this.textStr;var h,c,u,d=a.style,p=s.cache,f=s.cacheKeys;if(r=Yt(e,this.rotation),o=r*ct,n!==I&&(u=["",r||0,l&&l.fontSize,a.style.width].join(","),u=""===n||Ct.test(n)?"num:"+n.toString().length+u:n+u),u&&!t&&(i=p[u]),!i){if(a.namespaceURI===vt||s.forExport){try{c=this.fakeTS&&function(t){It(a.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},gt&&d.textShadow?(h=d.textShadow,d.textShadow=""):c&&c("none"),i=a.getBBox?Ht({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},h?d.textShadow=h:c&&c("")}catch(m){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(s.isSVG&&(s=i.width,n=i.height,pt&&l&&"11px"===l.fontSize&&"16.9"===n.toPrecision(3)&&(i.height=n=14),r&&(i.width=st(n*lt(o))+st(s*at(o)),i.height=st(n*at(o))+st(s*lt(o)))),u){for(;f.length>250;)delete p[f.shift()];p[u]||f.push(u),p[u]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},r=i.shadows,o=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,Gt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),r&&It(r,function(t){i.safeRemoveChild(t)});o&&o.div&&0===o.div.childNodes.length;)n=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=n;i.alignTo&&l(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,r,o,s,a,l,h=[],u=this.element;if(t){for(s=Yt(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+Yt(t.offsetX,1)+", "+Yt(t.offsetY,1)+")",n=1;n<=s;n++)r=u.cloneNode(0),o=2*s+1-2*n,c(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":o,transform:"translate"+l,fill:"none"}),i&&(c(r,"height",rt(c(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):u.parentNode.insertBefore(r,u),h.push(r);this.shadows=h}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Yt(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=r(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=J.createElementNS(vt,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(J.createTextNode(String(Yt(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,n,o,s=this.renderer,a=this.parentGroup,s=(a||s).element||s.box,l=this.element;i=this.added;var c;if(h(t)&&(l.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&a&&(a.handleZ=!0),a=s.childNodes,c=0;c<a.length&&!o;c++)i=a[c],n=i.zIndex,i!==l&&(r(n)>t||!h(t)&&h(n))&&(s.insertBefore(l,i),o=!0);o||s.appendChild(l)}return o},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var Kt=function(){this.init.apply(this,arguments)};Kt.prototype={Element:A,init:function(e,i,n,r,o,s){var a,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));a=r.element,e.appendChild(a),e.innerHTML.indexOf("xmlns")===-1&&c(a,"xmlns",vt),this.isSVG=!0,this.box=a,this.boxWrapper=r,this.alignedObjects=[],this.url=(gt||mt)&&J.getElementsByTagName("base").length?t.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(J.createTextNode("Created with Highmaps 4.2.5")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(i,n,!1);var l;gt&&e.getBoundingClientRect&&(this.subPixelFix=i=function(){p(e,{left:0,top:0}),l=e.getBoundingClientRect(),p(e,{left:nt(l.left)-l.left+"px",top:nt(l.top)-l.top+"px"})},i(),zt(t,"resize",i))},getStyle:function(t){return this.style=Ht({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},
destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&jt(t,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,i,n,o=t.element,s=this,a=s.forExport,l=Yt(t.textStr,"").toString(),h=l.indexOf("<")!==-1,u=o.childNodes,d=c(o,"x"),f=t.styles,m=t.textWidth,g=f&&f.lineHeight,y=f&&f.textShadow,v=f&&"ellipsis"===f.textOverflow,b=u.length,x=m&&!t.added&&this.box,w=function(t){return g?r(g):s.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:f&&f.fontSize||s.style.fontSize||12,t).h},k=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};b--;)o.removeChild(u[b]);h||y||v||l.indexOf(" ")!==-1?(e=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,x&&x.appendChild(o),l=h?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],l=Dt(l,function(t){return""!==t}),It(l,function(r,l){var h,u=0,r=r.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");h=r.split("|||"),It(h,function(r){if(""!==r||1===h.length){var g,y={},b=J.createElementNS(vt,"tspan");if(e.test(r)&&(g=r.match(e)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(b,"style",g)),i.test(r)&&!a&&(c(b,"onclick",'location.href="'+r.match(i)[1]+'"'),p(b,{cursor:"pointer"})),r=k(r.replace(/<(.|\n)*?>/g,"")||" ")," "!==r){if(b.appendChild(J.createTextNode(r)),u?y.dx=0:l&&null!==d&&(y.x=d),c(b,y),o.appendChild(b),!u&&l&&(!bt&&a&&p(b,{display:"block"}),c(b,"dy",w(b))),m){for(var x,M,y=r.replace(/([^\^])-/g,"$1- ").split(" "),_=h.length>1||l||y.length>1&&"nowrap"!==f.whiteSpace,P=[],S=w(b),T=1,C=t.rotation,A=r,E=A.length;(_||v)&&(y.length||P.length);)t.rotation=0,x=t.getBBox(!0),M=x.width,!bt&&s.forExport&&(M=s.measureSpanWidth(b.firstChild.data,t.styles)),x=M>m,void 0===n&&(n=x),v&&n?(E/=2,""===A||!x&&E<.5?y=[]:(A=r.substring(0,A.length+(x?-1:1)*nt(E)),y=[A+(m>3?"…":"")],b.removeChild(b.firstChild))):x&&1!==y.length?(b.removeChild(b.firstChild),P.unshift(y.pop())):(y=P,P=[],y.length&&(T++,b=J.createElementNS(vt,"tspan"),c(b,{dy:S,x:d}),g&&c(b,"style",g),o.appendChild(b)),M>m&&(m=M)),y.length&&b.appendChild(J.createTextNode(y.join(" ").replace(/- /g,"-")));t.rotation=C}u++}}})}),n&&t.attr("title",t.textStr),x&&x.removeChild(o),y&&t.applyTextShadow&&t.applyTextShadow(y)):o.appendChild(J.createTextNode(k(l)))},getContrast:function(t){return t=C(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(t,e,i,r,o,s,a,l,h){var c,u,d,p,f,m,g=this.label(t,e,i,h,null,null,null,null,"button"),y=0,t={x1:0,y1:0,x2:0,y2:1},o=n({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return d=o.style,delete o.style,s=n(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),p=s.style,delete s.style,a=n(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=n(o,{style:{color:"#CCC"}},l),m=l.style,delete l.style,zt(g.element,pt?"mouseover":"mouseenter",function(){3!==y&&g.attr(s).css(p)}),zt(g.element,pt?"mouseout":"mouseleave",function(){3!==y&&(c=[o,s,a][y],u=[d,p,f][y],g.attr(c).css(u))}),g.setState=function(t){(g.state=y=t)?2===t?g.attr(a).css(f):3===t&&g.attr(l).css(m):g.attr(o).css(d)},g.on("click",function(t){3!==y&&r.call(g,t)}).attr(o).css(Ht({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=et(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=et(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return a(t)?e.d=t:s(t)&&Ht(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=s(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,n,r,o){return s(t)&&(e=t.y,i=t.r,n=t.innerR,r=t.start,o=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:r||0,end:o||0}),t.r=i,t},rect:function(t,e,i,n,r,o){var r=s(t)?t.r:r,a=this.createElement("rect"),t=s(t)?t:t===I?{}:{x:t,y:e,width:rt(i,0),height:rt(n,0)};return o!==I&&(a.strokeWidth=o,t=a.crisp(t)),r&&(t.r=r),a.rSetter=function(t,e,i){c(i,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,r=n.length;for(this.width=t,this.height=e,this.boxWrapper[Yt(i,!0)?"animate":"attr"]({width:t,height:e});r--;)n[r].align()},g:function(t){var e=this.createElement("g");return h(t)?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,i,n,r){var o={preserveAspectRatio:"none"};return arguments.length>1&&Ht(o,{x:e,y:i,width:n,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,r,o){var s,a,l,h=this,c=this.symbols[t],c=c&&c(et(e),et(i),n,r,o),u=/^url\((.*?)\)$/;return c?(s=this.path(c),Ht(s,{symbolName:t,x:e,y:i,width:n,height:r}),o&&Ht(s,o)):u.test(t)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(et((n-e[0])/2),et((r-e[1])/2)))},a=t.match(u)[1],t=kt[a]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(a).attr({x:e,y:i}),s.isImg=!0,t?l(s,t):(s.attr({width:0,height:0}),f("img",{onload:function(){0===this.width&&(p(this,{position:"absolute",top:"-999em"}),J.body.appendChild(this)),l(s,kt[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),h.imgCount--,!h.imgCount&&Pt[h.chartIndex].onload&&Pt[h.chartIndex].onload()},src:a}),this.imgCount++)),s},symbols:{circle:function(t,e,i,n){var r=.166*i;return["M",t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,i=r.r||i||n,s=r.end-.001,n=r.innerR,a=r.open,l=at(o),h=lt(o),c=at(s),s=lt(s),r=r.end-o<ht?0:1;return["M",t+i*l,e+i*h,"A",i,i,0,r,1,t+i*c,e+i*s,a?"M":"L",t+n*c,e+n*s,"A",n,n,0,r,0,t+n*l,e+n*h,a?"":"Z"]},callout:function(t,e,i,n,r){var o,s=ot(r&&r.r||0,i,n),a=s+6,l=r&&r.anchorX,r=r&&r.anchorY;return o=["M",t+s,e,"L",t+i-s,e,"C",t+i,e,t+i,e,t+i,e+s,"L",t+i,e+n-s,"C",t+i,e+n,t+i,e+n,t+i-s,e+n,"L",t+s,e+n,"C",t,e+n,t,e+n,t,e+n-s,"L",t,e+s,"C",t,e,t,e,t+s,e],l&&l>i&&r>e+a&&r<e+n-a?o.splice(13,3,"L",t+i,r-6,t+i+6,r,t+i,r+6,t+i,e+n-s):l&&l<0&&r>e+a&&r<e+n-a?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+s):r&&r>n&&l>t+a&&l<t+i-a?o.splice(23,3,"L",l+6,e+n,l,e+n+6,l-6,e+n,t+s,e+n):r&&r<0&&l>t+a&&l<t+i-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-s,e),o}},clipRect:function(t,e,i,n){var r="highcharts-"+Mt++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),t=this.rect(t,e,i,n,0).add(o);return t.id=r,t.clipPath=o,t.count=0,t},text:function(t,e,i,n){var r=wt||!bt&&this.forExport,o={};return!n||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),i&&(o.y=Math.round(i)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,r,o=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(r=0;r<o.length;r++)n=o[r],n.getAttribute(e)===s&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(e,i){var n,o,e=e||this.style.fontSize;return!e&&i&&t.getComputedStyle&&(i=i.element||i,e=(n=t.getComputedStyle(i,""))&&n.fontSize),e=/px/.test(e)?r(e):/em/.test(e)?12*parseFloat(e):12,n=e<24?e+3:et(1.2*e),o=et(.8*n),{h:n,b:o,f:e}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=rt(n*at(e*ct),4)),{x:-t/3*lt(e*ct),y:n}},label:function(t,e,i,r,o,s,a,l,c){var u,d,p,f,m,g,y,v,b,x,w,k=this,M=k.g(c),_=k.text("",0,0,a).attr({zIndex:1}),P=0,S=3,T=0,C=0,E={};b=function(){var t,e;t=_.element.style,d=(void 0===p||void 0===f||M.styles.textAlign)&&h(_.textStr)&&_.getBBox(),M.width=(p||d.width||0)+2*S+T,M.height=(f||d.height||0)+2*S,y=S+k.fontMetrics(t&&t.fontSize,_).b,v&&(u||(t=C,e=(l?-y:0)+C,M.box=u=r?k.symbol(r,t,e,M.width,M.height,E):k.rect(t,e,M.width,M.height,0,E["stroke-width"]),u.isImg||u.attr("fill","none"),u.add(M)),u.isImg||u.attr(Ht({width:et(M.width),height:et(M.height)},E)),E=null)},x=function(){var t,e=M.styles,e=e&&e.textAlign,i=T+S;t=l?0:y,h(p)&&d&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(p-d.width)),i===_.x&&t===_.y||(_.attr("x",i),t!==I&&_.attr("y",t)),_.x=i,_.y=t},w=function(t,e){u?u.attr(t,e):E[t]=e},M.onAdd=function(){_.add(M),M.attr({text:t||0===t?t:"",x:e,y:i}),u&&h(o)&&M.attr({anchorX:o,anchorY:s})},M.widthSetter=function(t){p=t},M.heightSetter=function(t){f=t},M.paddingSetter=function(t){h(t)&&t!==S&&(S=M.padding=t,x())},M.paddingLeftSetter=function(t){h(t)&&t!==T&&(T=t,x())},M.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==P&&(P=t,d&&M.attr({x:m}))},M.textSetter=function(t){t!==I&&_.textSetter(t),b(),x()},M["stroke-widthSetter"]=function(t,e){t&&(v=!0),C=t%2/2,w(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"fill"===e&&t&&(v=!0),w(e,t)},M.anchorXSetter=function(t,e){o=t,w(e,et(t)-C-m)},M.anchorYSetter=function(t,e){s=t,w(e,t-g)},M.xSetter=function(t){M.x=t,P&&(t-=P*((p||d.width)+2*S)),m=et(t),M.attr("translateX",m)},M.ySetter=function(t){g=M.y=et(t),M.attr("translateY",g)};var O=M.css;return Ht(M,{css:function(t){if(t){var e={},t=n(t);It(M.textProps,function(i){t[i]!==I&&(e[i]=t[i],delete t[i])}),_.css(e)}return O.call(M,t)},getBBox:function(){return{width:d.width+2*S,height:d.height+2*S,x:d.x-S,y:d.y-S}},shadow:function(t){return u&&u.shadow(t),M},destroy:function(){jt(M.element,"mouseenter"),jt(M.element,"mouseleave"),_&&(_=_.destroy()),u&&(u=u.destroy()),A.prototype.destroy.call(M),M=k=b=x=w=null}})}},D=Kt,Ht(A.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=Ht(this.styles,t),p(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,n=this.translateY||0,o=this.x||0,s=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=this.shadows,u=this.styles;if(p(e,{marginLeft:i,marginTop:n}),c&&It(c,function(t){p(t,{marginLeft:i+1,marginTop:n+1})}),this.inverted&&It(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var c=this.rotation,d=r(this.textWidth),f=u&&u.whiteSpace,m=[c,a,e.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(u=t.fontMetrics(e.style.fontSize).b,h(c)&&this.setSpanRotation(c,l,u),e.offsetWidth>d&&/[ \-]/.test(e.textContent||e.innerText)?(p(e,{width:d+"px",display:"block",whiteSpace:f||"normal"}),this.hasTextWidth=!0):this.hasTextWidth&&(p(e,{width:"",display:"",whiteSpace:f||"nowrap"}),this.hasTextWidth=!1),this.getSpanCorrection(this.hasTextWidth?d:e.offsetWidth,u,l,c,a)),p(e,{left:o+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),mt&&(u=e.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},r=pt?"-ms-transform":mt?"-webkit-transform":gt?"MozTransform":dt?"-o-transform":"";n[r]=n.transform="rotate("+t+"deg)",n[r+(gt?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",p(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),Ht(Kt.prototype,{html:function(t,e,i){var n=this.createElement("span"),r=n.element,o=n.renderer,s=o.isSVG,a=function(t,e){It(["opacity","visibility"],function(i){Ut(t,i+"Setter",function(t,i,n,r){t.call(this,i,n,r),e[n]=i})})};return n.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t,n.htmlUpdateTransform()},s&&a(n,n.element.style),n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:et(e),y:et(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",n.css=n.htmlCss,s&&(n.add=function(t){var e,i=o.box.parentNode,s=[];if(this.parentGroup=t){if(e=t.div,!e){for(;t;)s.push(t),t=t.parentGroup;It(s.reverse(),function(t){var n,r=c(t.element,"class");r&&(r={className:r}),e=t.div=t.div||f(Tt,r,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",opacity:t.opacity},e||i),n=e.style,Ht(t,{translateXSetter:function(e,i){n.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+"px",t[i]=e,t.doTransform=!0}}),a(t,n)})}}else e=i;return e.appendChild(r),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var Zt,$t;bt||wt||($t={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],r=e===Tt;("shape"===e||r)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",r?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=r||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=f(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,r=t&&t.inverted,n=t?t.element||t:n;return t&&(this.parentGroup=t),r&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=at(t*ct),i=lt(t*ct);p(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,n,r){var o,s=n?at(n*ct):1,a=n?lt(n*ct):0,l=Yt(this.elemHeight,this.element.offsetHeight);this.xCorr=s<0&&-t,this.yCorr=a<0&&-l,o=s*a<0,this.xCorr+=a*e*(o?1-i:i),this.yCorr-=s*e*(n?o?i:1-i:1),r&&"left"!==r&&(this.xCorr-=t*i*(s<0?-1:1),n&&(this.yCorr-=l*i*(a<0?-1:1)),p(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)Xt(t[e])?i[e]=et(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,l(e,i),e.push(i),i.destroyClip=function(){l(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:ft?"inherit":"rect(auto)"}),i.css(t)},css:A.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&M(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(e,i){return this.element["on"+e]=function(){var e=t.event;e.target=e.srcElement,i(e)},this},cutOffPath:function(t,e){var i,t=t.split(/[ ,]/);return i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=r(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var n,o,s,a,l,h,c,u=[],d=this.element,p=this.renderer,m=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(h=Yt(t.width,3),c=(t.opacity||.15)/h,n=1;n<=3;n++)a=2*h+1-2*n,i&&(l=this.cutOffPath(g.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=f(p.prepVML(s),null,{left:r(m.left)+Yt(t.offsetX,1),top:r(m.top)+Yt(t.offsetY,1)}),i&&(o.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',c*n,'"/>'],f(p.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),u.push(o);this.shadows=u}return this},updateShadows:_t,setAttr:function(t,e){ft?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||f(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows,t=t||[];if(this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){f(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:_t,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-et(lt(t*ct)+1)+"px",i.top=et(at(t*ct))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,Xt(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&It(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,ft||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},$t["stroke-opacitySetter"]=$t["fill-opacitySetter"],Q.VMLElement=$t=m(A,$t),$t.prototype.ySetter=$t.prototype.widthSetter=$t.prototype.heightSetter=$t.prototype.xSetter,$t={Element:$t,isIE8:ut.indexOf("MSIE 8.0")>-1,init:function(t,e,i,n){var r;if(this.alignedObjects=[],n=this.createElement(Tt).css(Ht(this.getStyle(n),{position:"relative"})),r=n.element,t.appendChild(n.element),this.isVML=!0,this.box=r,this.boxWrapper=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),!J.namespaces.hcv){J.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{J.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){J.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var r=this.createElement(),o=s(t);return Ht(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:i)-1,height:(o?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,t=t.inverted,n=this.top-("shape"===i?e.offsetTop:0),r=this.left,e=r+this.width,o=n+this.height,n={clip:"rect("+et(t?r:n)+"px,"+et(t?o:e)+"px,"+et(t?e:o)+"px,"+et(t?n:r)+"px)"};return!t&&ft&&"DIV"===i&&Ht(n,{width:e+"px",height:o+"px"}),n},updateClipping:function(){It(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(t,e,i,n){var r,o,s,a=this,l=/^rgba/,h="none";if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var c,u,d,p,m,g,y,v,b=t.linearGradient||t.radialGradient,x="",t=t.stops,w=[],k=function(){o=['<fill colors="'+w.join(",")+'" opacity="',m,'" o:opacity2="',p,'" type="',s,'" ',x,'focus="100%" method="any" />'],f(a.prepVML(o),null,null,e)};if(d=t[0],v=t[t.length-1],d[0]>0&&t.unshift([0,d[1]]),v[0]<1&&t.push([1,v[1]]),It(t,function(t,e){l.test(t[1])?(r=C(t[1]),c=r.get("rgb"),u=r.get("a")):(c=t[1],u=1),w.push(100*t[0]+"% "+c),e?(m=u,g=c):(p=u,y=c)}),"fill"===i)if("gradient"===s)i=b.x1||b[0]||0,t=b.y1||b[1]||0,d=b.x2||b[2]||0,b=b.y2||b[3]||0,x='angle="'+(90-180*tt.atan((b-t)/(d-i))/ht)+'"',k();else{var M,h=b.r,_=2*h,P=2*h,S=b.cx,T=b.cy,A=e.radialReference,h=function(){A&&(M=n.getBBox(),S+=(A[0]-M.x)/M.width-.5,T+=(A[1]-M.y)/M.height-.5,_*=A[2]/M.width,P*=A[2]/M.height),x='src="'+z.global.VMLRadialGradientURL+'" size="'+_+","+P+'" origin="0.5,0.5" position="'+S+","+T+'" color2="'+y+'" ',k()};n.added?h():n.onAdd=h,h=g}else h=c}else l.test(t)&&"IMG"!==e.tagName?(r=C(t),n[i+"-opacitySetter"](r.get("a"),i,e),h=r.get("rgb")):(h=e.getElementsByTagName(i),h.length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:Kt.prototype.html,path:function(t){var e={coordsize:"10 10"};return a(t)?e.d=t:s(t)&&Ht(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");return s(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Tt).attr(e)},image:function(t,e,i,n,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):Kt.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this,n=e.style,o="IMG"===t.tagName&&t.style;p(t,{flip:"x",left:r(n.width)-(o?r(o.top):1),top:r(n.height)-(o?r(o.left):1),rotation:-90}),It(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,r){var o=r.start,s=r.end,a=r.r||i||n,i=r.innerR,n=at(o),l=lt(o),h=at(s),c=lt(s);return s-o===0?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*h,e+a*c],r.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*c,t+i*n,e+i*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,r){return r&&(i=n=2*r.r),r&&r.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){return Kt.prototype.symbols[h(r)&&r.r?"callout":"square"].call(0,t,e,i,n,r)}}},Q.VMLRenderer=Zt=function(){this.init.apply(this,arguments)},Zt.prototype=n(Kt.prototype,$t),D=Zt),Kt.prototype.measureSpanWidth=function(t,e){var i,n=J.createElement("span");return i=J.createTextNode(t),n.appendChild(i),p(n,e),this.box.appendChild(n),i=n.offsetWidth,M(n),i};var Qt;wt&&(Q.CanVGRenderer=$t=function(){vt="http://www.w3.org/1999/xhtml"},$t.prototype.symbols={},Qt=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){if(0===e.length){var r=J.getElementsByTagName("head")[0],o=J.createElement("script");o.type="text/javascript",o.src=n,o.onload=t,r.appendChild(o)}e.push(i)}}}(),D=$t),E.prototype={addLabel:function(){var t,e=this.axis,i=e.options,r=e.chart,o=e.categories,s=e.names,a=this.pos,l=i.labels,c=e.tickPositions,u=a===c[0],d=a===c[c.length-1],s=o?Yt(o[a],s[a],a):a,o=this.label,c=c.info;e.isDatetimeAxis&&c&&(t=i.dateTimeLabelFormats[c.higherRanks[a]||c.unitName]),this.isFirst=u,this.isLast=d,i=e.labelFormatter.call({axis:e,chart:r,isFirst:u,isLast:d,dateTimeLabelFormat:t,value:e.isLog?_(e.lin2log(s)):s}),h(o)?o&&o.attr({text:i}):(this.labelLength=(this.label=o=h(i)&&l.enabled?r.renderer.text(i,0,0,l.useHTML).css(n(l.style)).add(e.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,r=i.chart.chartWidth,o=i.chart.spacing,s=Yt(i.labelLeft,ot(i.pos,o[3])),o=Yt(i.labelRight,rt(i.pos+i.len,r-o[1])),a=this.label,l=this.rotation,h={left:0,center:.5,right:1}[i.labelAlign],c=a.getBBox().width,u=i.getSlotWidth(),d=u,p=1,f={};l?l<0&&n-h*c<s?e=et(n/at(l*ct)-s):l>0&&n+h*c>o&&(e=et((r-n)/at(l*ct))):(r=n+(1-h)*c,n-h*c<s?d=t.x+d*(1-h)-s:r>o&&(d=o-t.x+d*h,p=-1),d=ot(u,d),d<u&&"center"===i.labelAlign&&(t.x+=p*(u-d-h*(u-ot(c,d)))),(c>d||i.autoRotation&&a.styles.width)&&(e=d)),e&&(f.width=e,i.options.labels.style.textOverflow||(f.textOverflow="ellipsis"),a.css(f))},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,i,n,r,o,s,a){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,p=l.tickRotCorr||{x:0,y:0},f=r.y;return h(f)||(f=0===l.side?i.rotation?-8:-i.getBBox().height:2===l.side?p.y+8:at(i.rotation*ct)*(p.y-i.getBBox(!1,0).height/2)),t=t+r.x+p.x-(o&&n?o*c*(u?-1:1):0),e=e+f-(o&&!n?o*c*(u?1:-1):0),d&&(i=s/(a||1)%d,l.opposite&&(i=d-i-1),e+=i*(l.labelOffset/d)),{x:t,y:et(e)}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e,i){var n=this.axis,r=n.options,o=n.chart.renderer,s=n.horiz,a=this.type,l=this.label,h=this.pos,c=r.labels,u=this.gridLine,d=a?a+"Grid":"grid",p=a?a+"Tick":"tick",f=r[d+"LineWidth"],m=r[d+"LineColor"],g=r[d+"LineDashStyle"],d=n.tickSize(p),p=r[p+"Color"],y=this.mark,v=c.step,b=!0,x=n.tickmarkOffset,w=this.getPosition(s,h,x,e),k=w.x,w=w.y,M=s&&k===n.pos+n.len||!s&&w===n.pos?-1:1,i=Yt(i,1);this.isActive=!0,f&&(h=n.getPlotLinePath(h+x,f*M,e,!0),u===I&&(u={stroke:m,"stroke-width":f},g&&(u.dashstyle=g),a||(u.zIndex=1),e&&(u.opacity=0),this.gridLine=u=f?o.path(h).attr(u).add(n.gridGroup):null),!e&&u&&h&&u[this.isNew?"attr":"animate"]({d:h,opacity:i})),d&&(n.opposite&&(d[0]=-d[0]),a=this.getMarkPath(k,w,d[0],d[1]*M,s,o),y?y.animate({d:a,opacity:i}):this.mark=o.path(a).attr({stroke:p,"stroke-width":d[1],opacity:i}).add(n.axisGroup)),l&&Xt(k)&&(l.xy=w=this.getLabelPosition(k,w,l,s,c,x,t,v),this.isFirst&&!this.isLast&&!Yt(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Yt(r.showLastLabel,1)?b=!1:s&&!n.isRadial&&!c.step&&!c.rotation&&!e&&0!==i&&this.handleOverflow(w),v&&t%v&&(b=!1),b&&Xt(w.y)?(w.opacity=i,l[this.isNew?"attr":"animate"](w),this.isNew=!1):l.attr("y",-9999))},destroy:function(){k(this,this.axis)}};var Jt=Q.Axis=function(){this.init.apply(this,arguments)};Jt.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Q.numberFormat(this.total,-1)},style:n(qt.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var i=e.isX;this.chart=t,this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=this.options,r=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=n.reversed,this.visible=n.visible!==!1,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===r,this.names=this.names||[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=h(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Yt(n.crosshair,u(t.options.tooltip.crosshairs)[i?0:1],!1);var o,n=this.options.events;Lt(this,t.axes)===-1&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===I&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in n)zt(this,o,n[o]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(t){this.options=n(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],n(z[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,r=this.dateTimeLabelFormat,o=z.lang.numericSymbols,s=o&&o.length,a=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(a)t=y(a,this);else if(n)t=i;else if(r)t=j(r,i);else if(s&&e>=1e3)for(;s--&&t===I;)n=Math.pow(1e3,s+1),e>=n&&10*i%n===0&&null!==o[s]&&(t=Q.numberFormat(i/n,-1)+o[s]);return t===I&&(t=st(i)>=1e4?Q.numberFormat(i,-1):Q.numberFormat(i,-1,I,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),It(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,r=i.options,o=r.threshold;t.hasVisibleSeries=!0,t.isLog&&o<=0&&(o=null),t.isXAxis?(r=i.xData,r.length&&(i=x(r),!Xt(i)&&!(i instanceof F)&&(r=Dt(r,function(t){return Xt(t)}),i=x(r)),t.dataMin=ot(Yt(t.dataMin,r[0]),i),t.dataMax=rt(Yt(t.dataMax,r[0]),w(r)))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,h(i)&&h(n)&&(t.dataMin=ot(Yt(t.dataMin,i),i),t.dataMax=rt(Yt(t.dataMax,n),n)),h(o)&&(t.threshold=o),r.softThreshold&&!t.isLog||(t.softThreshold=!1))}})},translate:function(t,e,i,n,r,o){var s=this.linkedParent||this,a=1,l=0,h=n?s.oldTransA:s.transA,n=n?s.oldMin:s.min,c=s.minPixelPadding,r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val;return h||(h=s.transA),i&&(a*=-1,l=s.len),s.reversed&&(a*=-1,l-=a*(s.sector||s.len)),e?(t=t*a+l,t-=c,t=t/h+n,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),"between"===o&&(o=.5),t=a*(t-n)*h+l+a*c+(Xt(o)?h*o*s.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var o,s,a,l=this.chart,h=this.left,c=this.top,u=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(n?t=ot(rt(e,t),i):a=!0),t},r=Yt(r,this.translate(t,null,null,i)),t=i=et(r+o);return o=s=et(u-r-o),Xt(r)?this.horiz?(o=c,s=u-this.bottom,t=i=p(t,h,h+this.width)):(t=h,i=d-this.right,o=s=p(o,c,c+this.height)):a=!0,a&&!n?null:l.renderer.crispLine(["M",t,o,"L",i,s],e||1)},getLinearTickPositions:function(t,e,i){var n,r=_(it(e/t)*t),o=_(nt(i/t)*t),s=[];if(e===i&&Xt(e))return[e];for(e=r;e<=o&&(s.push(e),e=_(e+t),e!==n);)n=e;return s},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,r=[],o=this.pointRangePadding||0;t=this.min-o;var o=this.max+o,s=o-t;if(s&&s/n<this.len/3)if(this.isLog)for(o=i.length,t=1;t<o;t++)r=r.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),t,o,e.startOfWeek));else for(i=t+(i[0]-t)%n;i<=o;i+=n)r.push(i);return 0!==r.length&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var t,e,i,n,r,o,s,a=this.options,l=this.min,c=this.max,u=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===I&&!this.isLog&&(h(a.min)||h(a.max)?this.minRange=null:(It(this.series,function(t){
for(r=t.xData,i=o=t.xIncrement?1:r.length-1;i>0;i--)n=r[i]-r[i-1],(e===I||n<e)&&(e=n)}),this.minRange=ot(5*e,this.dataMax-this.dataMin))),c-l<this.minRange&&(s=this.minRange,t=(s-c+l)/2,t=[l-t,Yt(a.min,l-t)],u&&(t[2]=this.dataMin),l=w(t),c=[l+s,Yt(a.max,l+s)],u&&(c[2]=this.dataMax),c=x(c),c-l<s&&(t[0]=c-s,t[1]=Yt(a.min,c-s),l=w(t))),this.min=l,this.max=c},getClosest:function(){var t;return It(this.series,function(e){var i=e.closestPointRange;!e.noSharedTooltip&&h(i)&&(t=h(t)?ot(t,i):i)}),t},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,r=i.axisPointRange||0,s=0,a=0,l=i.linkedParent,h=!!i.categories,c=i.transA,u=i.isXAxis;(u||h||r)&&(l?(s=l.minPointOffset,a=l.pointRangePadding):(e=i.getClosest(),It(i.series,function(t){var n=h?1:u?Yt(t.options.pointRange,e,0):i.axisPointRange||0,t=t.options.pointPlacement;r=rt(r,n),i.single||(s=rt(s,o(t)?0:n/2),a=rt(a,"on"===t?0:n))})),l=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=s*=l,i.pointRangePadding=a*=l,i.pointRange=ot(r,n),u&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.len/(n+a||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var i,n,r,o,s=this,a=s.chart,l=s.options,c=s.isLog,u=s.log2lin,d=s.isDatetimeAxis,p=s.isXAxis,f=s.isLinked,m=l.maxPadding,g=l.minPadding,y=l.tickInterval,b=l.tickPixelInterval,x=s.categories,w=s.threshold,k=s.softThreshold;!d&&!x&&!f&&this.getTickAmount(),r=Yt(s.userMin,l.min),o=Yt(s.userMax,l.max),f?(s.linkedParent=a[s.coll][l.linkedTo],a=s.linkedParent.getExtremes(),s.min=Yt(a.min,a.dataMin),s.max=Yt(a.max,a.dataMax),l.type!==s.linkedParent.options.type&&e(11,1)):(!k&&h(w)&&(s.dataMin>=w?(i=w,g=0):s.dataMax<=w&&(n=w,m=0)),s.min=Yt(r,i,s.dataMin),s.max=Yt(o,n,s.dataMax)),c&&(!t&&ot(s.min,Yt(s.dataMin,s.min))<=0&&e(10,1),s.min=_(u(s.min),15),s.max=_(u(s.max),15)),s.range&&h(s.max)&&(s.userMin=s.min=r=rt(s.min,s.minFromRange()),s.userMax=o=s.max,s.range=null),Bt(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),x||s.axisPointRange||s.usePercentage||f||!h(s.min)||!h(s.max)||!(u=s.max-s.min)||(!h(r)&&g&&(s.min-=u*g),!h(o)&&m&&(s.max+=u*m)),Xt(l.floor)&&(s.min=rt(s.min,l.floor)),Xt(l.ceiling)&&(s.max=ot(s.max,l.ceiling)),k&&h(s.dataMin)&&(w=w||0,!h(r)&&s.min<w&&s.dataMin>=w?s.min=w:!h(o)&&s.max>w&&s.dataMax<=w&&(s.max=w)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:f&&!y&&b===s.linkedParent.options.tickPixelInterval?y=s.linkedParent.tickInterval:Yt(y,this.tickAmount?(s.max-s.min)/rt(this.tickAmount-1,1):void 0,x?1:(s.max-s.min)*b/rt(s.len,b)),p&&!t&&It(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!y&&(s.tickInterval=rt(s.pointRange,s.tickInterval)),t=Yt(l.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!y&&s.tickInterval<t&&(s.tickInterval=t),d||c||y||(s.tickInterval=v(s.tickInterval,null,tt.pow(10,it(tt.log(s.tickInterval)/tt.LN10)),Yt(l.allowDecimals,!(s.tickInterval>.5&&s.tickInterval<5&&s.max>1e3&&s.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,r=i.tickPositioner,o=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&h(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!n&&!r&&this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&h(n)&&t.push((r+n)/2)},alignToOthers:function(){var t,e={},i=this.options;return this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&It(this.chart[this.coll],function(i){var n=i.options,n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!h(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=nt(this.len/i)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,r=e&&e.length;if(r<i){for(;e.length<i;)e.push(_(e[e.length-1]+t));this.transA*=(r-1)/(i-1),this.max=e[e.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(h(n)){for(t=i=e.length;t--;)(3===n&&t%2===1||n<=2&&t>0&&t<i-1)&&e.splice(t,1);this.finalTickAmt=I}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,It(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,n,r){var o=this,s=o.chart,i=Yt(i,!0);It(o.series,function(t){delete t.kdTree}),r=Ht(r,{min:t,max:e}),Bt(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,i&&s.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,r=this.options,o=ot(i,Yt(r.min,i)),r=rt(n,Yt(r.max,n));return this.allowZoomOutside||(h(i)&&t<=o&&(t=o),h(n)&&e>=r&&(e=r)),this.displayBtn=t!==I||e!==I,this.setExtremes(t,e,!1,I,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=this.horiz,r=Yt(e.width,t.plotWidth-i+(e.offsetRight||0)),o=Yt(e.height,t.plotHeight),s=Yt(e.top,t.plotTop),e=Yt(e.left,t.plotLeft+i),i=/%$/;i.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight)),i.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=s,this.width=r,this.height=o,this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-r-e,this.len=rt(n?r:o,0),this.pos=n?e:s},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?_(e(this.min)):this.min,max:t?_(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,n=e?i(this.min):this.min,e=e?i(this.max):this.max;return null===t?t=e<0?e:n:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(Yt(t,0)-90*this.side+720)%360,t>15&&t<165?"right":t>195&&t<345?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=Yt(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,i,n=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=n.rotation,c=this.labelMetrics(),u=Number.MAX_VALUE,d=function(t){return t/=a||1,t=t>1?nt(t):1,t*o};return r?(i=!n.staggerLines&&!n.step&&(h(l)?[l]:a<Yt(n.autoRotationLimit,80)&&n.autoRotation))&&It(i,function(i){var n;(i===l||i&&i>=-90&&i<=90)&&(e=d(st(c.h/lt(ct*i))),n=e+st(i/360),n<u&&(u=n,t=i,s=e))}):n.step||(s=d(c.h)),this.autoRotation=i,this.labelRotation=Yt(t,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(i.step||0)<2&&!i.rotation&&(this.staggerLines||1)*t.plotWidth/n||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,r=this.chart,s=r.renderer,a=this.tickPositions,l=this.ticks,h=this.options.labels,c=this.horiz,u=this.getSlotWidth(),d=rt(1,et(u-2*(h.padding||5))),p={},f=this.labelMetrics(),m=h.style.textOverflow,g=0;if(o(h.rotation)||(p.rotation=h.rotation||0),this.autoRotation)It(a,function(t){(t=l[t])&&t.labelLength>g&&(g=t.labelLength)}),g>d&&g>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t={width:d+"px"},!m))for(t.textOverflow="clip",e=a.length;!c&&e--;)i=a[e],(d=l[i].label)&&("ellipsis"===d.styles.textOverflow?d.css({textOverflow:"clip"}):l[i].labelLength>u&&d.css({width:u+"px"}),d.getBBox().height>this.len/a.length-(f.h-f.f)&&(d.specCss={textOverflow:"ellipsis"}));p.rotation&&(t={width:(g>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+"px"},!m)&&(t.textOverflow="ellipsis"),(this.labelAlign=h.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),It(a,function(e){var i=(e=l[e])&&e.label;i&&(i.attr(p),t&&i.css(n(t,i.specCss)),delete i.specCss,e.rotation=p.rotation)}),this.tickRotCorr=s.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,r=this,o=r.chart,s=o.renderer,a=r.options,l=r.tickPositions,c=r.ticks,u=r.horiz,d=r.side,p=o.inverted?[1,0,3,2][d]:d,f=0,m=0,g=a.title,y=a.labels,v=0,b=r.opposite,x=o.axisOffset,o=o.clipOffset,w=[-1,1,1,-1][d],k=r.axisParent,M=this.tickSize("tick");if(t=r.hasData(),r.showAxis=e=t||Yt(a.showEmpty,!0),r.staggerLines=r.horiz&&y.staggerLines,r.axisGroup||(r.gridGroup=s.g("grid").attr({zIndex:a.gridZIndex||1}).add(k),r.axisGroup=s.g("axis").attr({zIndex:a.zIndex||2}).add(k),r.labelGroup=s.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add(k)),t||r.isLinked)It(l,function(t){c[t]?c[t].addLabel():c[t]=new E(r,t)}),r.renderUnsquish(),y.reserveSpace!==!1&&(0===d||2===d||{1:"left",3:"right"}[d]===r.labelAlign||"center"===r.labelAlign)&&It(l,function(t){v=rt(c[t].getLabelSize(),v)}),r.staggerLines&&(v*=r.staggerLines,r.labelOffset=v*(r.opposite?-1:1));else for(n in c)c[n].destroy(),delete c[n];g&&g.text&&g.enabled!==!1&&(r.axisTitle||((n=g.textAlign)||(n=(u?{low:"left",middle:"center",high:"right"}:{low:b?"right":"left",middle:"center",high:b?"left":"right"})[g.align]),r.axisTitle=s.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:n}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(g.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(f=r.axisTitle.getBBox()[u?"height":"width"],i=g.offset,m=h(i)?0:Yt(g.margin,u?5:10)),r.axisTitle[e?"show":"hide"](!0)),r.offset=w*Yt(a.offset,x[d]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},s=0===d?-r.labelMetrics().h:2===d?r.tickRotCorr.y:0,m=Math.abs(v)+m,v&&(m-=s,m+=w*(u?Yt(y.y,r.tickRotCorr.y+8*w):y.x)),r.axisTitleMargin=Yt(i,m),x[d]=rt(x[d],r.axisTitleMargin+f+w*r.offset,m,t&&l.length&&M?M[0]:0),a=a.offset?0:2*it(a.lineWidth/2),o[p]=rt(o[p],a)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?n:this.top,"L",r?e.chartWidth-this.right:o,r?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,o=this.options.title,s=t?e:i,a=this.opposite,l=this.offset,h=o.x||0,c=o.y||0,u=r(o.style.fontSize||12),n={low:s+(t?0:n),middle:s+n/2,high:s+(t?n:0)}[o.align],e=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:t?n+h:e+(a?this.width:0)+l+h,y:t?e+c-(a?this.height:0)+l:n+c}},render:function(){var t,e,i,n=this,r=n.chart,o=r.renderer,s=n.options,a=n.isLog,l=n.lin2log,h=n.isLinked,c=n.tickPositions,u=n.axisTitle,p=n.ticks,f=n.minorTicks,m=n.alternateBands,g=s.stackLabels,y=s.alternateGridColor,v=n.tickmarkOffset,b=s.lineWidth,x=r.hasRendered&&Xt(n.oldMin),w=n.showAxis,k=S(o.globalAnimation);n.labelEdge.length=0,n.overlap=!1,It([p,f,m],function(t){for(var e in t)t[e].isActive=!1}),(n.hasData()||h)&&(n.minorTickInterval&&!n.categories&&It(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new E(n,t,"minor")),x&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),c.length&&(It(c,function(t,e){(!h||t>=n.min&&t<=n.max)&&(p[t]||(p[t]=new E(n,t)),x&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e))}),v&&(0===n.min||n.single))&&(p[-1]||(p[-1]=new E(n,(-1),null,(!0))),p[-1].render(-1)),y&&It(c,function(t,o){i=c[o+1]!==I?c[o+1]+v:n.max-v,o%2===0&&t<n.max&&i<=n.max+(r.polar?-v:v)&&(m[t]||(m[t]=new Q.PlotLineOrBand(n)),e=t+v,m[t].options={from:a?l(e):e,to:a?l(i):i,color:y},m[t].render(),m[t].isActive=!0)}),n._addedPlotLB||(It((s.plotLines||[]).concat(s.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),It([p,f,m],function(t){var e,i,n=[],o=k.duration;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));d(function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])},t!==m&&r.hasRendered&&o?o:0)}),b&&(t=n.getLinePath(b),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=o.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(n.axisGroup),n.axisLine[w?"show":"hide"](!0)),u&&w&&(u[u.isNew?"attr":"animate"](n.getTitlePosition()),u.isNew=!1),g&&g.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),It(this.plotLinesAndBands,function(t){t.render()})),It(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i=this,n=i.stacks,r=i.plotLinesAndBands;t||jt(i);for(e in n)k(n[e]),n[e]=null;for(It([i.ticks,i.minorTicks,i.alternateBands],function(t){k(t)}),t=r.length;t--;)r[t].destroy();It("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n,r,o=this.crosshair;this.crosshair&&(h(e)||!Yt(o.snap,!0))!==!1?(Yt(o.snap,!0)?h(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Yt(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():(n=this.categories&&!this.isRadial,r=Yt(o.width,n?this.transA:1),this.cross?this.cross.attr({d:i,visibility:"visible","stroke-width":r}):(n={"pointer-events":"none","stroke-width":r,stroke:o.color||(n?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:Yt(o.zIndex,2)},o.dashStyle&&(n.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(i).attr(n).add()))):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},Ht(Jt.prototype,void 0),Jt.prototype.getLogTickPositions=function(t,e,i,n){var r=this.options,o=this.len,s=this.lin2log,a=this.log2lin,l=[];if(n||(this._minorAutoInterval=null),t>=.5)t=et(t),l=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var h,c,u,d,p,o=it(e),r=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<i+1&&!p;o++)for(c=r.length,h=0;h<c&&!p;h++)u=a(s(o)*r[h]),u>e&&(!n||d<=i)&&d!==I&&l.push(d),d>i&&(p=!0),d=u;else e=s(e),i=s(i),t=r[n?"minorTickInterval":"tickInterval"],t=Yt("auto"===t?null:t,this._minorAutoInterval,(i-e)*(r.tickPixelInterval/(n?5:1))/((n?o/this.tickPositions.length:o)||1)),t=v(t,null,tt.pow(10,it(tt.log(t)/tt.LN10))),l=Nt(this.getLinearTickPositions(t,e,i),a),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),l},Jt.prototype.log2lin=function(t){return tt.log(t)/tt.LN10},Jt.prototype.lin2log=function(t){return tt.pow(10,t)};var te=Q.Tooltip=function(){this.init.apply(this,arguments)};te.prototype={init:function(t,e){var i=e.borderWidth,n=e.style,o=r(n.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(n).css({padding:0}).add().attr({y:-9999}),wt||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var r=this,o=r.now,s=r.options.animation!==!1&&!r.isHidden&&(st(t-o.x)>1||st(e-o.y)>1),a=r.followPointer||r.len>1;Ht(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:a?I:s?(2*o.anchorX+i)/3:i,anchorY:a?I:s?(o.anchorY+n)/2:n}),r.label.attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,i,n)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=Yt(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){e.label[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,n,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,h=0,c=0,t=u(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===I&&(e=o.pointer.normalize(e)),i=[e.chartX-o.plotLeft,e.chartY-a]),i||(It(t,function(t){n=t.series.yAxis,r=t.series.xAxis,h+=t.plotX+(!s&&r?r.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-a:0)}),h/=t.length,c/=t.length,i=[s?o.plotWidth-c:h,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?o.plotHeight-h:c]),Nt(i,et)},getPosition:function(t,e,i){var n,r=this.chart,o=this.distance,s={},a=i.h||0,l=["y",r.chartHeight,e,i.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],h=["x",r.chartWidth,t,i.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],c=!this.followPointer&&Yt(i.ttBelow,!r.inverted==!!i.negative),u=function(t,e,i,n,r,l){var h=i<n-o,u=n+o+i<e,d=n-o-i;if(n+=o,c&&u)s[t]=n;else if(!c&&h)s[t]=d;else if(h)s[t]=ot(l-i,d-a<0?d:d-a);else{if(!u)return!1;s[t]=rt(r,n+a+i>e?n:n+a)}},d=function(t,e,i,n){var r;return n<o||n>e-o?r=!1:s[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,r},p=function(t){var e=l;l=h,h=e,n=t},f=function(){u.apply(0,l)!==!1?d.apply(0,h)===!1&&!n&&(p(!0),f()):n?s.x=s.y=0:(p(!0),f())};return(r.inverted||this.len>1)&&p(),f(),s},defaultFormatter:function(t){var e,i=this.points||u(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,r,o,s=this.chart,a=this.label,l=this.options,h={},c=[];o=l.formatter||this.defaultFormatter;var d,h=s.hoverPoints,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,r=this.getAnchor(t,e),i=r[0],n=r[1],!p||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(s.hoverPoints=t,h&&It(h,function(t){t.setState()}),It(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),h={x:t[0].category,y:t[0].y},h.points=c,this.len=c.length,t=t[0]),o=o.call(h,this),h=t.series,this.distance=Yt(h.tooltipOptions.distance,16),o===!1?this.hide():(this.isHidden&&(Gt(a),a.attr("opacity",1).show()),a.attr({text:o}),d=l.borderColor||t.color||h.color||"#606060",a.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:r[2]||0}),this.isHidden=!1),Bt(s,"tooltipRefresh",{text:o,x:i+s.plotLeft,y:n+s.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(et(i.x),et(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){var n,r,o,e=e.dateTimeLabelFormats,s=i&&i.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(s){o=j("%m-%d %H:%M:%S.%L",t.x);for(r in B){if(s===B.week&&+j("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(B[r]>s){r=l;break}if(a[r]&&o.substr(a[r])!=="01-01 00:00:00.000".substr(a[r]))break;"week"!==r&&(l=r)}r&&(n=e[r])}else n=e.day;return n||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,r=n.tooltipOptions,o=r.xDateFormat,s=n.xAxis,a=s&&"datetime"===s.options.type&&Xt(t.key),i=r[i+"Format"];return a&&!o&&(o=this.getXDateFormat(t,r,s)),a&&o&&(i=i.replace("{point.key}","{point.key:"+o+"}")),y(i,{point:t,series:n})},bodyFormatter:function(t){return Nt(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var ee;R=J&&J.documentElement.ontouchstart!==I;var ie=Q.Pointer=function(t,e){this.init(t,e)};if(ie.prototype={init:function(t,e){var i,n=e.chart,r=n.events,o=wt?"":n.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=i&&!n||o&&n,this.zoomVert=o&&!n||i&&n,this.hasZoom=i||o,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},Q.Tooltip&&e.tooltip.enabled&&(t.tooltip=new te(t,e.tooltip),this.followTouchMove=Yt(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,i){var n,r,e=e||t.event;return e.target||(e.target=e.srcElement),r=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,i||(this.chartPosition=i=Rt(this.chart.container)),r.pageX===I?(n=rt(e.x,e.clientX-i.left),r=e.y):(n=r.pageX-i.left,r=r.pageY-i.top),Ht(e,{chartX:et(n),chartY:et(r)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return It(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,n,r,o=this.chart,s=o.series,a=o.tooltip,l=!!a&&a.shared,h=o.hoverPoint,c=o.hoverSeries,u=[Number.MAX_VALUE,Number.MAX_VALUE],d=[],p=[];if(!l&&!c)for(e=0;e<s.length;e++)!s[e].directTouch&&s[e].options.stickyTracking||(s=[]);if(c&&(l?c.noSharedTooltip:c.directTouch)&&h?p=[h]:(It(s,function(e){i=e.noSharedTooltip&&l,n=!l&&e.directTouch,e.visible&&!i&&!n&&Yt(e.options.enableMouseTracking,!0)&&(r=e.searchPoint(t,!i&&1===e.kdDimensions))&&d.push(r)}),It(d,function(t){t&&It(["dist","distX"],function(e,i){if(Xt(t[e])){var n=t[e]===u[i]&&t.series.group.zIndex>=p[i].series.group.zIndex;(t[e]<u[i]||n)&&(u[i]=t[e],p[i]=t)}})})),l)for(e=d.length;e--;)(d[e].clientX!==p[1].clientX||d[e].series.noSharedTooltip)&&d.splice(e,1);p[0]&&(p[0]!==this.prevKDPoint||a&&a.isHidden)?l&&!p[0].series.noSharedTooltip?(d.length&&a&&a.refresh(d,t),It(d,function(e){e.onMouseOver(t,e!==(c&&c.directTouch&&h||p[0]))}),this.prevKDPoint=p[1]):(a&&a.refresh(p[0],t),c&&c.directTouch||p[0].onMouseOver(t),this.prevKDPoint=p[0]):(s=c&&c.tooltipOptions.followPointer,a&&s&&!a.isHidden&&(s=a.getAnchor([{}],t),a.updatePosition({plotX:s[0],plotY:s[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(t){Pt[ee]&&Pt[ee].pointer.onDocumentMouseMove(t)},zt(J,"mousemove",this._onDocumentMouseMove)),It(l?d:[Yt(h,p[1])],function(e){It(o.axes,function(i){(!e||e.series[i.coll]===i)&&i.drawCrosshair(t,e)})})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.hoverPoints,s=i.tooltip,a=s&&s.shared?o:r;t&&a&&It(u(a),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&a&&(s.refresh(a),r&&(r.setState(r.state,!0),It(i.axes,function(t){Yt(t.crosshair&&t.crosshair.snap,!0)?t.drawCrosshair(null,r):t.hideCrosshair()}))):(r&&r.onMouseOut(),o&&It(o,function(t){t.setState()}),n&&n.onMouseOut(),s&&s.hide(e),this._onDocumentMouseMove&&(jt(J,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),It(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;It(n.series,function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,r=t.chartX,o=t.chartY,s=this.zoomHor,a=this.zoomVert,l=i.plotLeft,h=i.plotTop,c=i.plotWidth,u=i.plotHeight,d=this.selectionMarker,p=this.mouseDownX,f=this.mouseDownY,m=n.panKey&&t[n.panKey+"Key"];d&&d.touch||(r<l?r=l:r>l+c&&(r=l+c),o<h?o=h:o>h+u&&(o=h+u),this.hasDragged=Math.sqrt(Math.pow(p-r,2)+Math.pow(f-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(p-l,f-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!d&&(this.selectionMarker=d=i.renderer.rect(l,h,s?1:c,a?1:u,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),d&&s&&(r-=p,d.attr({width:st(r),x:(r>0?0:r)+p})),d&&a&&(r=o-f,d.attr({height:st(r),y:(r>0?0:r)+f})),e&&!d&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:t,xAxis:[],yAxis:[]},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,c=s.attr?s.attr("width"):s.width,u=s.attr?s.attr("height"):s.height;(this.hasDragged||n)&&(It(i.axes,function(i){if(i.zoomEnabled&&h(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var s=i.horiz,d="touchend"===t.type?i.minPixelPadding:0,p=i.toValue((s?a:l)+d),s=i.toValue((s?a+c:l+u)-d);o[i.coll].push({axis:i,min:ot(p,s),max:rt(p,s)}),r=!0}}),r&&Bt(i,"selection",o,function(t){i.zoom(Ht(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(p(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Pt[ee]&&Pt[ee].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,t=this.normalize(t,i);i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(t){var e=Pt[ee];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;h(ee)&&Pt[ee]&&Pt[ee].mouseIsDown||(ee=e.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=c(t,"class")){if(i.indexOf(e)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,t=t.relatedTarget||t.toElement;!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop,t=this.normalize(t);e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Bt(i.series,"click",Ht(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(Ht(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-r)&&Bt(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},zt(e,"mouseleave",t.onContainerMouseLeave),1===St&&zt(J,"mouseup",t.onDocumentMouseUp),R&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===St&&zt(J,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;jt(this.chart.container,"mouseleave",this.onContainerMouseLeave),St||(jt(J,"mouseup",this.onDocumentMouseUp),jt(J,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},Ht(Q.Pointer.prototype,{pinchTranslate:function(t,e,i,n,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,r,o)},pinchTranslateDirection:function(t,e,i,n,r,o,s,a){var l,h,c,u=this.chart,d=t?"x":"y",p=t?"X":"Y",f="chart"+p,m=t?"width":"height",g=u["plot"+(t?"Left":"Top")],y=a||1,v=u.inverted,b=u.bounds[t?"h":"v"],x=1===e.length,w=e[0][f],k=i[0][f],M=!x&&e[1][f],_=!x&&i[1][f],i=function(){!x&&st(w-M)>20&&(y=a||st(k-_)/st(w-M)),h=(g-k)/y+w,l=u["plot"+(t?"Width":"Height")]/y};i(),e=h,e<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(k-=.8*(k-s[d][0]),x||(_-=.8*(_-s[d][1])),i()):s[d]=[k,_],v||(o[d]=h-g,o[m]=l),o=v?1/y:y,r[m]=l,r[d]=e,n[v?t?"scaleY":"scaleX":"scale"+p]=y,n["translate"+p]=o*g+(k-o*w)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,r=t.touches,o=r.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,h={},c=1===o&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),u={};o>1&&(e.initiated=!0),a&&e.initiated&&!c&&t.preventDefault(),Nt(r,function(t){return e.normalize(t)}),"touchstart"===t.type?(It(r,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),s.x=[n[0].chartX,n[1]&&n[1].chartX],s.y=[n[0].chartY,n[1]&&n[1].chartY],It(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,r=t.toPixels(Yt(t.options.min,t.dataMin)),o=t.toPixels(Yt(t.options.max,t.dataMax)),s=ot(r,o),r=rt(r,o);e.min=ot(t.pos,s-n),e.max=rt(t.pos+t.len,r+n)}}),e.res=!0):n.length&&(l||(e.selectionMarker=l=Ht({destroy:_t,touch:!0},i.plotBox)),e.pinchTranslate(n,r,h,l,u,s),e.hasPinched=a,e.scaleGroups(h,u),!a&&e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i,n=this.chart;ee=n.index,1===t.touches.length?(t=this.normalize(t),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&!n.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(n=this.pinchDown,i=!!n[0]&&Math.sqrt(Math.pow(n[0].chartX-t.chartX,2)+Math.pow(n[0].chartY-t.chartY,2))>=4),Yt(i,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Pt[ee]&&Pt[ee].pointer.drop(t)}}),t.PointerEvent||t.MSPointerEvent){var ne={},re=!!t.PointerEvent,oe=function(){var t,e=[];e.item=function(t){return this[t]};for(t in ne)ne.hasOwnProperty(t)&&e.push({pageX:ne[t].pageX,pageY:ne[t].pageY,target:ne[t].target});return e},se=function(t,e,i,n){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Pt[ee]||(n(t),n=Pt[ee].pointer,n[e]({type:i,target:t.currentTarget,preventDefault:_t,touches:oe()}))};Ht(ie.prototype,{onContainerPointerDown:function(t){se(t,"onContainerTouchStart","touchstart",function(t){ne[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){se(t,"onContainerTouchMove","touchmove",function(t){ne[t.pointerId]={pageX:t.pageX,pageY:t.pageY},ne[t.pointerId].target||(ne[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){se(t,"onDocumentTouchEnd","touchend",function(t){delete ne[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,re?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,re?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(J,re?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Ut(ie.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&p(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),Ut(ie.prototype,"setDOMEvents",function(t){
t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(zt)}),Ut(ie.prototype,"destroy",function(t){this.batchMSEvents(jt),t.call(this)})}var ae=Q.Legend=function(t,e){this.init(t,e)};ae.prototype={init:function(t,e){var i=this,r=e.itemStyle,o=e.itemMarginTop||0;this.options=e,e.enabled&&(i.itemStyle=r,i.itemHiddenStyle=n(r,e.itemHiddenStyle),i.itemMarginTop=o,i.padding=r=Yt(e.padding,8),i.initialItemX=r,i.initialItemY=r-5,i.maxItemWidth=0,i.chart=t,i.itemHeight=0,i.symbolWidth=Yt(e.symbolWidth,16),i.pages=[],i.render(),zt(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=this.itemHiddenStyle.color,n=e?n.itemStyle.color:a,l=e?t.legendColor||t.color||"#CCC":a,a=t.options&&t.options.marker,h={fill:l};if(r&&r.css({fill:n,color:n}),o&&o.attr({stroke:l}),s){if(a&&s.isMarker)for(i in h.stroke=l,a=t.convertAttribs(a))r=a[i],r!==I&&(h[i]=r);s.attr(h)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,r=n[0],n=n[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?r:this.legendWidth-r-2*i-4,n),o&&(o.x=r,o.y=n)},destroyItem:function(t){var e=t.checkbox;It(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&M(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight,r=this.titleHeight;i&&(e=i.translateY,It(this.allItems,function(o){var s,a=o.checkbox;a&&(s=e+r+a.y+(t||0)+3,p(a,{left:i.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:s>e-6&&s<e+n-6?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?y(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,i=e.renderer,r=this.options,o="horizontal"===r.layout,s=this.symbolWidth,a=r.symbolPadding,l=this.itemStyle,h=this.itemHiddenStyle,c=this.padding,u=o?Yt(r.itemDistance,20):0,d=!r.rtl,p=r.width,f=r.itemMarginBottom||0,m=this.itemMarginTop,g=this.initialItemX,y=t.legendItem,v=t.series&&t.series.drawLegendSymbol?t.series:t,b=v.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,x=r.useHTML;y||(t.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=y=i.text("",d?s+a:-a,this.baseline||0,x).css(n(t.visible?l:h)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(l.fontSize,y),this.baseline=this.fontMetrics.f+3+m,y.attr("y",this.baseline)),v.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,y,x,l,h),b&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),i=y.getBBox(),s=t.checkboxOffset=r.itemWidth||t.legendItemWidth||s+a+i.width+u+(b?20:0),this.itemHeight=a=et(t.legendItemHeight||i.height),o&&this.itemX-g+s>(p||e.chartWidth-2*c-g-r.x)&&(this.itemX=g,this.itemY+=m+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=rt(this.maxItemWidth,s),this.lastItemY=m+this.itemY+f,this.lastLineHeight=rt(a,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=s:(this.itemY+=m+a+f,this.lastLineHeight=a),this.offsetWidth=p||rt((o?this.itemX-g-u:s)+c,this.offsetWidth)},getAllItems:function(){var t=[];return It(this.chart.series,function(e){var i=e.options;Yt(i.showInLegend,!h(i.linkedTo)&&I,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,r=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);this.display&&!n.floating&&It([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(r)&&!h(t[s])&&(i[At[s]]=rt(i[At[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*n[s%2?"x":"y"]+Yt(n.margin,12)+e[s]))})},render:function(){var t,e,i,n,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,h=r.options,c=r.padding,u=h.borderWidth,d=h.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),b(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,It(t,function(t){r.renderItem(t)}),i=(h.width||r.offsetWidth)+c,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=c,(u||d)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(r.box=l=s.rect(0,0,i,n,h.borderRadius,u||0).attr({stroke:h.borderColor,"stroke-width":u||0,fill:d||"none"}).add(a).shadow(h.shadow),l.isNew=!0),l[e?"show":"hide"]()),r.legendWidth=i,r.legendHeight=n,It(t,function(t){r.positionItem(t)}),e&&a.align(Ht({width:i,height:n},h),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,a=r.spacingBox.height+("top"===s.verticalAlign?-a:a)-this.padding,l=s.maxHeight,h=this.clipRect,c=s.navigation,u=Yt(c.animation,!0),d=c.arrowSize||12,p=this.nav,f=this.pages,m=this.padding,g=this.allItems,y=function(t){h.attr({height:t}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+m+"px,9999px,"+(m+t)+"px,0)")};return"horizontal"===s.layout&&(a/=2),l&&(a=ot(a,l)),f.length=0,t>a&&c.enabled!==!1?(this.clipHeight=e=rt(a-20-this.titleHeight-m,0),this.currentPage=Yt(this.currentPage,1),this.fullHeight=t,It(g,function(t,n){var r=t._legendItemPos[1],o=et(t.legendItem.getBBox().height),s=f.length;(!s||r-f[s-1]>e&&(i||r)!==f[s-1])&&(f.push(i||r),s++),n===g.length-1&&r+o-f[s-1]>e&&f.push(r),r!==i&&(i=r)}),h||(h=n.clipRect=o.clipRect(0,m,9999,0),n.contentGroup.clip(h)),y(e),p||(this.nav=p=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,d,d).on("click",function(){n.scroll(-1,u)}).add(p),this.pager=o.text("",15,10).css(c.style).add(p),this.down=o.symbol("triangle-down",0,0,d,d).on("click",function(){n.scroll(1,u)}).add(p)),n.scroll(0),t=a):p&&(y(r.chartHeight),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,r=this.currentPage+t,o=this.clipHeight,s=this.options.navigation,a=s.activeColor,s=s.inactiveColor,l=this.pager,h=this.padding;r>n&&(r=n),r>0&&(e!==I&&P(e,this.chart),this.nav.attr({translateX:h,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?s:a}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?s:a}).css({cursor:r===n?"default":"pointer"}),i=-i[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,this.positionCheckboxes(i))}};var le=Q.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker,r=t.symbolWidth,o=this.chart.renderer,s=this.legendGroup,t=t.baseline-et(.3*t.fontMetrics.b);i.lineWidth&&(e={"stroke-width":i.lineWidth},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",r,t]).attr(e).add(s)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=n=o.symbol(this.symbol,r/2-i,t-i,2*i,2*i,n).add(s),n.isMarker=!0)}};(/Trident\/7\.0/.test(ut)||gt)&&Ut(ae.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)});var he=Q.Chart=function(){this.getArgs.apply(this,arguments)};Q.chart=function(t,e,i){return new he(t,e,i)},he.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(o(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var i,r=t.series;t.series=null,i=n(z,t),i.series=t.series=r,this.userOptions=t,r=i.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var s,a=this;if(a.index=Pt.length,Pt.push(a),St++,r.reflow!==!1&&zt(a,"load",function(){a.initReflow()}),o)for(s in o)zt(a,s,o[s]);a.xAxis=[],a.yAxis=[],a.animation=!wt&&Yt(r.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(t){var i=this.options.chart;return(i=Et[t.type||i.type||i.defaultSeriesType])||e(17,!0),i=new i,i.init(this,t),i},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,i,n=this.axes,r=this.series,o=this.pointer,s=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,h=this.isDirtyBox,c=r.length,u=c,d=this.renderer,p=d.isHidden(),f=[];for(P(t,this),p&&this.cloneRenderTo(),this.layOutTitles();u--;)if(t=r[u],t.options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(u=c;u--;)t=r[u],t.options.stacking&&(t.isDirty=!0);It(r,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),a=!0),t.isDirtyData&&Bt(t,"updatedData")}),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,It(n,function(t){t.setScale()})),this.getMargins(),l&&(It(n,function(t){t.isDirty&&(h=!0)}),It(n,function(t){var i=t.min+","+t.max;t.extKey!==i&&(t.extKey=i,f.push(function(){Bt(t,"afterSetExtremes",Ht(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||e)&&t.redraw()})),h&&this.drawChartBox(),It(r,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),o&&o.reset(!0),d.draw(),Bt(this,"redraw"),p&&this.cloneRenderTo(!0),It(f,function(t){t.call()})},get:function(t){var e,i,n=this.axes,r=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(i=r[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=u(e.xAxis||{}),e=e.yAxis=u(e.yAxis||{});It(i,function(t,e){t.index=e,t.isX=!0}),It(e,function(t,e){t.index=e}),i=i.concat(e),It(i,function(e){new Jt(t,e)})},getSelectedPoints:function(){var t=[];return It(this.series,function(e){t=t.concat(Dt(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Dt(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var r,o,s=this,a=s.options;o=a.title=n(a.title,t),r=a.subtitle=n(a.subtitle,e),a=r,It([["title",t,o],["subtitle",e,a]],function(t){var e=t[0],i=s[e],n=t[1],t=t[2];i&&n&&(s[e]=i=i.destroy()),t&&t.text&&!i&&(s[e]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),s.layOutTitles(i)},layOutTitles:function(t){var e=0,i=this.title,n=this.subtitle,r=this.options,o=r.title,r=r.subtitle,s=this.renderer,a=this.spacingBox;!i||(i.css({width:(o.width||a.width+o.widthAdjust)+"px"}).align(Ht({y:s.fontMetrics(o.style.fontSize,i).b-3},o),!1,a),o.floating||o.verticalAlign)||(e=i.getBBox().height),n&&(n.css({width:(r.width||a.width+r.widthAdjust)+"px"}).align(Ht({y:e+(o.margin-13)+s.fontMetrics(r.style.fontSize,i).b},r),!1,a),!r.floating&&!r.verticalAlign&&(e=nt(e+n.getBBox().height))),i=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&Yt(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;h(e)||(this.containerWidth=Ot(i,"width")),h(t)||(this.containerHeight=Ot(i,"height")),this.chartWidth=rt(0,e||this.containerWidth||600),this.chartHeight=rt(0,Yt(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),M(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),p(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),J.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,i,n,s=this.options,a=s.chart;t=this.renderTo;var l="highcharts-"+Mt++;t||(this.renderTo=t=a.renderTo),o(t)&&(this.renderTo=t=J.getElementById(t)),t||e(13,!0),i=r(c(t,"data-highcharts-chart")),Xt(i)&&Pt[i]&&Pt[i].hasRendered&&Pt[i].destroy(),c(t,"data-highcharts-chart",this.index),t.innerHTML="",!a.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,this.container=t=f(Tt,{className:"highcharts-container"+(a.className?" "+a.className:""),id:l},Ht({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=new(Q[a.renderer]||D)(t,i,n,a.style,a.forExport,s.exporting&&s.exporting.allowHTML),wt&&this.renderer.create(this,t,i,n),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!h(i[0])&&(this.plotTop=rt(this.plotTop,n+this.options.title.margin+e[0])),this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&It(t.axes,function(t){t.visible&&t.getOffset()}),It(At,function(n,r){h(i[r])||(t[n]+=e[r])}),t.setChartSize()},reflow:function(e){var i=this,n=i.options.chart,r=i.renderTo,o=n.width||Ot(r,"width"),s=n.height||Ot(r,"height"),n=e?e.target:t;i.hasUserSize||i.isPrinting||!o||!s||n!==t&&n!==J||(o===i.containerWidth&&s===i.containerHeight||(clearTimeout(i.reflowTimeout),i.reflowTimeout=d(function(){i.container&&(i.setSize(o,s,!1),i.hasUserSize=null)},e?100:0)),i.containerWidth=o,i.containerHeight=s)},initReflow:function(){var e=this,i=function(t){e.reflow(t)};zt(t,"resize",i),zt(e,"destroy",function(){jt(t,"resize",i)})},setSize:function(t,e,i){var n,r,o=this,s=o.renderer;o.isResizing+=1,P(i,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,h(t)&&(o.chartWidth=n=rt(0,et(t)),o.hasUserSize=!!n),h(e)&&(o.chartHeight=r=rt(0,et(e))),t=s.globalAnimation,(t?Ft:p)(o.container,{width:n+"px",height:r+"px"},t),o.setChartSize(!0),s.setSize(n,r,i),o.maxTicks=null,It(o.axes,function(t){t.isDirty=!0,t.setScale()}),It(o.series,function(t){t.isDirty=!0}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(i),o.oldChartHeight=null,Bt(o,"resize"),d(function(){o&&Bt(o,"endResize",null,function(){o.isResizing-=1})},S(t).duration)},setChartSize:function(t){var e,i,n,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,u=this.clipOffset;this.plotLeft=e=et(this.plotLeft),this.plotTop=i=et(this.plotTop),this.plotWidth=n=rt(0,et(a-e-this.marginRight)),this.plotHeight=r=rt(0,et(l-i-this.marginBottom)),this.plotSizeX=o?r:n,this.plotSizeY=o?n:r,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=s.plotBox={x:e,y:i,width:n,height:r},a=2*it(this.plotBorderWidth/2),o=nt(rt(a,u[3])/2),s=nt(rt(a,u[0])/2),this.clipBox={x:o,y:s,width:it(this.plotSizeX-rt(a,u[1])/2-o),height:rt(0,it(this.plotSizeY-rt(a,u[2])/2-s))},t||It(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;It(At,function(e,i){t[e]=Yt(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,r=this.chartHeight,o=this.chartBackground,s=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,u=e.plotBackgroundColor,d=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,y=this.plotHeight,v=this.plotBox,b=this.clipRect,x=this.clipBox;t=h+(e.shadow?8:0),(h||c)&&(o?o.animate(o.crisp({width:n-t,height:r-t})):(o={fill:c||"none"},h&&(o.stroke=e.borderColor,o["stroke-width"]=h),this.chartBackground=i.rect(t/2,t/2,n-t,r-t,e.borderRadius,h).attr(o).addClass("highcharts-background").add().shadow(e.shadow))),u&&(s?s.animate(v):this.plotBackground=i.rect(f,m,g,y,0).attr({fill:u}).add().shadow(e.plotShadow)),d&&(l?l.animate(v):this.plotBGImage=i.image(d,f,m,g,y).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=i.clipRect(x),p&&(a?(a.strokeWidth=-p,a.animate(a.crisp({x:f,y:m,width:g,height:y}))):this.plotBorder=i.rect(f,m,g,y,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;It(["inverted","angular","polar"],function(s){for(t=Et[r.type||r.defaultSeriesType],i=n[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!i&&e--;)(t=Et[o[e].type])&&t.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var t=this,e=t.series;It(e,function(t){t.linkedSeries.length=0}),It(e,function(e){var i=e.options.linkedTo;o(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=Yt(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){It(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&It(e.items,function(i){var n=Ht(e.style,i.style),o=r(n.left)+t.plotLeft,s=r(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,o,s).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n,r=this.axes,o=this.renderer,s=this.options;this.setTitle(),this.legend=new ae(this,s.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=21,It(r,function(t){t.setScale()}),this.getAxisMargins(),i=t/this.plotWidth>1.1,n=e/this.plotHeight>1.05,(i||n)&&(this.maxTicks=null,It(r,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&It(r,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(s.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(t.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,r=e.container,o=r&&r.parentNode;for(Bt(e,"destroy"),Pt[e.index]=I,St--,e.renderTo.removeAttribute("data-highcharts-chart"),jt(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();It("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),r&&(r.innerHTML="",jt(r),o&&M(r));for(t in e)delete e[t]},isReadyToRender:function(){var e=this;return!(!bt&&t==t.top&&"complete"!==J.readyState||wt&&!t.canvg)||(wt?Qt.push(function(){e.firstRender()},e.options.global.canvasToolsURL):J.attachEvent("onreadystatechange",function(){J.detachEvent("onreadystatechange",e.firstRender),"complete"===J.readyState&&e.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),Bt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),It(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Bt(t,"beforeRender"),Q.Pointer&&(t.pointer=new ie(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){var t=this;It([this.callback].concat(this.callbacks),function(e){e&&void 0!==t.index&&e.apply(t,[t])}),Bt(t,"load"),this.onload=null},splashArray:function(t,e){var i=e[t],i=s(i)?i:[i,i,i,i];return[Yt(e[t+"Top"],i[0]),Yt(e[t+"Right"],i[1]),Yt(e[t+"Bottom"],i[2]),Yt(e[t+"Left"],i[3])]}};var ce=function(){};ce.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var i=this.series,n=i.options.pointValKey||i.pointValKey,t=ce.prototype.optionsToObject.call(this,t);return Ht(this,t),this.options=this.options?Ht(this.options,t):t,n&&(this.y=this[n]),this.isNull=null===this.x||null===this.y,void 0===this.x&&i&&(this.x=void 0===e?i.autoIncrement():e),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,r=n||i.pointArrayMap||["y"],o=r.length,s=0,l=0;if(Xt(t)||null===t)e[r[0]]=t;else if(a(t))for(!n&&t.length>o&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),s++);l<o;)n&&void 0===t[s]||(e[r[l]]=t[s]),s++,l++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),l(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(jt(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=Yt(i.valueDecimals,""),r=i.valuePrefix||"",o=i.valueSuffix||"";return It(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+n+"f}")}),y(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,r=this.series.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Bt(this,t,e,i)},visible:!0};var ue=Q.Series=function(){};ue.prototype={isCartesian:!0,type:"line",pointClass:ce,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,r=this,o=t.series,s=function(t,e){return Yt(t.options.index,t._i)-Yt(e.options.index,e._i)};r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),Ht(r,{name:e.name,state:"",pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),wt&&(e.animation=!1),n=e.events;for(i in n)zt(r,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),It(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,b(o,s),this.yAxis&&b(this.yAxis.series,s),It(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,i=this,n=i.options,r=i.chart;It(i.axisTypes||[],function(o){It(r[o],function(e){t=e.options,(n[o]===t.index||n[o]!==I&&n[o]===t.id||n[o]===I&&0===t.index)&&(e.series.push(i),i[o]=e,e.isDirty=!0)}),!i[o]&&i.optionalAxis!==o&&e(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,r=Xt(e)?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};It(i.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,i=Yt(i,e.pointStart,0);return this.pointInterval=t=Yt(this.pointInterval,e.pointInterval,1),n&&(e=new F(i),"day"===n?e=+e[K](e[U]()+t):"month"===n?e=+e[Z](e[q]()+t):"year"===n&&(e=+e[$](e[V]()+t)),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options.plotOptions,e=e.userOptions||{},r=e.plotOptions||{},o=i[this.type];return this.userOptions=t,i=n(o,i.series,t),this.tooltipOptions=n(z.tooltip,z.plotOptions[this.type].tooltip,e.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,t.tooltip),null===o.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,t=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||t.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),t.length&&h(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var n=this.userOptions,r="_"+t+"Index",o=t+"Counter";e||(h(n[r])?e=n[r]:(n[r]=e=this.chart[o]%i.length,this.chart[o]+=1),e=i[e]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||qt[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:le.drawLineMarker,setData:function(t,i,n,r){var s,l=this,c=l.points,u=c&&c.length||0,d=l.options,p=l.chart,f=null,m=l.xAxis,g=m&&!!m.categories,y=d.turboThreshold,v=this.xData,b=this.yData,x=(s=l.pointArrayMap)&&s.length,t=t||[];if(s=t.length,i=Yt(i,!0),r!==!1&&s&&u===s&&!l.cropped&&!l.hasGroupedData&&l.visible)It(t,function(t,e){c[e].update&&t!==d.data[e]&&c[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,It(this.parallelArrays,function(t){l[t+"Data"].length=0}),y&&s>y){for(n=0;null===f&&n<s;)f=t[n],n++;if(Xt(f)){for(g=Yt(d.pointStart,0),f=Yt(d.pointInterval,1),n=0;n<s;n++)v[n]=g,b[n]=t[n],g+=f;l.xIncrement=g}else if(a(f))if(x)for(n=0;n<s;n++)f=t[n],v[n]=f[0],b[n]=f.slice(1,x+1);else for(n=0;n<s;n++)f=t[n],v[n]=f[0],b[n]=f[1];else e(12)}else for(n=0;n<s;n++)t[n]!==I&&(f={series:l},l.pointClass.prototype.applyOptions.apply(f,[t[n]]),l.updateParallelArrays(f,n),g&&h(f.name))&&(m.names[f.x]=f.name);for(o(b[0])&&e(14,!0),l.data=[],l.options.data=l.userOptions.data=t,n=u;n--;)c[n]&&c[n].destroy&&c[n].destroy();m&&(m.minRange=m.userMinRange),l.isDirty=l.isDirtyData=p.isDirtyBox=!0,n=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),i&&p.redraw(n)},processData:function(t){var i,n=this.xData,r=this.yData,o=n.length;i=0;var s,a,l,h=this.xAxis,c=this.options;l=c.cropThreshold;var u,d,p=this.getExtremesFromAll||c.getExtremesFromAll,f=this.isCartesian,c=h&&h.val2lin,m=h&&h.isLog;if(f&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(h&&(t=h.getExtremes(),u=t.min,d=t.max),f&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(n[o-1]<u||n[0]>d?(n=[],r=[]):(n[0]<u||n[o-1]>d)&&(i=this.cropData(this.xData,this.yData,u,d),n=i.xData,r=i.yData,i=i.start,s=!0)),l=n.length||1;--l;)o=m?c(n[l])-c(n[l-1]):n[l]-n[l-1],o>0&&(a===I||o<a)?a=o:o<0&&this.requireSorting&&e(15);this.cropped=s,this.cropStart=i,this.processedXData=n,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,i,n){var r,o=t.length,s=0,a=o,l=Yt(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=i){s=rt(0,r-l);break}for(i=r;i<o;i++)if(t[i]>n){a=i+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,i,n,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,h=s.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=r.length,o=this.data=o),n=0;n<h;n++)e=c+n,d?(p[n]=(new l).init(this,[s[n]].concat(u(a[n]))),p[n].dataGroup=this.groupMap[n]):(o[e]?i=o[e]:r[e]!==I&&(o[e]=i=(new l).init(this,r[e],s[n])),p[n]=i),p[n].index=e;if(o&&(h!==(t=o.length)||d))for(n=0;n<t;n++)n===c&&!d&&(n+=h),o[n]&&(o[n].destroyElements(),o[n].plotX=I);this.data=o,this.points=p},getExtremes:function(t){var e,i=this.yAxis,n=this.processedXData,r=[],o=0;e=this.xAxis.getExtremes();var s,a,l,h,c=e.min,u=e.max,t=t||this.stackedYData||this.processedYData||[];for(e=t.length,h=0;h<e;h++)if(a=n[h],l=t[h],s=null!==l&&l!==I&&(!i.isLog||l.length||l>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[h+1]||a)>=c&&(n[h-1]||a)<=u,s&&a)if(s=l.length)for(;s--;)null!==l[s]&&(r[o++]=l[s]);else r[o++]=l;this.dataMin=x(r),this.dataMax=w(r)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,i,n,r,o=this.options,s=o.stacking,a=this.xAxis,l=a.categories,c=this.yAxis,u=this.points,d=u.length,p=!!this.modifyValue,f=o.pointPlacement,m="between"===f||Xt(f),g=o.threshold,y=o.startFromThreshold?g:0,v=Number.MAX_VALUE,o=0;o<d;o++){var b=u[o],x=b.x,w=b.y;i=b.low;var k=s&&c.stacks[(this.negStacks&&w<(y?0:g)?"-":"")+this.stackKey];c.isLog&&null!==w&&w<=0&&(b.y=w=null,e(10)),b.plotX=t=_(ot(rt(-1e5,a.translate(x,0,0,0,1,f,"flags"===this.type)),1e5)),s&&this.visible&&!b.isNull&&k&&k[x]&&(r=this.getStackIndicator(r,x,this.index),k=k[x],w=k.points[r.key],i=w[0],w=w[1],i===y&&(i=Yt(g,c.min)),c.isLog&&i<=0&&(i=null),b.total=b.stackTotal=k.total,b.percentage=k.total&&b.y/k.total*100,b.stackY=w,k.setOffset(this.pointXOffset||0,this.barW||0)),b.yBottom=h(i)?c.translate(i,0,1,0,1):null,p&&(w=this.modifyValue(w,b)),b.plotY=i="number"==typeof w&&w!==1/0?ot(rt(-1e5,c.translate(w,0,1,0,1)),1e5):I,b.isInside=i!==I&&i>=0&&i<=c.len&&t>=0&&t<=a.len,b.clientX=m?a.translate(x,0,0,0,1):t,b.negative=b.y<(g||0),b.category=l&&l[b.x]!==I?l[b.x]:b.x,b.isNull||(void 0!==n&&(v=ot(v,st(t-n))),n=t)}this.closestPointRangePx=v},getValidPoints:function(t,e){var i=this.chart;return Dt(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,i.xAxis,i.yAxis].join(","),l=e[a],h=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=h=n.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=n.clipRect(s)),t&&(l.count+=1),i.clip!==!1&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(h),this.sharedClipKey=a),t||(l.count-=1,l.count<=0&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,n=this.options.animation;n&&!s(n)&&(n=qt[this.type].animation),t?this.setClip(n):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX},n),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){this.setClip(),Bt(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,r,o,s,a,l,h,c,u,d=this.points,p=this.chart,f=this.options.marker,m=this.pointAttr[""],g=this.markerGroup,y=Yt(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(n=d.length;n--;)r=d[n],e=it(r.plotX),i=r.plotY,l=r.graphic,h=r.marker||{},c=!!r.marker,t=y&&h.enabled===I||h.enabled,u=r.isInside,t&&Xt(i)&&null!==r.y?(t=r.pointAttr[r.selected?"select":""]||m,o=t.r,s=Yt(h.symbol,this.symbol),
a=0===s.indexOf("url"),l?l[u?"show":"hide"](!0).attr(t).animate(Ht({x:e-o,y:i-o},l.symbolName?{width:2*o,height:2*o}:{})):u&&(o>0||a)&&(r.graphic=p.renderer.symbol(s,e-o,i-o,2*o,2*o,c?h:f).attr(t).add(g))):l&&(r.graphic=l.destroy())},convertAttribs:function(t,e,i,n){var r,o,s=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},n=n||{};for(r in s)o=s[r],a[r]=Yt(t[o],e[r],i[r],n[r]);return a},getAttribs:function(){var t,e,i,n=this,r=n.options,o=qt[n.type].marker?r.marker:r,s=o.states,a=s.hover,l=n.color,c=n.options.negativeColor,u={stroke:l,fill:l},d=n.points||[],p=[],f=n.pointAttrToOptions;t=n.hasPointSpecificOptions;var m=o.lineColor,g=o.fillColor;e=r.turboThreshold;var y,v,b=n.zones,x=n.zoneAxis||"y";if(r.marker?(a.radius=a.radius||o.radius+a.radiusPlus,a.lineWidth=a.lineWidth||o.lineWidth+a.lineWidthPlus):(a.color=a.color||C(a.color||l).brighten(a.brightness).get(),a.negativeColor=a.negativeColor||C(a.negativeColor||c).brighten(a.brightness).get()),p[""]=n.convertAttribs(o,u),It(["hover","select"],function(t){p[t]=n.convertAttribs(s[t],p[""])}),n.pointAttr=p,l=d.length,!e||l<e||t)for(;l--;){if(e=d[l],(o=e.options&&e.options.marker||e.options)&&o.enabled===!1&&(o.radius=0),u=null,b.length){for(t=0,u=b[t];e[x]>=u.value;)u=b[++t];e.color=e.fillColor=u=Yt(u.color,n.color)}if(t=r.colorByPoint||e.color,e.options)for(v in f)h(o[f[v]])&&(t=!0);t?(o=o||{},i=[],s=o.states||{},t=s.hover=s.hover||{},r.marker&&(!e.negative||t.fillColor||a.fillColor)||(t[n.pointAttrToOptions.fill]=t.color||!e.options.color&&a[e.negative&&c?"negativeColor":"color"]||C(e.color).brighten(t.brightness||a.brightness).get()),y={color:e.color},g||(y.fillColor=e.color),m||(y.lineColor=e.color),o.hasOwnProperty("color")&&!o.color&&delete o.color,u&&!a.fillColor&&(t.fillColor=u),i[""]=n.convertAttribs(Ht(y,o),p[""]),i.hover=n.convertAttribs(s.hover,p.hover,i[""]),i.select=n.convertAttribs(s.select,p.select,i[""])):i=p,e.pointAttr=i}},destroy:function(){var t,e,i,n,r=this,o=r.chart,s=/AppleWebKit\/533/.test(ut),a=r.data||[];for(Bt(r,"destroy"),jt(r),It(r.axisTypes||[],function(t){(n=r[t])&&(l(n.series,r),n.isDirty=n.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();r.points=null,clearTimeout(r.animationTimeout);for(i in r)r[i]instanceof A&&!r[i].survive&&(t=s&&"group"===i?"hide":"destroy",r[i][t]());o.hoverSeries===r&&(o.hoverSeries=null),l(o.series,r);for(i in r)delete r[i]},getGraphPath:function(t,e,i){var n,r,o=this,s=o.options,a=s.step,l=[],t=t||o.points;return(n=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&n&&(a=4-a),s.connectNulls&&!e&&!i&&(t=this.getValidPoints(t)),It(t,function(n,c){var u=n.plotX,d=n.plotY,p=t[c-1];(n.leftCliff||p&&p.rightCliff)&&!i&&(r=!0),n.isNull&&!h(e)&&c>0?r=!s.connectNulls:n.isNull&&!e?r=!0:(0===c||r?p=["M",n.plotX,n.plotY]:o.getPointSpline?p=o.getPointSpline(t,n,c):a?(p=1===a?["L",p.plotX,d]:2===a?["L",(p.plotX+u)/2,p.plotY,"L",(p.plotX+u)/2,d]:["L",u,p.plotY],p.push("L",u,d)):p=["L",u,d],l.push.apply(l,p),r=!1)}),o.graphPath=l},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,r="square"!==e.linecap,o=(this.gappedPath||this.getGraphPath).call(this),s=this.fillGraph&&this.color||"none";It(this.zones,function(n,r){i.push(["zoneGraph"+r,n.color||t.color,n.dashStyle||e.dashStyle])}),It(i,function(i,a){var l=i[0],h=t[l];h?h.animate({d:o}):(n||s)&&o.length&&(h={stroke:i[1],"stroke-width":n,fill:s,zIndex:1},i[2]?h.dashstyle=i[2]:r&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(o).attr(h).add(t.group).shadow(a<2&&e.shadow))})},applyZones:function(){var t,e,i,n,r,o,s,a=this,l=this.chart,h=l.renderer,c=this.zones,u=this.clips||[],d=this.graph,p=this.area,f=rt(l.chartWidth,l.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],g=m.reversed,y=l.inverted,v=m.horiz,b=!1;c.length&&(d||p)&&m.min!==I&&(d&&d.hide(),p&&p.hide(),n=m.getExtremes(),It(c,function(c,x){t=g?v?l.plotWidth:0:v?0:m.toPixels(n.min),t=ot(rt(Yt(e,t),0),f),e=ot(rt(et(m.toPixels(Yt(c.value,n.max),!0)),0),f),b&&(t=e=m.toPixels(n.max)),r=Math.abs(t-e),o=ot(t,e),s=rt(t,e),m.isXAxis?(i={x:y?s:o,y:0,width:r,height:f},v||(i.x=l.plotHeight-i.x)):(i={x:0,y:y?s:o,width:f,height:r},v&&(i.y=l.plotWidth-i.y)),l.inverted&&h.isVML&&(i=m.isXAxis?{x:0,y:g?o:s,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),u[x]?u[x].animate(i):(u[x]=h.clipRect(i),d&&a["zoneGraph"+x].clip(u[x]),p&&a["zoneArea"+x].clip(u[x])),b=c.value>n.max}),this.clips=u)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};It(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(zt(i,"resize",t),zt(e,"destroy",function(){jt(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:n||.1}).add(r),o.addClass("highcharts-series-"+this.index)),o.attr({visibility:i})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,r=!!e.animate&&i.renderer.isSVG&&S(n.animation).duration,o=e.visible?"inherit":"hidden",s=n.zIndex,a=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",o,s,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,l),r&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&i.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),It(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip!==!1&&!e.sharedClipKey&&!a&&t.clip(i.clipRect),r&&e.animate(),a||(e.animationTimeout=d(function(){e.afterAnimate()},r)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,n=this.xAxis,r=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:Yt(n&&n.left,t.plotLeft),translateY:Yt(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(i,n,r){var o,s;if(s=i&&i.length)return o=e.kdAxisArray[n%r],i.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(s/2),{point:i[s],left:t(i.slice(0,s),n+1,r),right:t(i.slice(s+1),n+1,r)}}var e=this,i=e.kdDimensions;delete e.kdTree,d(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i)},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,a,l){var c,u,d=e.point,p=n.kdAxisArray[a%l],f=d;return u=h(t[r])&&h(d[r])?Math.pow(t[r]-d[r],2):null,c=h(t[o])&&h(d[o])?Math.pow(t[o]-d[o],2):null,c=(u||0)+(c||0),d.dist=h(c)?Math.sqrt(c):Number.MAX_VALUE,d.distX=h(u)?Math.sqrt(u):Number.MAX_VALUE,p=t[p]-d[p],c=p<0?"left":"right",u=p<0?"right":"left",e[c]&&(c=i(t,e[c],a+1,l),f=c[s]<f[s]?c:d),e[u]&&Math.sqrt(p*p)<f[s]&&(t=i(t,e[u],a+1,l),f=t[s]<f[s]?t:f),f}var n=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},Ht(he.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=Yt(e,!0),Bt(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)})),n},addAxis:function(t,e,i,r){var o=e?"xAxis":"yAxis",s=this.options,t=n(t,{index:this[o].length,isX:e});new Jt(this,t),s[o]=u(s[o]||{}),s[o].push(t),Yt(i,!0)&&this.redraw(r)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,r=i.loading,o=function(){n&&p(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};n||(e.loadingDiv=n=f(Tt,{className:"highcharts-loading"},Ht(r.style,{zIndex:10,display:"none"}),e.container),e.loadingSpan=f("span",null,r.labelStyle,n),zt(e,"redraw",o)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(p(n,{opacity:0,display:""}),Ft(n,{opacity:r.style.opacity},{duration:r.showDuration||0}),e.loadingShown=!0),o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Ft(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){p(e,{display:"none"})}}),this.loadingShown=!1}}),Ht(ce.prototype,{update:function(t,e,i,n){function r(){l.applyOptions(t),null===l.y&&c&&(l.graphic=c.destroy()),s(t)&&!a(t)&&(l.redraw=function(){c&&c.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=c.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),o=l.index,h.updateParallelArrays(l,o),p&&l.name&&(p[l.x]=l.name),d.data[o]=s(d.data[o])&&!a(d.data[o])?l.options:t,h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===d.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(i)}var o,l=this,h=l.series,c=l.graphic,u=h.chart,d=h.options,p=h.xAxis&&h.xAxis.names,e=Yt(e,!0);n===!1?r():l.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(Lt(this,this.series.data),t,e)}}),Ht(ue.prototype,{addPoint:function(t,e,i,n){var r,o=this,s=o.options,a=o.data,l=o.graph,h=o.area,c=o.chart,u=o.xAxis&&o.xAxis.names,d=l&&l.shift||0,p=["graph","area"],l=s.data,f=o.xData;if(P(n,c),i){for(n=o.zones.length;n--;)p.push("zoneGraph"+n,"zoneArea"+n);It(p,function(t){o[t]&&(o[t].shift=d+(s.step?2:1))})}if(h&&(h.isArea=!0),e=Yt(e,!0),h={series:o},o.pointClass.prototype.applyOptions.apply(h,[t]),p=h.x,n=f.length,o.requireSorting&&p<f[n-1])for(r=!0;n&&f[n-1]>p;)n--;o.updateParallelArrays(h,"splice",n,0,0),o.updateParallelArrays(h,n),u&&h.name&&(u[p]=h.name),l.splice(n,0,t),r&&(o.data.splice(n,0,null),o.processData()),"point"===s.legendType&&o.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),o.updateParallelArrays(h,"shift"),l.shift())),o.isDirty=!0,o.isDirtyData=!0,e&&(o.getAttribs(),c.redraw())},removePoint:function(t,e,i){var n=this,r=n.data,o=r[t],s=n.points,a=n.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};P(i,a),e=Yt(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,n=i.chart;Bt(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),Yt(t,!0)&&n.redraw(e)})},update:function(t,e){var i,r=this,o=this.chart,s=this.userOptions,a=this.type,l=Et[a].prototype,h=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==a||void 0!==t.zIndex)&&(h.length=0),It(h,function(t){h[t]=r[t],delete r[t]}),t=n(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(i in l)this[i]=I;Ht(this,Et[t.type||a].prototype),It(h,function(t){r[t]=h[t]}),this.init(o,t),o.linkSeries(),Yt(e,!0)&&o.redraw(!1)}}),Ht(Jt.prototype,{update:function(t,e){var i=this.chart,t=i.options[this.coll][this.options.index]=n(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=I,this.init(i,Ht(t,{events:I})),i.isDirtyBox=!0,Yt(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),It(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,Yt(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}}),$t=m(ue),Et.line=$t,qt.column=n(Vt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),$t=m(ue,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ue.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&It(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,n=e.xAxis,r=e.yAxis,o=n.reversed,s={},a=0;i.grouping===!1?a=1:It(e.chart.series,function(i){var n,o=i.options,l=i.yAxis;i.type===e.type&&i.visible&&r.len===l.len&&r.pos===l.pos&&(o.stacking?(t=i.stackKey,s[t]===I&&(s[t]=a++),n=s[t]):o.grouping!==!1&&(n=a++),i.columnIndex=n)});var l=ot(st(n.transA)*(n.ordinalSlope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),h=l*i.groupPadding,c=(l-2*h)/a,i=ot(i.maxPointWidth||n.len,Yt(i.pointWidth,c*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(c-i)/2+(h+((e.columnIndex||0)+(o?1:0))*c-l/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var r=this.chart,o=this.borderWidth,s=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),i=Math.round(t+i)+s,t=Math.round(t)+s,i-=t,n=Math.round(e+n)+o,s=st(e)<=.5&&n>.5,e=Math.round(e)+o,n-=e,s&&n&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=Yt(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),r=t.yAxis,o=t.translatedThreshold=r.getThreshold(i.threshold),s=Yt(i.minPointLength,5),a=t.getColumnMetrics(),l=a.width,h=t.barW=rt(l,1+2*n),c=t.pointXOffset=a.offset;e.inverted&&(o-=.5),i.pointPadding&&(h=nt(h)),ue.prototype.translate.apply(t),It(t.points,function(i){var n,a=ot(Yt(i.yBottom,o),9e4),u=999+st(a),u=ot(rt(-u,i.plotY),r.len+u),d=i.plotX+c,p=h,f=ot(u,a),m=rt(u,a)-f;st(m)<s&&s&&(m=s,n=!r.reversed&&!i.negative||r.reversed&&i.negative,f=st(f-o)>s?a-s:o-(n?s:0)),i.barX=d,i.pointWidth=l,i.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-u,t.xAxis.len-d-p/2,m]:[d+p/2,u+r.pos-e.plotTop,m],i.shapeType="rect",i.shapeArgs=t.crispCol(d,f,p,m)})},getSymbol:_t,drawLegendSymbol:le.drawRectangle,drawGraph:_t,drawPoints:function(){var t,e,i=this,r=this.chart,o=i.options,s=r.renderer,a=o.animationLimit||250;It(i.points,function(l){var c,u=l.graphic;Xt(l.plotY)&&null!==l.y?(t=l.shapeArgs,c=h(i.borderWidth)?{"stroke-width":i.borderWidth}:{},e=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],u?(Gt(u),u.attr(c).attr(e)[r.pointCount<a?"animate":"attr"](n(t))):l.graphic=s[l.shapeType](t).attr(c).attr(e).add(l.group||i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius)):u&&(l.graphic=u.destroy())})},animate:function(t){var e=this,i=this.yAxis,n=e.options,r=this.chart.inverted,o={};bt&&(t?(o.scaleY=.001,t=ot(i.pos+i.len,rt(i.pos,i.toPixels(n.threshold))),r?o.translateX=t-i.len:o.translateY=t,e.group.attr(o)):(o[r?"translateX":"translateY"]=i.pos,e.group.animate(o,Ht(S(e.options.animation),{step:function(t,i){e.group.attr({scaleY:rt(.001,i.pos)})}})),e.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&It(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),ue.prototype.remove.apply(t,arguments)}}),Et.column=$t,qt.scatter=n(Vt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Vt=m(ue,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&ue.prototype.drawGraph.call(this)}}),Et.scatter=Vt,ue.prototype.drawDataLabels=function(){var t,e,i,r,o=this,s=o.options,a=s.cursor,l=s.dataLabels,c=o.points,u=o.hasRendered||0,d=Yt(l.defer,!0),p=o.chart.renderer;(l.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(l),r=o.plotGroup("dataLabelsGroup","data-labels",d&&!u?"hidden":"visible",l.zIndex||6),d&&(r.attr({opacity:+u}),u||zt(o,"afterAnimate",function(){o.visible&&r.show(),r[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),e=l,It(c,function(c){var u,d,f,m,g=c.dataLabel,v=c.connector,b=!0,x={};if(t=c.dlOptions||c.options&&c.options.dataLabels,u=Yt(t&&t.enabled,e.enabled)&&null!==c.y,g&&!u)c.dataLabel=g.destroy();else if(u){if(l=n(e,t),m=l.style,u=l.rotation,d=c.getLabelConfig(),i=l.format?y(l.format,d):l.formatter.call(d,l),m.color=Yt(l.color,m.color,o.color,"black"),g)h(i)?(g.attr({text:i}),b=!1):(c.dataLabel=g=g.destroy(),v&&(c.connector=v.destroy()));else if(h(i)){g={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:u,padding:l.padding,zIndex:1},"contrast"===m.color&&(x.color=l.inside||l.distance<0||s.stacking?p.getContrast(c.color||o.color):"#000000"),a&&(x.cursor=a);for(f in g)g[f]===I&&delete g[f];g=c.dataLabel=p[u?"text":"label"](i,0,-9999,l.shape,null,null,l.useHTML).attr(g).css(Ht(m,x)).add(r).shadow(l.shadow)}g&&o.alignDataLabel(c,g,l,null,b)}}))},ue.prototype.alignDataLabel=function(t,e,i,n,r){var o=this.chart,s=o.inverted,a=Yt(t.plotX,-9999),l=Yt(t.plotY,-9999),h=e.getBBox(),c=o.renderer.fontMetrics(i.style.fontSize).b,u=i.rotation,d=i.align,p=this.visible&&(t.series.forceDL||o.isInsidePlot(a,et(l),s)||n&&o.isInsidePlot(a,s?n.x+1:n.y+n.height-1,s)),f="justify"===Yt(i.overflow,"justify");p&&(n=Ht({x:s?o.plotWidth-l:a,y:et(s?o.plotHeight-a:l),width:0,height:0},n),Ht(i,{width:h.width,height:h.height}),u?(f=!1,s=o.renderer.rotCorr(c,u),s={x:n.x+i.x+n.width/2+s.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[r?"attr":"animate"](s).attr({align:d}),a=(u+720)%360,a=a>180&&a<360,"left"===d?s.y-=a?h.height:0:"center"===d?(s.x-=h.width/2,s.y-=h.height/2):"right"===d&&(s.x-=h.width,s.y-=a?0:h.height)):(e.align(i,null,n),s=e.alignAttr),f?this.justifyDataLabel(e,i,s,h,n,r):Yt(i.crop,!0)&&(p=o.isInsidePlot(s.x,s.y)&&o.isInsidePlot(s.x+h.width,s.y+h.height)),i.shape&&!u&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),p||(Gt(e),e.attr({y:-9999}),e.placed=!1)},ue.prototype.justifyDataLabel=function(t,e,i,n,r,o){var s,a,l=this.chart,h=e.align,c=e.verticalAlign,u=t.box?0:t.padding||0;s=i.x+u,s<0&&("right"===h?e.align="left":e.x=-s,a=!0),s=i.x+n.width-u,s>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-s,a=!0),s=i.y+u,s<0&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),s=i.y+n.height-u,s>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},Et.pie&&(Et.pie.prototype.drawDataLabels=function(){var t,e,i,n,r,o,s,a,l,h,c,u=this,d=u.data,p=u.chart,f=u.options.dataLabels,m=Yt(f.connectorPadding,10),g=Yt(f.connectorWidth,1),y=p.plotWidth,v=p.plotHeight,b=Yt(f.softConnector,!0),x=f.distance,k=u.center,M=k[2]/2,_=k[1],P=x>0,S=[[],[]],T=[0,0,0,0],C=function(t,e){return e.y-t.y};if(u.visible&&(f.enabled||u._hasPointLabels)){for(ue.prototype.drawDataLabels.apply(u),It(d,function(t){t.dataLabel&&t.visible&&(S[t.half].push(t),t.dataLabel._pos=null)}),h=2;h--;){var A,E=[],O=[],L=S[h],I=L.length;if(I){for(u.sortByAngle(L,h-.5),c=d=0;!d&&L[c];)d=L[c]&&L[c].dataLabel&&(L[c].dataLabel.getBBox().height||21),c++;if(x>0){for(r=ot(_+M+x,p.plotHeight),c=rt(0,_-M-x);c<=r;c+=d)E.push(c);if(r=E.length,I>r){for(t=[].concat(L),t.sort(C),c=I;c--;)t[c].rank=c;for(c=I;c--;)L[c].rank>=r&&L.splice(c,1);I=L.length}for(c=0;c<I;c++){t=L[c],o=t.labelPos,t=9999;var D,R;for(R=0;R<r;R++)D=st(E[R]-o[1]),D<t&&(t=D,A=R);if(A<c&&null!==E[c])A=c;else for(r<I-c+A&&null!==E[c]&&(A=r-I+c);null===E[A];)A++;O.push({i:A,y:E[A]}),E[A]=null}O.sort(C)}for(c=0;c<I;c++)t=L[c],o=t.labelPos,n=t.dataLabel,l=t.visible===!1?"hidden":"inherit",t=o[1],x>0?(r=O.pop(),A=r.i,a=r.y,(t>a&&null!==E[A+1]||t<a&&null!==E[A-1])&&(a=ot(rt(0,t),p.plotHeight))):a=t,s=f.justify?k[0]+(h?-1:1)*(M+x):u.getX(a===_-M-x||a===_+M+x?t:a,h),n._attr={visibility:l,align:o[6]},n._pos={x:s+f.x+({left:m,right:-m}[o[6]]||0),y:a+f.y-10},n.connX=s,n.connY=a,null===this.options.size&&(r=n.width,s-r<m?T[3]=rt(et(r-s+m),T[3]):s+r>y-m&&(T[1]=rt(et(s+r-y+m),T[1])),a-d/2<0?T[0]=rt(et(-a+d/2),T[0]):a+d/2>v&&(T[2]=rt(et(a+d/2-v),T[2])))}}(0===w(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),P&&g&&It(this.points,function(t){e=t.connector,o=t.labelPos,(n=t.dataLabel)&&n._pos&&t.visible?(l=n._attr.visibility,s=n.connX,a=n.connY,i=b?["M",s+("left"===o[6]?5:-5),a,"C",s,a,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",s+("left"===o[6]?5:-5),a,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=u.chart.renderer.path(i).attr({"stroke-width":g,stroke:f.connectorColor||t.color||"#606060",visibility:l}).add(u.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},Et.pie.prototype.placeDataLabels=function(){It(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},Et.pie.prototype.alignDataLabel=_t,Et.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,r=n.center,o=n.minSize||80,s=o;return null!==r[0]?s=rt(i[2]-rt(t[1],t[3]),o):(s=rt(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==r[1]?s=rt(ot(s,i[2]-rt(t[0],t[2])),o):(s=rt(ot(s,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,i[3]=Math.min(/%$/.test(n.innerSize||0)?s*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),s),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Et.column&&(Et.column.prototype.alignDataLabel=function(t,e,i,r,o){var s=this.chart.inverted,a=t.series,l=t.dlBox||t.shapeArgs,h=Yt(t.below,t.plotY>Yt(this.translatedThreshold,a.yAxis.len)),c=Yt(i.inside,!!this.options.stacking);l&&(r=n(l),r.y<0&&(r.height+=r.y,r.y=0),l=r.y+r.height-a.yAxis.len,l>0&&(r.height-=l),s&&(r={x:a.yAxis.len-r.y-r.height,y:a.xAxis.len-r.x-r.width,width:r.height,height:r.width}),c||(s?(r.x+=h?0:r.width,r.width=0):(r.y+=h?r.height:0,r.height=0))),i.align=Yt(i.align,!s||c?"center":h?"right":"left"),i.verticalAlign=Yt(i.verticalAlign,s||c?"middle":h?"top":"bottom"),ue.prototype.alignDataLabel.call(this,t,e,i,r,o)}),function(t){var e=t.Chart,i=t.each,n=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&i(o,function(r){i(t.points,function(t){t[r]&&(t[r].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,s,a,l,h,c,u=t.length;for(n=0;n<u;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<u;n++)for(r=t[n],e=n+1;e<u;++e)o=t[e],r&&o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(s=r.alignAttr,a=o.alignAttr,l=r.parentGroup,h=o.parentGroup,c=2*(r.box?0:r.padding),s=!(a.x+h.translateX>s.x+l.translateX+(r.width-c)||a.x+h.translateX+(o.width-c)<s.x+l.translateX||a.y+h.translateY>s.y+l.translateY+(r.height-c)||a.y+h.translateY+(o.height-c)<s.y+l.translateY))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(Q),Ut(Jt.prototype,"getSeriesExtremes",function(t){var e,i,n,r=this.isXAxis,o=[];r&&It(this.series,function(t,e){t.useMapGeometry&&(o[e]=t.xData,t.xData=[])}),t.call(this),r&&(e=Yt(this.dataMin,Number.MAX_VALUE),i=Yt(this.dataMax,-Number.MAX_VALUE),It(this.series,function(t,r){t.useMapGeometry&&(e=Math.min(e,Yt(t.minX,e)),i=Math.max(i,Yt(t.maxX,e)),t.xData=o[r],n=!0)}),n)&&(this.dataMin=e,this.dataMax=i)}),Ut(Jt.prototype,"setAxisTranslation",function(t){var e,i=this.chart,n=i.plotWidth/i.plotHeight,i=i.xAxis[0];t.call(this),"yAxis"===this.coll&&i.transA!==I&&It(this.series,function(t){t.preserveAspectRatio&&(e=!0)}),e&&(this.transA=i.transA=Math.min(this.transA,i.transA),t=n/((i.max-i.min)/(this.max-this.min)),t=t<1?this:i,n=(t.max-t.min)*t.transA,t.pixelPadding=t.len-n,t.minPixelPadding=t.pixelPadding/2,n=t.fixTo)&&(n=n[1]-t.toValue(n[0],!0),n*=t.transA,(Math.abs(n)>t.minPixelPadding||t.min===t.dataMin&&t.max===t.dataMax)&&(n=0),t.minPixelPadding-=n)}),Ut(Jt.prototype,"render",function(t){t.call(this),this.fixTo=null});var de=Q.ColorAxis=function(){this.isColorAxis=!0,this.init.apply(this,arguments)};Ht(de.prototype,Jt.prototype),Ht(de.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(t,e){var i,r="vertical"!==t.options.legend.layout;i=n(this.defaultColorAxisOptions,{side:r?2:1,reversed:!r},e,{opposite:!r,showEmpty:!1,title:null,isColor:!0}),Jt.prototype.init.call(this,t,i),e.dataClasses&&this.initDataClasses(e),this.initStops(e),this.horiz=r,this.zoomEnabled=!1},tweenColors:function(t,e,i){var n;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,n=1!==e[3]||1!==t[3],t=(n?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-i))+","+Math.round(e[1]+(t[1]-e[1])*(1-i))+","+Math.round(e[2]+(t[2]-e[2])*(1-i))+(n?","+(e[3]+(t[3]-e[3])*(1-i)):"")+")"):t=e.input||"none",t},initDataClasses:function(t){var e,i=this,r=this.chart,o=0,s=this.options,a=t.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],It(t.dataClasses,function(t,l){var h,t=n(t);e.push(t),t.color||("category"===s.dataClassColor?(h=r.options.colors,t.color=h[o++],o===h.length&&(o=0)):t.color=i.tweenColors(C(s.minColor),C(s.maxColor),a<2?.5:l/(a-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],It(this.stops,function(t){t.color=C(t[1])})},setOptions:function(t){Jt.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker,this.coll="colorAxis"},setAxisSize:function(){var t,e,i,n=this.legendSymbol,r=this.chart;n&&(this.left=t=n.attr("x"),this.top=e=n.attr("y"),this.width=i=n.attr("width"),this.height=n=n.attr("height"),this.right=r.chartWidth-t-i,this.bottom=r.chartHeight-e-n,this.len=this.horiz?i:n,this.pos=this.horiz?t:e)},toColor:function(t,e){var i,n,r,o,s=this.stops,a=this.dataClasses;if(a){for(o=a.length;o--;)if(r=a[o],n=r.from,s=r.to,(n===I||t>=n)&&(s===I||t<=s)){i=r.color,e&&(e.dataClass=o);break}}else{for(this.isLog&&(t=this.val2lin(t)),i=1-(this.max-t)/(this.max-this.min||1),o=s.length;o--&&!(i>s[o][0]););n=s[o]||s[o+1],s=s[o+1]||n,i=1-(s[0]-i)/(s[0]-n[0]||1),i=this.tweenColors(n.color,s.color,i)}return i},getOffset:function(){var t=this.legendGroup,e=this.chart.axisOffset[this.side];t&&(this.axisParent=t,Jt.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},setLegendColor:function(){var t,e=this.options,i=this.reversed;t=i?1:0,i=i?0:1,t=this.horiz?[t,0,i,0]:[0,i,0,t],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:e.stops||[[0,e.minColor],[1,e.maxColor]]}},drawLegendSymbol:function(t,e){var i=t.padding,n=t.options,r=this.horiz,o=Yt(n.symbolWidth,r?200:12),s=Yt(n.symbolHeight,r?12:200),a=Yt(n.labelPadding,r?16:30),n=Yt(n.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,o,s).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=o+i+(r?n:a),this.legendItemHeight=s+i+(r?a:0)},setState:_t,visible:!0,setVisible:_t,getSeriesExtremes:function(){var t;this.series.length&&(t=this.series[0],this.dataMin=t.valueMin,this.dataMax=t.valueMax)},drawCrosshair:function(t,e){var i,n=e&&e.plotX,r=e&&e.plotY,o=this.pos,s=this.len;e&&(i=this.toPixels(e[e.series.colorKey]),i<o?i=o-2:i>o+s&&(i=o+s+2),e.plotX=i,e.plotY=this.len-i,Jt.prototype.drawCrosshair.call(this,t,e),e.plotX=n,e.plotY=r,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup))},getPlotLinePath:function(t,e,i,n,r){return Xt(r)?this.horiz?["M",r-4,this.top-6,"L",r+4,this.top-6,r,this.top,"Z"]:["M",this.left,r,"L",this.left-6,r+6,this.left-6,r-6,"Z"]:Jt.prototype.getPlotLinePath.call(this,t,e,i,n)},update:function(t,e){var i=this.chart,r=i.legend;It(this.series,function(t){t.isDirtyData=!0}),t.dataClasses&&r.allItems&&(It(r.allItems,function(t){t.isDataClass&&t.legendGroup.destroy()}),i.isDirtyLegend=!0),i.options[this.coll]=n(this.userOptions,t),Jt.prototype.update.call(this,t,e),this.legendItem&&(this.setLegendColor(),r.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var t,e=this,i=this.chart,n=this.legendItems,r=i.options.legend,o=r.valueDecimals,s=r.valueSuffix||"";return n.length||It(this.dataClasses,function(r,a){var l=!0,h=r.from,c=r.to;t="",h===I?t="< ":c===I&&(t="> "),h!==I&&(t+=Q.numberFormat(h,o)+s),h!==I&&c!==I&&(t+=" - "),c!==I&&(t+=Q.numberFormat(c,o)+s),n.push(Ht({chart:i,name:t,options:{},drawLegendSymbol:le.drawRectangle,visible:!0,setState:_t,isDataClass:!0,setVisible:function(){l=this.visible=!l,It(e.series,function(t){It(t.points,function(t){t.dataClass===a&&t.setVisible(l)})}),i.legend.colorizeItem(this,l)}},r))}),n},name:""}),It(["fill","stroke"],function(t){Q.Fx.prototype[t+"Setter"]=function(){this.elem.attr(t,de.prototype.tweenColors(C(this.start),C(this.end),this.pos))}}),Ut(he.prototype,"getAxes",function(t){var e=this.options.colorAxis;t.call(this),this.colorAxis=[],e&&new de(this,e)}),Ut(ae.prototype,"getAllItems",function(t){var e=[],i=this.chart.colorAxis[0];return i&&(i.options.dataClasses?e=e.concat(i.getDataClassLegendSymbols()):e.push(i),It(i.series,function(t){t.options.showInLegend=!1})),e.concat(t.call(this))});var pe={setVisible:function(t){var e=this,i=t?"show":"hide";It(["graphic","dataLabel"],function(t){e[t]&&e[t][i]()})}},fe={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:_t,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var t=this,e=this.options.nullColor,i=this.colorAxis,n=this.colorKey;It(this.data,function(r){var o=r[n];(o=r.options.color||(null===o?e:i&&void 0!==o?i.toColor(o,r):r.color||t.color))&&(r.color=o)})}},me=void 0!==J.documentElement.style.vectorEffect;qt.map=n(qt.scatter,{allAreas:!0,animation:!1,nullColor:"#F8F8F8",borderColor:"silver",borderWidth:1,marker:null,stickyTracking:!1,dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null}}});var ge=m(ce,Ht({applyOptions:function(t,e){var i=ce.prototype.applyOptions.call(this,t,e),n=this.series,r=n.joinBy;return n.mapData&&((r=void 0!==i[r[1]]&&n.mapMap[i[r[1]]])?(n.xyFromShape&&(i.x=r._midX,i.y=r._midY),Ht(i,r)):i.value=i.value||null),i},onMouseOver:function(t){clearTimeout(this.colorInterval),null!==this.value?ce.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},onMouseOut:function(){var t,e=this,i=+new F,n=C(e.color),r=C(e.pointAttr.hover.fill),o=S(e.series.options.states.normal.animation).duration;o&&4===n.rgba.length&&4===r.rgba.length&&"select"!==e.state&&(t=e.pointAttr[""].fill,delete e.pointAttr[""].fill,clearTimeout(e.colorInterval),e.colorInterval=setInterval(function(){var t=(new F-i)/o,s=e.graphic;t>1&&(t=1),s&&s.attr("fill",de.prototype.tweenColors.call(0,r,n,t)),t>=1&&clearTimeout(e.colorInterval)},13)),
ce.prototype.onMouseOut.call(e),t&&(e.pointAttr[""].fill=t)},zoomTo:function(){var t=this.series;t.xAxis.setExtremes(this._minX,this._maxX,!1),t.yAxis.setExtremes(this._minY,this._maxY,!1),t.chart.redraw()}},pe));Et.map=m(Et.scatter,n(fe,{type:"map",pointClass:ge,supportsDrilldown:!0,getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:_t,directTouch:!0,preserveAspectRatio:!0,getBox:function(t){var e,i=Number.MAX_VALUE,n=-i,r=i,o=-i,s=i,a=i,l=this.xAxis,h=this.yAxis;It(t||[],function(t){if(t.path){"string"==typeof t.path&&(t.path=Q.splitPath(t.path));var l=t.path||[],h=l.length,c=!1,u=-i,d=i,p=-i,f=i,m=t.properties;if(!t._foundBox){for(;h--;)Xt(l[h])&&(c?(u=Math.max(u,l[h]),d=Math.min(d,l[h])):(p=Math.max(p,l[h]),f=Math.min(f,l[h])),c=!c);t._midX=d+(u-d)*(t.middleX||m&&m["hc-middle-x"]||.5),t._midY=f+(p-f)*(t.middleY||m&&m["hc-middle-y"]||.5),t._maxX=u,t._minX=d,t._maxY=p,t._minY=f,t.labelrank=Yt(t.labelrank,(u-d)*(p-f)),t._foundBox=!0}n=Math.max(n,t._maxX),r=Math.min(r,t._minX),o=Math.max(o,t._maxY),s=Math.min(s,t._minY),a=Math.min(t._maxX-t._minX,t._maxY-t._minY,a),e=!0}}),e&&(this.minY=Math.min(s,Yt(this.minY,i)),this.maxY=Math.max(o,Yt(this.maxY,-i)),this.minX=Math.min(r,Yt(this.minX,i)),this.maxX=Math.max(n,Yt(this.maxX,-i)),l&&void 0===l.options.minRange&&(l.minRange=Math.min(5*a,(this.maxX-this.minX)/5,l.minRange||i)),h&&void 0===h.options.minRange&&(h.minRange=Math.min(5*a,(this.maxY-this.minY)/5,h.minRange||i)))},getExtremes:function(){ue.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(t){var e,i=!1,n=this.xAxis,r=this.yAxis,o=n.min,s=n.transA,n=n.minPixelPadding,a=r.min,l=r.transA,r=r.minPixelPadding,h=[];if(t)for(e=t.length;e--;)Xt(t[e])?(h[e]=i?(t[e]-o)*s+n:(t[e]-a)*l+r,i=!i):h[e]=t[e];return h},setData:function(t,e,i,r){var o,s,a,l=this.options,h=l.mapData,c=l.joinBy,u=null===c,d=[],p={};if(u&&(c="_i"),c=this.joinBy=Q.splat(c),c[1]||(c[1]=c[0]),t&&It(t,function(e,i){Xt(e)&&(t[i]={value:e}),u&&(t[i]._i=i)}),this.getBox(t),h){if("FeatureCollection"===h.type){if(h["hc-transform"])for(o in this.chart.mapTransforms=s=h["hc-transform"],s)s.hasOwnProperty(o)&&o.rotation&&(o.cosAngle=Math.cos(o.rotation),o.sinAngle=Math.sin(o.rotation));h=Q.geojson(h,this.type,this)}for(this.mapData=h,a=0;a<h.length;a++)o=h[a],s=o.properties,o._i=a,c[0]&&s&&s[c[0]]&&(o[c[0]]=s[c[0]]),p[o[c[0]]]=o;this.mapMap=p,t&&c[1]&&It(t,function(t){p[t[c[1]]]&&d.push(p[t[c[1]]])}),l.allAreas?(this.getBox(h),t=t||[],d="|"+Nt(d,function(t){return t[c[0]]}).join("|")+"|",It(h,function(e){c[0]&&d.indexOf("|"+e[c[0]]+"|")!==-1||(t.push(n(e,{value:null})),r=!1)})):this.getBox(d)}ue.prototype.setData.call(this,t,e,i,r)},drawGraph:_t,drawDataLabels:_t,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var t=this,e=t.xAxis,i=t.yAxis,n=t.doFullTranslate();t.generatePoints(),It(t.data,function(r){r.plotX=e.toPixels(r._midX,!0),r.plotY=i.toPixels(r._midY,!0),n&&(r.shapeType="path",r.shapeArgs={d:t.translatePath(r.path)},me&&(r.shapeArgs["vector-effect"]="non-scaling-stroke"))}),t.translateColors()},drawPoints:function(){var t,e=this,i=e.xAxis,n=e.yAxis,r=e.group,o=e.chart,s=o.renderer,a=this.baseTrans;e.transformGroup||(e.transformGroup=s.g().attr({scaleX:1,scaleY:1}).add(r),e.transformGroup.survive=!0),e.doFullTranslate()?(o.hasRendered&&"color"===e.pointAttrToOptions.fill&&It(e.points,function(t){t.shapeArgs&&(t.shapeArgs.fill=t.pointAttr[Yt(t.state,"")].fill)}),me||It(e.points,function(t){t=t.pointAttr[""],t["stroke-width"]===e.pointAttr[""]["stroke-width"]&&(t["stroke-width"]="inherit")}),e.group=e.transformGroup,Et.column.prototype.drawPoints.apply(e),e.group=r,It(e.points,function(t){t.graphic&&(t.name&&t.graphic.addClass("highcharts-name-"+t.name.replace(" ","-").toLowerCase()),t.properties&&t.properties["hc-key"]&&t.graphic.addClass("highcharts-key-"+t.properties["hc-key"].toLowerCase()),me||(t.graphic["stroke-widthSetter"]=_t))}),this.baseTrans={originX:i.min-i.minPixelPadding/i.transA,originY:n.min-n.minPixelPadding/n.transA+(n.reversed?0:n.len/n.transA),transAX:i.transA,transAY:n.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(t=i.transA/a.transAX,r=n.transA/a.transAY,i=i.toPixels(a.originX,!0),n=n.toPixels(a.originY,!0),t>.99&&t<1.01&&r>.99&&r<1.01&&(r=t=1,i=Math.round(i),n=Math.round(n)),this.transformGroup.animate({translateX:i,translateY:n,scaleX:t,scaleY:r})),me||e.group.element.setAttribute("stroke-width",e.options.borderWidth/(t||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){ue.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var t=this,e=ue.prototype.render;t.chart.renderer.isVML&&t.data.length>3e3?setTimeout(function(){e.call(t)}):e.call(t)},animate:function(t){var e=this.options.animation,i=this.group,n=this.xAxis,r=this.yAxis,o=n.pos,s=r.pos;this.chart.renderer.isSVG&&(e===!0&&(e={duration:1e3}),t?i.attr({translateX:o+n.len/2,translateY:s+r.len/2,scaleX:.001,scaleY:.001}):(i.animate({translateX:o,translateY:s,scaleX:1,scaleY:1},e),this.animate=null))},animateDrilldown:function(t){var e=this.chart.plotBox,i=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],n=i.bBox,r=this.chart.options.drilldown.animation;t||(t=Math.min(n.width/e.width,n.height/e.height),i.shapeArgs={scaleX:t,scaleY:t,translateX:n.x,translateY:n.y},It(this.points,function(t){t.graphic&&t.graphic.attr(i.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},r)}),this.animate=null)},drawLegendSymbol:le.drawRectangle,animateDrillupFrom:function(t){Et.column.prototype.animateDrillupFrom.call(this,t)},animateDrillupTo:function(t){Et.column.prototype.animateDrillupTo.call(this,t)}})),function(t){var e=t.Chart,i=t.each,n=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&i(o,function(r){i(t.points,function(t){t[r]&&(t[r].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,s,a,l,h,c,u=t.length;for(n=0;n<u;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<u;n++)for(r=t[n],e=n+1;e<u;++e)o=t[e],r&&o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(s=r.alignAttr,a=o.alignAttr,l=r.parentGroup,h=o.parentGroup,c=2*(r.box?0:r.padding),s=!(a.x+h.translateX>s.x+l.translateX+(r.width-c)||a.x+h.translateX+(o.width-c)<s.x+l.translateX||a.y+h.translateY>s.y+l.translateY+(r.height-c)||a.y+h.translateY+(o.height-c)<s.y+l.translateY))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(Q),Ht(he.prototype,{renderMapNavigation:function(){var t,e,i,r,o=this,s=this.options.mapNavigation,a=s.buttons,l=function(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},h=function(t){this.handler.call(o,t),l(t)};if(Yt(s.enableButtons,s.enabled)&&!o.renderer.forExport)for(t in o.mapNavButtons=[],a)a.hasOwnProperty(t)&&(i=n(s.buttonOptions,a[t]),e=i.theme,e.style=n(i.theme.style,i.style),r=e.states,e=o.renderer.button(i.text,0,0,h,e,r&&r.hover,r&&r.select,0,"zoomIn"===t?"topbutton":"bottombutton").attr({width:i.width,height:i.height,title:o.options.lang[t],zIndex:5}).add(),e.handler=i.onclick,e.align(Ht(i,{width:e.width,height:2*e.height}),null,i.alignTo),zt(e.element,"dblclick",l),o.mapNavButtons.push(e))},fitToBox:function(t,e){return It([["x","width"],["y","height"]],function(i){var n=i[0],i=i[1];t[n]+t[i]>e[n]+e[i]&&(t[i]>e[i]?(t[i]=e[i],t[n]=e[n]):t[n]=e[n]+e[i]-t[i]),t[i]>e[i]&&(t[i]=e[i]),t[n]<e[n]&&(t[n]=e[n])}),t},mapZoom:function(t,e,i,n,r){var o=this.xAxis[0],s=o.max-o.min,a=Yt(e,o.min+s/2),l=s*t,s=this.yAxis[0],h=s.max-s.min,c=Yt(i,s.min+h/2);h*=t,a=this.fitToBox({x:a-l*(n?(n-o.pos)/o.len:.5),y:c-h*(r?(r-s.pos)/s.len:.5),width:l,height:h},{x:o.dataMin,y:s.dataMin,width:o.dataMax-o.dataMin,height:s.dataMax-s.dataMin}),n&&(o.fixTo=[n-o.pos,e]),r&&(s.fixTo=[r-s.pos,i]),void 0!==t?(o.setExtremes(a.x,a.x+a.width,!1),s.setExtremes(a.y,a.y+a.height,!1)):(o.setExtremes(void 0,void 0,!1),s.setExtremes(void 0,void 0,!1)),this.redraw()}}),Ut(he.prototype,"render",function(t){var e=this,i=e.options.mapNavigation;e.renderMapNavigation(),t.call(e),(Yt(i.enableDoubleClickZoom,i.enabled)||i.enableDoubleClickZoomTo)&&zt(e.container,"dblclick",function(t){e.pointer.onContainerDblClick(t)}),Yt(i.enableMouseWheelZoom,i.enabled)&&zt(e.container,void 0===J.onmousewheel?"DOMMouseScroll":"mousewheel",function(t){return e.pointer.onContainerMouseWheel(t),!1})}),Ht(ie.prototype,{onContainerDblClick:function(t){var e=this.chart,t=this.normalize(t);e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e,i=this.chart,t=this.normalize(t);e=t.detail||-(t.wheelDelta/120),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&i.mapZoom(Math.pow(i.options.mapNavigation.mouseWheelSensitivity,e),i.xAxis[0].toValue(t.chartX),i.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)}}),Ut(ie.prototype,"init",function(t,e,i){t.call(this,e,i),Yt(i.mapNavigation.enableTouchZoom,i.mapNavigation.enabled)&&(this.pinchX=this.pinchHor=this.pinchY=this.pinchVert=this.hasZoom=!0)}),Ut(ie.prototype,"pinchTranslate",function(t,e,i,n,r,o,s){t.call(this,e,i,n,r,o,s),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=n.scaleX>n.scaleY,this.pinchTranslateDirection(!t,e,i,n,r,o,s,t?n.scaleX:n.scaleY))}),qt.mapline=n(qt.map,{lineWidth:1,fillColor:"none"}),Et.mapline=m(Et.map,{type:"mapline",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth",fill:"fillColor",dashstyle:"dashStyle"},drawLegendSymbol:Et.line.prototype.drawLegendSymbol}),qt.mappoint=n(qt.scatter,{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}}),Et.mappoint=m(Et.scatter,{type:"mappoint",forceDL:!0,pointClass:m(ce,{applyOptions:function(t,e){var i=ce.prototype.applyOptions.call(this,t,e);return void 0!==t.lat&&void 0!==t.lon&&(i=Ht(i,this.series.chart.fromLatLonToPoint(i))),i}})}),qt.bubble=n(qt.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});var ye=m(ce,{haloPath:function(){return ce.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});return Et.bubble=m(Et.scatter,{type:"bubble",pointClass:ye,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(t){var e=this.options.marker,i=Yt(e.fillOpacity,.5),t=t||e.fillColor||this.color;return 1!==i&&(t=C(t).setOpacity(i).get("rgba")),t},convertAttribs:function(){var t=ue.prototype.convertAttribs.apply(this,arguments);return t.fill=this.applyOpacity(t.fill),t},getRadii:function(t,e,i,n){var r,o,s,a=this.zData,l=[],h=this.options,c="width"!==h.sizeBy,u=h.zThreshold,d=e-t;for(o=0,r=a.length;o<r;o++)s=a[o],h.sizeByAbsoluteValue&&null!==s&&(s=Math.abs(s-u),e=Math.max(e-u,Math.abs(t-u)),t=0),null===s?s=null:s<t?s=i/2-1:(s=d>0?(s-t)/d:.5,c&&s>=0&&(s=Math.sqrt(s)),s=tt.ceil(i+s*(n-i))/2),l.push(s);this.radii=l},animate:function(t){var e=this.options.animation;t||(It(this.points,function(t){var i=t.graphic,t=t.shapeArgs;i&&t&&(i.attr("r",1),i.animate({r:t.r},e))}),this.animate=null)},translate:function(){var t,e,i,n=this.data,r=this.radii;for(Et.scatter.prototype.translate.call(this),t=n.length;t--;)e=n[t],i=r?r[t]:0,Xt(i)&&i>=this.minPxSize/2?(e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:i},e.dlBox={x:e.plotX-i,y:e.plotY-i,width:2*i,height:2*i}):e.shapeArgs=e.plotY=e.dlBox=I},drawLegendSymbol:function(t,e){var i=this.chart.renderer,n=i.fontMetrics(t.itemStyle.fontSize).f/2;e.legendSymbol=i.circle(n,t.baseline-n,n).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:Et.column.prototype.drawPoints,alignDataLabel:Et.column.prototype.alignDataLabel,buildKDTree:_t,applyZones:_t}),Jt.prototype.beforePadding=function(){var t=this,e=this.len,i=this.chart,n=0,o=e,s=this.isXAxis,a=s?"xData":"yData",l=this.min,h={},c=tt.min(i.plotWidth,i.plotHeight),u=Number.MAX_VALUE,d=-Number.MAX_VALUE,p=this.max-l,f=e/p,m=[];It(this.series,function(e){var n=e.options;!e.bubblePadding||!e.visible&&i.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,m.push(e),s&&(It(["minSize","maxSize"],function(t){var e=n[t],i=/%$/.test(e),e=r(e);h[t]=i?c*e/100:e}),e.minPxSize=h.minSize,e.maxPxSize=h.maxSize,e=e.zData,e.length&&(u=Yt(n.zMin,tt.min(u,tt.max(x(e),n.displayNegative===!1?n.zThreshold:-Number.MAX_VALUE))),d=Yt(n.zMax,tt.max(d,w(e))))))}),It(m,function(e){var i,r=e[a],h=r.length;if(s&&e.getRadii(u,d,e.minPxSize,e.maxPxSize),p>0)for(;h--;)Xt(r[h])&&t.dataMin<=r[h]&&r[h]<=t.dataMax&&(i=e.radii[h],n=Math.min((r[h]-l)*f-i,n),o=Math.max((r[h]-l)*f+i,o))}),m.length&&p>0&&!this.isLog&&(o-=e,f*=(e+n-o)/e,It([["min","userMin",n],["max","userMax",o]],function(e){Yt(t.options[e[0]],t[e[1]])===I&&(t[e[0]]+=e[2]/f)}))},Et.bubble&&(qt.mapbubble=n(qt.bubble,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}}),Et.mapbubble=m(Et.bubble,{pointClass:m(ce,{applyOptions:function(t,e){var i;return t&&void 0!==t.lat&&void 0!==t.lon?(i=ce.prototype.applyOptions.call(this,t,e),i=Ht(i,this.series.chart.fromLatLonToPoint(i))):i=ge.prototype.applyOptions.call(this,t,e),i},ttBelow:!1}),xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:Et.map.prototype.getMapData,getBox:Et.map.prototype.getBox,setData:Et.map.prototype.setData})),he.prototype.transformFromLatLon=function(i,n){if(void 0===t.proj4)return e(21),{x:0,y:null};var r=t.proj4(n.crs,[i.lon,i.lat]),o=n.cosAngle||n.rotation&&Math.cos(n.rotation),s=n.sinAngle||n.rotation&&Math.sin(n.rotation),r=n.rotation?[r[0]*o+r[1]*s,-r[0]*s+r[1]*o]:r;return{x:((r[0]-(n.xoffset||0))*(n.scale||1)+(n.xpan||0))*(n.jsonres||1)+(n.jsonmarginX||0),y:(((n.yoffset||0)-r[1])*(n.scale||1)+(n.ypan||0))*(n.jsonres||1)-(n.jsonmarginY||0)}},he.prototype.transformToLatLon=function(i,n){if(void 0!==t.proj4){var r={x:((i.x-(n.jsonmarginX||0))/(n.jsonres||1)-(n.xpan||0))/(n.scale||1)+(n.xoffset||0),y:((-i.y-(n.jsonmarginY||0))/(n.jsonres||1)+(n.ypan||0))/(n.scale||1)+(n.yoffset||0)},o=n.cosAngle||n.rotation&&Math.cos(n.rotation),s=n.sinAngle||n.rotation&&Math.sin(n.rotation),r=t.proj4(n.crs,"WGS84",n.rotation?{x:r.x*o+r.y*-s,y:r.x*s+r.y*o}:r);return{lat:r.y,lon:r.x}}e(21)},he.prototype.fromPointToLatLon=function(t){var i,n=this.mapTransforms;if(n){for(i in n)if(n.hasOwnProperty(i)&&n[i].hitZone&&O({x:t.x,y:-t.y},n[i].hitZone.coordinates[0]))return this.transformToLatLon(t,n[i]);return this.transformToLatLon(t,n["default"])}e(22)},he.prototype.fromLatLonToPoint=function(t){var i,n,r=this.mapTransforms;if(!r)return e(22),{x:0,y:null};for(i in r)if(r.hasOwnProperty(i)&&r[i].hitZone&&(n=this.transformFromLatLon(t,r[i]),O({x:n.x,y:-n.y},r[i].hitZone.coordinates[0])))return n;return this.transformFromLatLon(t,r["default"])},Q.geojson=function(t,e,i){var n=[],r=[],o=function(t){var e,i=t.length;for(r.push("M"),e=0;e<i;e++)1===e&&r.push("L"),r.push(t[e][0],-t[e][1])},e=e||"map";return It(t.features,function(t){var i,s=t.geometry,a=s.type,s=s.coordinates,t=t.properties;r=[],"map"===e||"mapbubble"===e?("Polygon"===a?(It(s,o),r.push("Z")):"MultiPolygon"===a&&(It(s,function(t){It(t,o)}),r.push("Z")),r.length&&(i={path:r})):"mapline"===e?("LineString"===a?o(s):"MultiLineString"===a&&It(s,o),r.length&&(i={path:r})):"mappoint"===e&&"Point"===a&&(i={x:s[0],y:-s[1]}),i&&n.push(Ht(i,{name:t.name||t.NAME,properties:t}))}),i&&t.copyrightShort&&(i.chart.mapCredits=y(i.chart.options.credits.mapText,{geojson:t}),i.chart.mapCreditsFull=y(i.chart.options.credits.mapTextFull,{geojson:t})),n},Ut(he.prototype,"showCredits",function(t,e){this.mapCredits&&(e.href=null),t.call(this,Q.merge(e,{text:e.text+(this.mapCredits||"")})),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}),Ht(z.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),z.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,style:{fontSize:"15px",fontWeight:"bold",textAlign:"center"},theme:{"stroke-width":1}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1},Q.splitPath=function(t){var e,t=t.replace(/([A-Za-z])/g," $1 "),t=t.replace(/^\s*/,"").replace(/\s*$/,""),t=t.split(/[ ,]+/);for(e=0;e<t.length;e++)/[a-zA-Z]/.test(t[e])||(t[e]=parseFloat(t[e]));return t},Q.maps={},Kt.prototype.symbols.topbutton=function(t,e,i,n,r){return L(t-1,e-1,i,n,r.r,r.r,0,0)},Kt.prototype.symbols.bottombutton=function(t,e,i,n,r){return L(t-1,e-1,i,n,0,0,r.r,r.r)},D===Zt&&It(["topbutton","bottombutton"],function(t){Zt.prototype.symbols[t]=Kt.prototype.symbols[t]}),Q.Map=Q.mapChart=function(t,e,i){var r,o="string"==typeof t||t.nodeName,s=arguments[o?1:0],a={endOnTick:!1,gridLineWidth:0,lineWidth:0,minPadding:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]},l=Q.getOptions().credits;return r=s.series,s.series=null,s=n({chart:{panning:"xy",type:"map"},credits:{mapText:Yt(l.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:Yt(l.mapTextFull,"{geojson.copyright}")},xAxis:a,yAxis:n(a,{reversed:!0})},s,{chart:{inverted:!1,alignTicks:!1}}),s.series=r,o?new he(t,s,i):new he(s,e)},z.plotOptions.heatmap=n(z.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}}),Et.heatmap=m(Et.scatter,n(fe,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,pointClass:m(ce,pe),supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;Et.scatter.prototype.init.apply(this,arguments),t=this.options,t.pointRange=Yt(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this.options,e=this.xAxis,i=this.yAxis,n=function(t,e,i){return Math.min(Math.max(e,t),i)};this.generatePoints(),It(this.points,function(r){var o=(t.colsize||1)/2,s=(t.rowsize||1)/2,a=n(Math.round(e.len-e.translate(r.x-o,0,1,0,1)),-e.len,2*e.len),o=n(Math.round(e.len-e.translate(r.x+o,0,1,0,1)),-e.len,2*e.len),l=n(Math.round(i.translate(r.y-s,0,1,0,1)),-i.len,2*i.len),s=n(Math.round(i.translate(r.y+s,0,1,0,1)),-i.len,2*i.len);r.plotX=r.clientX=(a+o)/2,r.plotY=(l+s)/2,r.shapeType="rect",r.shapeArgs={x:Math.min(a,o),y:Math.min(l,s),width:Math.abs(o-a),height:Math.abs(s-l)}}),this.translateColors(),this.chart.hasRendered&&It(this.points,function(t){t.shapeArgs.fill=t.options.color||t.color})},drawPoints:Et.column.prototype.drawPoints,animate:_t,getBox:_t,drawLegendSymbol:le.drawRectangle,alignDataLabel:Et.column.prototype.alignDataLabel,getExtremes:function(){ue.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,ue.prototype.getExtremes.call(this)}})),pe=Q.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,r=n&&{cursor:n},o=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;i!==I&&i!==e.hoverPoint&&i.onMouseOver(t)};It(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(It(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(r),R)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t=this,e=t.options,i=e.trackByArea,n=[].concat(i?t.areaPath:t.graphPath),r=n.length,o=t.chart,s=o.pointer,a=o.renderer,l=o.options.tooltip.snap,h=t.tracker,c=e.cursor,u=c&&{cursor:c},d=function(){o.hoverSeries!==t&&t.onMouseOver()},p="rgba(192,192,192,"+(bt?1e-4:.002)+")";if(r&&!i)for(c=r+1;c--;)"M"===n[c]&&n.splice(c+1,0,n[c+1]-l,n[c+2],"L"),(c&&"M"===n[c]||c===r)&&n.splice(c,0,"L",n[c-2]+l,n[c-1]);h?h.attr({d:n}):(t.tracker=a.path(n).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:p,fill:i?p:"none","stroke-width":e.lineWidth+(i?0:2*l),zIndex:2}).add(t.group),It([t.tracker,t.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(t){s.onTrackerMouseOut(t)}).css(u),R&&t.on("touchstart",d)}))}},Et.column&&($t.prototype.drawTracker=pe.drawTrackerPoint),Et.pie&&(Et.pie.prototype.drawTracker=pe.drawTrackerPoint),Et.scatter&&(Vt.prototype.drawTracker=pe.drawTrackerPoint),Ht(ae.prototype,{setItemEvents:function(t,e,i,n,r){var o=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:r),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Bt(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=f("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),zt(t.checkbox,"click",function(e){Bt(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),z.legend.itemStyle.cursor="pointer",Ht(he.prototype,{showResetZoom:function(){var t=this,e=z.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;Bt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,r=!1;!t||t.resetSelection?It(this.axes,function(t){e=t.zoom()}):It(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,o=i.isXAxis;(n[o?"zoomX":"zoomY"]||n[o?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&s(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(Yt(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&It(r,function(t){t.setState()}),It("xy"===e?[1,0]:[1],function(e){var e=n[e?"xAxis":"yAxis"][0],r=e.horiz,o=t[r?"chartX":"chartY"],r=r?"mouseDownX":"mouseDownY",s=n[r],a=(e.pointRange||0)/2,l=e.getExtremes(),h=e.toValue(s-o,!0)+a,a=e.toValue(s+e.len-o,!0)-a,s=s>o;e.series.length&&(s||h>ot(l.dataMin,l.min))&&(!s||a<rt(l.dataMax,l.max))&&(e.setExtremes(h,a,!1,!1,{trigger:"pan"}),i=!0),n[r]=o}),i&&n.redraw(!1),p(n.container,{cursor:"move"})}}),Ht(ce.prototype,{select:function(t,e){var i=this,n=i.series,r=n.chart,t=Yt(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[Lt(i,n.data)]=i.options,i.setState(t&&"select"),e||It(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[Lt(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this.series,n=i.chart,r=n.tooltip,o=n.hoverPoint;n.hoverSeries!==i&&i.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),r&&(!r.shared||i.noSharedTooltip)&&r.refresh(this,t),this.setState("hover"),!e)&&(n.hoverPoint=this)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&Lt(this,e)!==-1||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=n(this.series.options.point,this.options).events;this.events=e;for(t in e)zt(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t,e){var i,r=it(this.plotX),o=this.plotY,s=this.series,a=s.options.states,l=qt[s.type].marker&&s.options.marker,h=l&&!l.enabled,c=l&&l.states[t],u=c&&c.enabled===!1,d=s.stateMarkerGraphic,p=this.marker||{},f=s.chart,m=s.halo,t=t||"";i=this.pointAttr[t]||s.pointAttr[t],t===this.state&&!e||this.selected&&"select"!==t||a[t]&&a[t].enabled===!1||t&&(u||h&&c.enabled===!1)||t&&p.states&&p.states[t]&&p.states[t].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&i.r,this.graphic.attr(n(i,l?{x:r-l,y:o-l,width:2*l,height:2*l}:{})),d&&d.hide()):(t&&c&&(l=c.radius,p=p.symbol||s.symbol,d&&d.currentSymbol!==p&&(d=d.destroy()),d?d[e?"animate":"attr"]({x:r-l,y:o-l}):p&&(s.stateMarkerGraphic=d=f.renderer.symbol(p,r-l,o-l,2*l,2*l).attr(i).add(s.markerGroup),d.currentSymbol=p)),d&&(d[t&&f.isInsidePlot(r,o,f.inverted)?"show":"hide"](),d.element.point=this)),(r=a[t]&&a[t].halo)&&r.size?(m||(s.halo=m=f.renderer.path().add(f.seriesGroup)),m.attr(Ht({fill:this.color||s.color,"fill-opacity":r.opacity,zIndex:-1},r.attributes))[e?"animate":"attr"]({d:this.haloPath(r.size)})):m&&m.attr({d:[]}),this.state=t)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),r=i.inverted,o=Math.floor(this.plotX);return i.renderer.symbols.circle(n.translateX+(r?e.yAxis.len-this.plotY:o)-t,n.translateY+(r?e.xAxis.len-o:this.plotY)-t,2*t,2*t)}}),Ht(ue.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Bt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&Bt(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(t){var e=this.options,i=this.graph,n=e.states,r=e.lineWidth,e=0,t=t||"";if(this.state!==t&&(this.state=t,!(n[t]&&n[t].enabled===!1)&&(t&&(r=n[t].lineWidth||r+(n[t].lineWidthPlus||0)),i&&!i.dashstyle)))for(t={"stroke-width":r},i.attr(t);this["zoneGraph"+e];)this["zoneGraph"+e].attr(t),e+=1},setVisible:function(t,e){var i,n=this,r=n.chart,o=n.legendItem,s=r.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.userOptions.visible=t===I?!a:t)?"show":"hide",It(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&It(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),It(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),Bt(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===I?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Bt(this,t?"select":"unselect")},drawTracker:pe.drawTrackerGraph}),Ht(Q,{Color:C,Point:ce,Tick:E,Renderer:D,SVGElement:A,SVGRenderer:Kt,arrayMin:x,arrayMax:w,charts:Pt,correctFloat:_,dateFormat:j,error:e,format:y,pathAnim:void 0,getOptions:function(){return z},hasBidiBug:xt,isTouchDevice:yt,setOptions:function(t){return z=n(!0,z,t),T(),z},addEvent:zt,removeEvent:jt,createElement:f,discardElement:M,css:p,each:It,map:Nt,merge:n,splat:u,stableSort:b,extendClass:m,pInt:r,svg:bt,canvas:wt,vml:!bt&&!wt,product:"Highmaps",version:"4.2.5"}),Q})},1211:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},1212:function(t,e){(function(e){t.exports=e}).call(e,{})},1213:function(t,e,i){var n,r;window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",i=function(i){var n=t.length;return t.push(i),window.postMessage(e+n.toString(36),"*"),n};return window.addEventListener("message",function(i){if("string"==typeof i.data&&i.data.substr(0,e.length)===e){i.stopImmediatePropagation();var n=parseInt(i.data.substr(e.length),36);t[n]&&(t[n](),t[n]=void 0)}},!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},i}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}()),function(i){var o=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!e.getImageData&&(!!e.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),s=function(){if(o){for(var t,e,i=document.createElement("canvas").getContext("2d"),n=20;n;){if(i.font=n.toString(10)+"px sans-serif",i.measureText("Ｗ").width===t&&i.measureText("m").width===e)return n+1;t=i.measureText("Ｗ").width,e=i.measureText("m").width,n--}return 0}}(),a=function(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t},l=function(t,e){function i(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}if(o){Array.isArray(t)||(t=[t]),t.forEach(function(e,i){if("string"==typeof e){if(t[i]=document.getElementById(e),!t[i])throw"The element id specified is not found."}else if(!e.tagName&&!e.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var n={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(e)for(var r in e)r in n&&(n[r]=e[r]);if("function"!=typeof n.weightFactor){var l=n.weightFactor;n.weightFactor=function(t){return t*l}}if("function"!=typeof n.shape)switch(n.shape){case"circle":default:n.shape="circle";break;case"cardioid":n.shape=function(t){return 1-Math.sin(t)};break;case"diamond":case"square":n.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":n.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-upright":n.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":n.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":n.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}n.gridSize=Math.max(Math.floor(n.gridSize),4);
var h,c,u,d,p,f,m,g=n.gridSize,y=g-n.maskGapWidth,v=Math.abs(n.maxRotation-n.minRotation),b=Math.min(n.maxRotation,n.minRotation);switch(n.color){case"random-dark":m=function(){return i(10,50)};break;case"random-light":m=function(){return i(50,90)};break;default:"function"==typeof n.color&&(m=n.color)}var x=null;"function"==typeof n.classes&&(x=n.classes);var w,k=!1,M=[],_=function(t){var e,i,n=t.currentTarget,r=n.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,i=t.touches[0].clientY):(e=t.clientX,i=t.clientY);var o=e-r.left,s=i-r.top,a=Math.floor(o*(n.width/r.width||1)/g),l=Math.floor(s*(n.height/r.height||1)/g);return M[a][l]},P=function(t){var e=_(t);if(w!==e)return w=e,e?void n.hover(e.item,e.dimension,t):void n.hover(void 0,void 0,t)},S=function(t){var e=_(t);e&&(n.click(e.item,e.dimension,t),t.preventDefault())},T=[],C=function(t){if(T[t])return T[t];var e=8*t,i=e,r=[];for(0===t&&r.push([d[0],d[1],0]);i--;){var o=1;"circle"!==n.shape&&(o=n.shape(i/e*2*Math.PI)),r.push([d[0]+t*o*Math.cos(-i/e*2*Math.PI),d[1]+t*o*Math.sin(-i/e*2*Math.PI)*n.ellipticity,i/e*2*Math.PI])}return T[t]=r,r},A=function(){return n.abortThreshold>0&&(new Date).getTime()-f>n.abortThreshold},E=function(){return 0===n.rotateRatio?0:Math.random()>n.rotateRatio?0:0===v?b:b+Math.random()*v},O=function(t,e,i){var r=!1,o=n.weightFactor(e);if(o<=n.minSize)return!1;var a=1;o<s&&(a=function(){for(var t=2;t*o<s;)t+=2;return t}());var l=document.createElement("canvas"),h=l.getContext("2d",{willReadFrequently:!0});h.font=n.fontWeight+" "+(o*a).toString(10)+"px "+n.fontFamily;var c=h.measureText(t).width/a,u=Math.max(o*a,h.measureText("m").width,h.measureText("Ｗ").width)/a,d=c+2*u,p=3*u,f=Math.ceil(d/g),m=Math.ceil(p/g);d=f*g,p=m*g;var y=-c/2,v=.4*-u,b=Math.ceil((d*Math.abs(Math.sin(i))+p*Math.abs(Math.cos(i)))/g),x=Math.ceil((d*Math.abs(Math.cos(i))+p*Math.abs(Math.sin(i)))/g),w=x*g,k=b*g;l.setAttribute("width",w),l.setAttribute("height",k),r&&(document.body.appendChild(l),h.save()),h.scale(1/a,1/a),h.translate(w*a/2,k*a/2),h.rotate(-i),h.font=n.fontWeight+" "+(o*a).toString(10)+"px "+n.fontFamily,h.fillStyle="#000",h.textBaseline="middle",h.fillText(t,y*a,(v+.5*o)*a);var M=h.getImageData(0,0,w,k).data;if(A())return!1;r&&(h.strokeRect(y*a,v,c*a,u*a),h.restore());for(var _,P,S,T=[],C=x,E=[b/2,x/2,b/2,x/2];C--;)for(_=b;_--;){S=g;t:{for(;S--;)for(P=g;P--;)if(M[4*((_*g+S)*w+(C*g+P))+3]){T.push([C,_]),C<E[3]&&(E[3]=C),C>E[1]&&(E[1]=C),_<E[0]&&(E[0]=_),_>E[2]&&(E[2]=_),r&&(h.fillStyle="rgba(255, 0, 0, 0.5)",h.fillRect(C*g,_*g,g-.5,g-.5));break t}r&&(h.fillStyle="rgba(0, 0, 255, 0.5)",h.fillRect(C*g,_*g,g-.5,g-.5))}}return r&&(h.fillStyle="rgba(0, 255, 0, 0.5)",h.fillRect(E[3]*g,E[0]*g,(E[1]-E[3]+1)*g,(E[2]-E[0]+1)*g)),{mu:a,occupied:T,bounds:E,gw:x,gh:b,fillTextOffsetX:y,fillTextOffsetY:v,fillTextWidth:c,fillTextHeight:u,fontSize:o}},L=function(t,e,i,r,o){for(var s=o.length;s--;){var a=t+o[s][0],l=e+o[s][1];if(a>=c||l>=u||a<0||l<0){if(!n.drawOutOfBound)return!1}else if(!h[a][l])return!1}return!0},I=function(e,i,r,o,s,a,l,h,c){var u,d=r.fontSize;u=m?m(o,s,d,a,l):n.color;var p;p=x?x(o,s,d,a,l):n.classes;var f,y=r.bounds;f={x:(e+y[3])*g,y:(i+y[0])*g,w:(y[1]-y[3]+1)*g,h:(y[2]-y[0]+1)*g},t.forEach(function(t){if(t.getContext){var s=t.getContext("2d"),a=r.mu;s.save(),s.scale(1/a,1/a),s.font=n.fontWeight+" "+(d*a).toString(10)+"px "+n.fontFamily,s.fillStyle=u,s.translate((e+r.gw/2)*g*a,(i+r.gh/2)*g*a),0!==h&&s.rotate(-h),s.textBaseline="middle",s.fillText(o,r.fillTextOffsetX*a,(r.fillTextOffsetY+.5*d)*a),s.restore()}else{var l=document.createElement("span"),f="";f="rotate("+-h/Math.PI*180+"deg) ",1!==r.mu&&(f+="translateX(-"+r.fillTextWidth/4+"px) scale("+1/r.mu+")");var m={position:"absolute",display:"block",font:n.fontWeight+" "+d*r.mu+"px "+n.fontFamily,left:(e+r.gw/2)*g+r.fillTextOffsetX+"px",top:(i+r.gh/2)*g+r.fillTextOffsetY+"px",width:r.fillTextWidth+"px",height:r.fillTextHeight+"px",lineHeight:d+"px",whiteSpace:"nowrap",transform:f,webkitTransform:f,msTransform:f,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};u&&(m.color=u),l.textContent=o;for(var y in m)l.style[y]=m[y];if(c)for(var v in c)l.setAttribute(v,c[v]);p&&(l.className+=p),t.appendChild(l)}})},D=function(e,i,n,r,o){if(!(e>=c||i>=u||e<0||i<0)){if(h[e][i]=!1,n){var s=t[0].getContext("2d");s.fillRect(e*g,i*g,y,y)}k&&(M[e][i]={item:o,dimension:r})}},R=function(e,i,r,o,s,a){var l,h=s.occupied,d=n.drawMask;d&&(l=t[0].getContext("2d"),l.save(),l.fillStyle=n.maskColor);var p;if(k){var f=s.bounds;p={x:(e+f[3])*g,y:(i+f[0])*g,w:(f[1]-f[3]+1)*g,h:(f[2]-f[0]+1)*g}}for(var m=h.length;m--;){var y=e+h[m][0],v=i+h[m][1];y>=c||v>=u||y<0||v<0||D(y,v,d,p,a)}d&&l.restore()},N=function(t){var e,i,r;Array.isArray(t)?(e=t[0],i=t[1]):(e=t.word,i=t.weight,r=t.attributes);var o=E(),s=O(e,i,o);if(!s)return!1;if(A())return!1;if(!n.drawOutOfBound){var l=s.bounds;if(l[1]-l[3]+1>c||l[2]-l[0]+1>u)return!1}for(var h=p+1,d=function(n){var a=Math.floor(n[0]-s.gw/2),l=Math.floor(n[1]-s.gh/2),c=s.gw,u=s.gh;return!!L(a,l,c,u,s.occupied)&&(I(a,l,s,e,i,p-h,n[2],o,r),R(a,l,c,u,s,t),!0)};h--;){var f=C(p-h);n.shuffle&&(f=[].concat(f),a(f));var m=f.some(d);if(m)return!0}return!1},z=function(e,i,n){return i?!t.some(function(t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!0,i,n||{}),!t.dispatchEvent(r)},this):void t.forEach(function(t){var r=document.createEvent("CustomEvent");r.initCustomEvent(e,!0,i,n||{}),t.dispatchEvent(r)},this)},j=function(){var e=t[0];if(e.getContext)c=Math.ceil(e.width/g),u=Math.ceil(e.height/g);else{var i=e.getBoundingClientRect();c=Math.ceil(i.width/g),u=Math.ceil(i.height/g)}if(z("wordcloudstart",!0)){d=n.origin?[n.origin[0]/g,n.origin[1]/g]:[c/2,u/2],p=Math.floor(Math.sqrt(c*c+u*u)),h=[];var r,o,s;if(!e.getContext||n.clearCanvas)for(t.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=n.backgroundColor,e.clearRect(0,0,c*(g+1),u*(g+1)),e.fillRect(0,0,c*(g+1),u*(g+1))}else t.textContent="",t.style.backgroundColor=n.backgroundColor}),r=c;r--;)for(h[r]=[],o=u;o--;)h[r][o]=!0;else{var a=document.createElement("canvas").getContext("2d");a.fillStyle=n.backgroundColor,a.fillRect(0,0,1,1);var l=a.getImageData(0,0,1,1).data,m=e.getContext("2d").getImageData(0,0,c*g,u*g).data;r=c;for(var y,v;r--;)for(h[r]=[],o=u;o--;){v=g;t:for(;v--;)for(y=g;y--;)for(s=4;s--;)if(m[4*((o*g+v)*c*g+(r*g+y))+s]!==l[s]){h[r][o]=!1;break t}h[r][o]!==!1&&(h[r][o]=!0)}m=a=l=void 0}if(n.hover||n.click){for(k=!0,r=c+1;r--;)M[r]=[];n.hover&&e.addEventListener("mousemove",P),n.click&&(e.addEventListener("click",S),e.addEventListener("touchstart",S),e.addEventListener("touchend",function(t){t.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function O(){e.removeEventListener("wordcloudstart",O),e.removeEventListener("mousemove",P),e.removeEventListener("click",S),w=void 0})}s=0;var b,x;0!==n.wait?(b=window.setTimeout,x=window.clearTimeout):(b=window.setImmediate,x=window.clearImmediate);var _=function(e,i){t.forEach(function(t){t.addEventListener(e,i)},this)},T=function(e,i){t.forEach(function(t){t.removeEventListener(e,i)},this)},C=function L(){T("wordcloudstart",L),x(E)};_("wordcloudstart",C);var E=b(function I(){if(s>=n.list.length)return x(E),z("wordcloudstop",!1),void T("wordcloudstart",C);f=(new Date).getTime();var t=N(n.list[s]),e=!z("wordclouddrawn",!0,{item:n.list[s],drawn:t});return A()||e?(x(E),n.abort(),z("wordcloudabort",!1),z("wordcloudstop",!1),void T("wordcloudstart",C)):(s++,void(E=b(I,n.wait)))},n.wait)}};j()}};l.isSupported=o,l.minFontSize=s,n=[],r=function(){return l}.apply(e,n),!(void 0!==r&&(t.exports=r))}(this)}});
//# sourceMappingURL=5.ProfileReport.chunk.e510c427eea07ba90569.js.map